function FW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o1={exports:{}},Yp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM;function qW(){if(NM)return Yp;NM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Yp.Fragment=e,Yp.jsx=n,Yp.jsxs=n,Yp}var jM;function HW(){return jM||(jM=1,o1.exports=qW()),o1.exports}var m=HW(),l1={exports:{}},Xp={},c1={exports:{}},u1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM;function GW(){return IM||(IM=1,(function(t){function e(X,re){var ee=X.length;X.push(re);e:for(;0<ee;){var le=ee-1>>>1,oe=X[le];if(0<i(oe,re))X[le]=re,X[ee]=oe,ee=le;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var re=X[0],ee=X.pop();if(ee!==re){X[0]=ee;e:for(var le=0,oe=X.length,Q=oe>>>1;le<Q;){var ae=2*(le+1)-1,ce=X[ae],fe=ae+1,xe=X[fe];if(0>i(ce,ee))fe<oe&&0>i(xe,ce)?(X[le]=xe,X[fe]=ee,le=fe):(X[le]=ce,X[ae]=ee,le=ae);else if(fe<oe&&0>i(xe,ee))X[le]=xe,X[fe]=ee,le=fe;else break e}}return re}function i(X,re){var ee=X.sortIndex-re.sortIndex;return ee!==0?ee:X.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],f=[],p=1,g=null,b=3,w=!1,P=!1,T=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function $(X){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=X)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function I(X){if(T=!1,$(X),!P)if(n(d)!==null)P=!0,B||(B=!0,H());else{var re=n(f);re!==null&&de(I,re.startTime-X)}}var B=!1,N=-1,j=5,V=-1;function K(){return A?!0:!(t.unstable_now()-V<j)}function q(){if(A=!1,B){var X=t.unstable_now();V=X;var re=!0;try{e:{P=!1,T&&(T=!1,D(N),N=-1),w=!0;var ee=b;try{t:{for($(X),g=n(d);g!==null&&!(g.expirationTime>X&&K());){var le=g.callback;if(typeof le=="function"){g.callback=null,b=g.priorityLevel;var oe=le(g.expirationTime<=X);if(X=t.unstable_now(),typeof oe=="function"){g.callback=oe,$(X),re=!0;break t}g===n(d)&&r(d),$(X)}else r(d);g=n(d)}if(g!==null)re=!0;else{var Q=n(f);Q!==null&&de(I,Q.startTime-X),re=!1}}break e}finally{g=null,b=ee,w=!1}re=void 0}}finally{re?H():B=!1}}}var H;if(typeof R=="function")H=function(){R(q)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=q,H=function(){ie.postMessage(null)}}else H=function(){C(q,0)};function de(X,re){N=C(function(){X(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(X){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var ee=b;b=re;try{return X()}finally{b=ee}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=b;b=X;try{return re()}finally{b=ee}},t.unstable_scheduleCallback=function(X,re,ee){var le=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,X){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,X={id:p++,callback:re,priorityLevel:X,startTime:ee,expirationTime:oe,sortIndex:-1},ee>le?(X.sortIndex=ee,e(f,X),n(d)===null&&X===n(f)&&(T?(D(N),N=-1):T=!0,de(I,ee-le))):(X.sortIndex=oe,e(d,X),P||w||(P=!0,B||(B=!0,H()))),X},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(X){var re=b;return function(){var ee=b;b=re;try{return X.apply(this,arguments)}finally{b=ee}}}})(u1)),u1}var RM;function KW(){return RM||(RM=1,c1.exports=GW()),c1.exports}var d1={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function WW(){if(MM)return Et;MM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(Q){return Q===null||typeof Q!="object"?null:(Q=b&&Q[b]||Q["@@iterator"],typeof Q=="function"?Q:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function C(Q,ae,ce){this.props=Q,this.context=ae,this.refs=A,this.updater=ce||P}C.prototype.isReactComponent={},C.prototype.setState=function(Q,ae){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ae,"setState")},C.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function D(){}D.prototype=C.prototype;function R(Q,ae,ce){this.props=Q,this.context=ae,this.refs=A,this.updater=ce||P}var $=R.prototype=new D;$.constructor=R,T($,C.prototype),$.isPureReactComponent=!0;var I=Array.isArray;function B(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(Q,ae,ce){var fe=ce.ref;return{$$typeof:t,type:Q,key:ae,ref:fe!==void 0?fe:null,props:ce}}function K(Q,ae){return V(Q.type,ae,Q.props)}function q(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function H(Q){var ae={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(ce){return ae[ce]})}var z=/\/+/g;function ie(Q,ae){return typeof Q=="object"&&Q!==null&&Q.key!=null?H(""+Q.key):ae.toString(36)}function de(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(B,B):(Q.status="pending",Q.then(function(ae){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ae)},function(ae){Q.status==="pending"&&(Q.status="rejected",Q.reason=ae)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function X(Q,ae,ce,fe,xe){var Ce=typeof Q;(Ce==="undefined"||Ce==="boolean")&&(Q=null);var Oe=!1;if(Q===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(Q.$$typeof){case t:case e:Oe=!0;break;case p:return Oe=Q._init,X(Oe(Q._payload),ae,ce,fe,xe)}}if(Oe)return xe=xe(Q),Oe=fe===""?"."+ie(Q,0):fe,I(xe)?(ce="",Oe!=null&&(ce=Oe.replace(z,"$&/")+"/"),X(xe,ae,ce,"",function(Be){return Be})):xe!=null&&(q(xe)&&(xe=K(xe,ce+(xe.key==null||Q&&Q.key===xe.key?"":(""+xe.key).replace(z,"$&/")+"/")+Oe)),ae.push(xe)),1;Oe=0;var we=fe===""?".":fe+":";if(I(Q))for(var pe=0;pe<Q.length;pe++)fe=Q[pe],Ce=we+ie(fe,pe),Oe+=X(fe,ae,ce,Ce,xe);else if(pe=w(Q),typeof pe=="function")for(Q=pe.call(Q),pe=0;!(fe=Q.next()).done;)fe=fe.value,Ce=we+ie(fe,pe++),Oe+=X(fe,ae,ce,Ce,xe);else if(Ce==="object"){if(typeof Q.then=="function")return X(de(Q),ae,ce,fe,xe);throw ae=String(Q),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function re(Q,ae,ce){if(Q==null)return Q;var fe=[],xe=0;return X(Q,fe,"","",function(Ce){return ae.call(ce,Ce,xe++)}),fe}function ee(Q){if(Q._status===-1){var ae=Q._result;ae=ae(),ae.then(function(ce){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=ce)},function(ce){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=ce)}),Q._status===-1&&(Q._status=0,Q._result=ae)}if(Q._status===1)return Q._result.default;throw Q._result}var le=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},oe={map:re,forEach:function(Q,ae,ce){re(Q,function(){ae.apply(this,arguments)},ce)},count:function(Q){var ae=0;return re(Q,function(){ae++}),ae},toArray:function(Q){return re(Q,function(ae){return ae})||[]},only:function(Q){if(!q(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return Et.Activity=g,Et.Children=oe,Et.Component=C,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=R,Et.StrictMode=r,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return N.H.useMemoCache(Q)}},Et.cache=function(Q){return function(){return Q.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(Q,ae,ce){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var fe=T({},Q.props),xe=Q.key;if(ae!=null)for(Ce in ae.key!==void 0&&(xe=""+ae.key),ae)!j.call(ae,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ae.ref===void 0||(fe[Ce]=ae[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=ce;else if(1<Ce){for(var Oe=Array(Ce),we=0;we<Ce;we++)Oe[we]=arguments[we+2];fe.children=Oe}return V(Q.type,xe,fe)},Et.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Et.createElement=function(Q,ae,ce){var fe,xe={},Ce=null;if(ae!=null)for(fe in ae.key!==void 0&&(Ce=""+ae.key),ae)j.call(ae,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(xe[fe]=ae[fe]);var Oe=arguments.length-2;if(Oe===1)xe.children=ce;else if(1<Oe){for(var we=Array(Oe),pe=0;pe<Oe;pe++)we[pe]=arguments[pe+2];xe.children=we}if(Q&&Q.defaultProps)for(fe in Oe=Q.defaultProps,Oe)xe[fe]===void 0&&(xe[fe]=Oe[fe]);return V(Q,Ce,xe)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(Q){return{$$typeof:c,render:Q}},Et.isValidElement=q,Et.lazy=function(Q){return{$$typeof:p,_payload:{_status:-1,_result:Q},_init:ee}},Et.memo=function(Q,ae){return{$$typeof:f,type:Q,compare:ae===void 0?null:ae}},Et.startTransition=function(Q){var ae=N.T,ce={};N.T=ce;try{var fe=Q(),xe=N.S;xe!==null&&xe(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(B,le)}catch(Ce){le(Ce)}finally{ae!==null&&ce.types!==null&&(ae.types=ce.types),N.T=ae}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(Q){return N.H.use(Q)},Et.useActionState=function(Q,ae,ce){return N.H.useActionState(Q,ae,ce)},Et.useCallback=function(Q,ae){return N.H.useCallback(Q,ae)},Et.useContext=function(Q){return N.H.useContext(Q)},Et.useDebugValue=function(){},Et.useDeferredValue=function(Q,ae){return N.H.useDeferredValue(Q,ae)},Et.useEffect=function(Q,ae){return N.H.useEffect(Q,ae)},Et.useEffectEvent=function(Q){return N.H.useEffectEvent(Q)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(Q,ae,ce){return N.H.useImperativeHandle(Q,ae,ce)},Et.useInsertionEffect=function(Q,ae){return N.H.useInsertionEffect(Q,ae)},Et.useLayoutEffect=function(Q,ae){return N.H.useLayoutEffect(Q,ae)},Et.useMemo=function(Q,ae){return N.H.useMemo(Q,ae)},Et.useOptimistic=function(Q,ae){return N.H.useOptimistic(Q,ae)},Et.useReducer=function(Q,ae,ce){return N.H.useReducer(Q,ae,ce)},Et.useRef=function(Q){return N.H.useRef(Q)},Et.useState=function(Q){return N.H.useState(Q)},Et.useSyncExternalStore=function(Q,ae,ce){return N.H.useSyncExternalStore(Q,ae,ce)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.0",Et}var DM;function ex(){return DM||(DM=1,d1.exports=WW()),d1.exports}var f1={exports:{}},qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kM;function ZW(){if(kM)return qi;kM=1;var t=ex();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},qi.flushSync=function(d){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=f,r.p=p,r.d.f()}},qi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},qi.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},qi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},qi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},qi.requestFormReset=function(d){r.d.r(d)},qi.unstable_batchedUpdates=function(d,f){return d(f)},qi.useFormState=function(d,f,p){return o.H.useFormState(d,f,p)},qi.useFormStatus=function(){return o.H.useHostTransitionStatus()},qi.version="19.2.0",qi}var LM;function gU(){if(LM)return f1.exports;LM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f1.exports=ZW(),f1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VM;function YW(){if(VM)return Xp;VM=1;var t=KW(),e=ex(),n=gU();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,v=l;;){var S=h.return;if(S===null)break;var E=S.alternate;if(E===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===E.child){for(E=S.child;E;){if(E===h)return d(S),s;if(E===v)return d(S),l;E=E.sibling}throw Error(r(188))}if(h.return!==v.return)h=S,v=E;else{for(var F=!1,Y=S.child;Y;){if(Y===h){F=!0,h=S,v=E;break}if(Y===v){F=!0,v=S,h=E;break}Y=Y.sibling}if(!F){for(Y=E.child;Y;){if(Y===h){F=!0,h=E,v=S;break}if(Y===v){F=!0,v=E,h=S;break}Y=Y.sibling}if(!F)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var z=Symbol.for("react.client.reference");function ie(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case P:return"Portal";case R:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case $:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return l=s.displayName||null,l!==null?l:ie(s.type)||"Memo";case j:l=s._payload,s=s._init;try{return ie(s(l))}catch{}}return null}var de=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},le=[],oe=-1;function Q(s){return{current:s}}function ae(s){0>oe||(s.current=le[oe],le[oe]=null,oe--)}function ce(s,l){oe++,le[oe]=s.current,s.current=l}var fe=Q(null),xe=Q(null),Ce=Q(null),Oe=Q(null);function we(s,l){switch(ce(Ce,l),ce(xe,s),ce(fe,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?JR(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=JR(l),s=eM(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(fe),ce(fe,s)}function pe(){ae(fe),ae(xe),ae(Ce)}function Be(s){s.memoizedState!==null&&ce(Oe,s);var l=fe.current,h=eM(l,s.type);l!==h&&(ce(xe,s),ce(fe,h))}function $e(s){xe.current===s&&(ae(fe),ae(xe)),Oe.current===s&&(ae(Oe),Gp._currentValue=ee)}var be,Me;function Pe(s){if(be===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);be=l&&l[1]||"",Me=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+s+Me}var je=!1;function Fe(s,l){if(!s||je)return"";je=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(Ne){var Ae=Ne}Reflect.construct(s,[],Le)}else{try{Le.call()}catch(Ne){Ae=Ne}s.call(Le.prototype)}}else{try{throw Error()}catch(Ne){Ae=Ne}(Le=s())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(Ne){if(Ne&&Ae&&typeof Ne.stack=="string")return[Ne.stack,Ae.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=v.DetermineComponentFrameRoot(),F=E[0],Y=E[1];if(F&&Y){var ue=F.split(`
`),Se=Y.split(`
`);for(S=v=0;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Se.length&&!Se[S].includes("DetermineComponentFrameRoot");)S++;if(v===ue.length||S===Se.length)for(v=ue.length-1,S=Se.length-1;1<=v&&0<=S&&ue[v]!==Se[S];)S--;for(;1<=v&&0<=S;v--,S--)if(ue[v]!==Se[S]){if(v!==1||S!==1)do if(v--,S--,0>S||ue[v]!==Se[S]){var Ie=`
`+ue[v].replace(" at new "," at ");return s.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",s.displayName)),Ie}while(1<=v&&0<=S);break}}}finally{je=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Pe(h):""}function We(s,l){switch(s.tag){case 26:case 27:case 5:return Pe(s.type);case 16:return Pe("Lazy");case 13:return s.child!==l&&l!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Fe(s.type,!1);case 11:return Fe(s.type.render,!1);case 1:return Fe(s.type,!0);case 31:return Pe("Activity");default:return""}}function ct(s){try{var l="",h=null;do l+=We(s,h),h=s,s=s.return;while(s);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var He=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,mt=t.unstable_shouldYield,an=t.unstable_requestPaint,_n=t.unstable_now,Vr=t.unstable_getCurrentPriorityLevel,Un=t.unstable_ImmediatePriority,Ii=t.unstable_UserBlockingPriority,Rn=t.unstable_NormalPriority,ga=t.unstable_LowPriority,ti=t.unstable_IdlePriority,ya=t.log,Ri=t.unstable_setDisableYieldValue,vr=null,Mn=null;function Ar(s){if(typeof ya=="function"&&Ri(s),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(vr,s)}catch{}}var tn=Math.clz32?Math.clz32:Br,yi=Math.log,va=Math.LN2;function Br(s){return s>>>=0,s===0?32:31-(yi(s)/va|0)|0}var er=256,zr=262144,On=4194304;function Mi(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function dt(s,l,h){var v=s.pendingLanes;if(v===0)return 0;var S=0,E=s.suspendedLanes,F=s.pingedLanes;s=s.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~E,v!==0?S=Mi(v):(F&=Y,F!==0?S=Mi(F):h||(h=Y&~s,h!==0&&(S=Mi(h))))):(Y=v&~E,Y!==0?S=Mi(Y):F!==0?S=Mi(F):h||(h=v&~s,h!==0&&(S=Mi(h)))),S===0?0:l!==0&&l!==S&&(l&E)===0&&(E=S&-S,h=l&-l,E>=h||E===32&&(h&4194048)!==0)?l:S}function Xt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Gn(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(){var s=On;return On<<=1,(On&62914560)===0&&(On=4194304),s}function Ur(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function nn(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Er(s,l,h,v,S,E){var F=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var Y=s.entanglements,ue=s.expirationTimes,Se=s.hiddenUpdates;for(h=F&~h;0<h;){var Ie=31-tn(h),Le=1<<Ie;Y[Ie]=0,ue[Ie]=-1;var Ae=Se[Ie];if(Ae!==null)for(Se[Ie]=null,Ie=0;Ie<Ae.length;Ie++){var Ne=Ae[Ie];Ne!==null&&(Ne.lane&=-536870913)}h&=~Le}v!==0&&ni(s,v,0),E!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=E&~(F&~l))}function ni(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var v=31-tn(l);s.entangledLanes|=l,s.entanglements[v]=s.entanglements[v]|1073741824|h&261930}function Wn(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-tn(h),S=1<<v;S&l|s[v]&l&&(s[v]|=l),h&=~S}}function tr(s,l){var h=l&-l;return h=(h&42)!==0?1:Dn(h),(h&(s.suspendedLanes|l))!==0?0:h}function Dn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Qe(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ls(){var s=re.p;return s!==0?s:(s=window.event,s===void 0?32:SM(s.type))}function ri(s,l){var h=re.p;try{return re.p=s,l()}finally{re.p=h}}var Di=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Di,Zn="__reactProps$"+Di,$r="__reactContainer$"+Di,vi="__reactEvents$"+Di,nr="__reactListeners$"+Di,ba="__reactHandles$"+Di,cs="__reactResources$"+Di,ki="__reactMarker$"+Di;function us(s){delete s[Cn],delete s[Zn],delete s[vi],delete s[nr],delete s[ba]}function Li(s){var l=s[Cn];if(l)return l;for(var h=s.parentNode;h;){if(l=h[$r]||h[Cn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=oM(s);s!==null;){if(h=s[Cn])return h;s=oM(s)}return l}s=h,h=s.parentNode}return null}function ii(s){if(s=s[Cn]||s[$r]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function br(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function bi(s){var l=s[cs];return l||(l=s[cs]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function $n(s){s[ki]=!0}var $s=new Set,po={};function lr(s,l){xi(s,l),xi(s+"Capture",l)}function xi(s,l){for(po[s]=l,s=0;s<l.length;s++)$s.add(l[s])}var ds=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},rl={};function fs(s){return He.call(rl,s)?!0:He.call(mo,s)?!1:ds.test(s)?rl[s]=!0:(mo[s]=!0,!1)}function Dt(s,l,h){if(fs(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function Lt(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function kn(s,l,h,v){if(v===null)s.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+v)}}function wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Vi(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hs(s,l,h){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,E=v.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return S.call(this)},set:function(F){h=""+F,E.call(this,F)}}),Object.defineProperty(s,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function et(s){if(!s._valueTracker){var l=Vi(s)?"checked":"value";s._valueTracker=hs(s,l,""+s[l])}}function sn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=Vi(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function Ji(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ea=/[\n"\\]/g;function Sn(s){return s.replace(ea,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Fs(s,l,h,v,S,E,F,Y){s.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.type=F:s.removeAttribute("type"),l!=null?F==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+wn(l)):s.value!==""+wn(l)&&(s.value=""+wn(l)):F!=="submit"&&F!=="reset"||s.removeAttribute("value"),l!=null?Bi(s,F,wn(l)):h!=null?Bi(s,F,wn(h)):v!=null&&s.removeAttribute("value"),S==null&&E!=null&&(s.defaultChecked=!!E),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+wn(Y):s.removeAttribute("name")}function go(s,l,h,v,S,E,F,Y){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){et(s);return}h=h!=null?""+wn(h):"",l=l!=null?""+wn(l):h,Y||l===s.value||(s.value=l),s.defaultValue=l}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=Y?s.checked:!!v,s.defaultChecked=!!v,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(s.name=F),et(s)}function Bi(s,l,h){l==="number"&&Ji(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function mn(s,l,h,v){if(s=s.options,l){l={};for(var S=0;S<h.length;S++)l["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=l.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&v&&(s[h].defaultSelected=!0)}else{for(h=""+wn(h),l=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,v&&(s[S].defaultSelected=!0);return}l!==null||s[S].disabled||(l=s[S])}l!==null&&(l.selected=!0)}}function ta(s,l,h){if(l!=null&&(l=""+wn(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+wn(h):""}function _i(s,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(r(92));if(de(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=wn(l),s.defaultValue=h,v=s.textContent,v===h&&v!==""&&v!==null&&(s.value=v),et(s)}function rr(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xr(s,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":v?s.setProperty(l,h):typeof h!="number"||h===0||yo.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function qs(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var S in l)v=l[S],l.hasOwnProperty(S)&&h[S]!==v&&xr(s,S,v)}else for(var E in l)l.hasOwnProperty(E)&&xr(s,E,l[E])}function na(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(s){return ra.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Fr(){}var La=null;function ai(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ps=null,ut=null;function Pr(s){var l=ii(s);if(l&&(s=l.stateNode)){var h=s[Zn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Fs(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Sn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var S=v[Zn]||null;if(!S)throw Error(r(90));Fs(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===s.form&&sn(v)}break e;case"textarea":ta(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&mn(s,!!h.multiple,l,!1)}}}var Zt=!1;function Va(s,l,h){if(Zt)return s(l,h);Zt=!0;try{var v=s(l);return v}finally{if(Zt=!1,(ps!==null||ut!==null)&&(nv(),ps&&(l=ps,s=ut,ut=ps=null,Pr(l),s)))for(l=0;l<s.length;l++)Pr(s[l])}}function wi(s,l){var h=s.stateNode;if(h===null)return null;var v=h[Zn]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(si)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{Ba=!1}var zi=null,te=null,me=null;function qe(){if(me)return me;var s,l=te,h=l.length,v,S="value"in zi?zi.value:zi.textContent,E=S.length;for(s=0;s<h&&l[s]===S[s];s++);var F=h-s;for(v=1;v<=F&&l[h-v]===S[E-v];v++);return me=S.slice(s,1<v?1-v:void 0)}function Je(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function yt(){return!0}function At(){return!1}function rn(s){function l(h,v,S,E,F){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(h=s[Y],this[Y]=h?h(E):E[Y]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?yt:At,this.isPropagationStopped=At,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=yt)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=yt)},persist:function(){},isPersistent:yt}),l}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=rn(Yn),za=g({},Yn,{view:0,detail:0}),kt=rn(za),vo,oi,Ui,il=g({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ui&&(Ui&&s.type==="mousemove"?(vo=s.screenX-Ui.screenX,oi=s.screenY-Ui.screenY):oi=vo=0,Ui=s),vo)},movementY:function(s){return"movementY"in s?s.movementY:oi}}),vu=rn(il),Gs=g({},il,{dataTransfer:0}),Kd=rn(Gs),bu=g({},za,{relatedTarget:0}),al=rn(bu),xu=g({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=rn(xu),rc=g({},Yn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),aa=rn(rc),Wd=g({},Yn,{data:0}),Ua=rn(Wd),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=wu[s])?!!l[s]:!1}function bo(){return ic}var li=g({},za,{key:function(s){if(s.key){var l=$a[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Je(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_u[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(s){return s.type==="keypress"?Je(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Je(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Su=rn(li),Zd=g({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=rn(Zd),x=g({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),M=rn(x),G=g({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=rn(G),ve=g({},il,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ee=rn(ve),Ke=g({},Yn,{newState:0,oldState:0}),_t=rn(Ke),Qt=[9,13,27,32],Jt=si&&"CompositionEvent"in window,Nn=null;si&&"documentMode"in document&&(Nn=document.documentMode);var xa=si&&"TextEvent"in window&&!Nn,_a=si&&(!Jt||Nn&&8<Nn&&11>=Nn),sa=" ",Fa=!1;function sl(s,l){switch(s){case"keyup":return Qt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ol(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ac=!1;function qa(s,l){switch(s){case"compositionend":return ol(l);case"keypress":return l.which!==32?null:(Fa=!0,sa);case"textInput":return s=l.data,s===sa&&Fa?null:s;default:return null}}function sc(s,l){if(ac)return s==="compositionend"||!Jt&&sl(s,l)?(s=qe(),me=te=zi=null,ac=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _a&&l.locale!=="ko"?null:l.data;default:return null}}var A_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ms(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!A_[s.type]:l==="textarea"}function by(s,l,h,v){ps?ut?ut.push(v):ut=[v]:ps=v,l=cv(l,"onChange"),0<l.length&&(h=new qr("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var gs=null,Tu=null;function Au(s){KR(s,0)}function Eu(s){var l=br(s);if(sn(l))return s}function Pu(s,l){if(s==="change")return l}var xy=!1;if(si){var ys;if(si){var oc="oninput"in document;if(!oc){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),oc=typeof _y.oninput=="function"}ys=oc}else ys=!1;xy=ys&&(!document.documentMode||9<document.documentMode)}function Yd(){gs&&(gs.detachEvent("onpropertychange",wy),Tu=gs=null)}function wy(s){if(s.propertyName==="value"&&Eu(Tu)){var l=[];by(l,Tu,s,ai(s)),Va(Au,l)}}function Ws(s,l,h){s==="focusin"?(Yd(),gs=l,Tu=h,gs.attachEvent("onpropertychange",wy)):s==="focusout"&&Yd()}function E_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Eu(Tu)}function lc(s,l){if(s==="click")return Eu(l)}function P_(s,l){if(s==="input"||s==="change")return Eu(l)}function Zs(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ci=typeof Object.is=="function"?Object.is:Zs;function cc(s,l){if(ci(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!He.call(l,S)||!ci(s[S],l[S]))return!1}return!0}function Xd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ou(s,l){var h=Xd(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Xd(h)}}function Qd(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Qd(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Cu(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ji(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Ji(s.document)}return l}function xo(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Jd=si&&"documentMode"in document&&11>=document.documentMode,_o=null,ef=null,Nu=null,uc=!1;function Sy(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;uc||_o==null||_o!==Ji(v)||(v=_o,"selectionStart"in v&&xo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Nu&&cc(Nu,v)||(Nu=v,v=cv(ef,"onSelect"),0<v.length&&(l=new qr("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=_o)))}function wo(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var dc={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},tf={},Ty={};si&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete dc.animationend.animation,delete dc.animationiteration.animation,delete dc.animationstart.animation),"TransitionEvent"in window||delete dc.transitionend.transition);function ui(s){if(tf[s])return tf[s];if(!dc[s])return s;var l=dc[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ty)return tf[s]=l[h];return s}var ju=ui("animationend"),Ay=ui("animationiteration"),Iu=ui("animationstart"),O_=ui("transitionrun"),Ey=ui("transitionstart"),C_=ui("transitioncancel"),fc=ui("transitionend"),Py=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function wa(s,l){Py.set(s,l),lr(l,[s])}var Ru=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Sa=[],$i=0,nf=0;function Mu(){for(var s=$i,l=nf=$i=0;l<s;){var h=Sa[l];Sa[l++]=null;var v=Sa[l];Sa[l++]=null;var S=Sa[l];Sa[l++]=null;var E=Sa[l];if(Sa[l++]=null,v!==null&&S!==null){var F=v.pending;F===null?S.next=S:(S.next=F.next,F.next=S),v.pending=S}E!==0&&hc(h,S,E)}}function To(s,l,h,v){Sa[$i++]=s,Sa[$i++]=l,Sa[$i++]=h,Sa[$i++]=v,nf|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function pp(s,l,h,v){return To(s,l,h,v),Du(s)}function vs(s,l){return To(s,null,null,l),Du(s)}function hc(s,l,h){s.lanes|=h;var v=s.alternate;v!==null&&(v.lanes|=h);for(var S=!1,E=s.return;E!==null;)E.childLanes|=h,v=E.alternate,v!==null&&(v.childLanes|=h),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(S=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,S&&l!==null&&(S=31-tn(h),s=E.hiddenUpdates,v=s[S],v===null?s[S]=[l]:v.push(l),l.lane=h|536870912),E):null}function Du(s){if(50<Bp)throw Bp=0,jw=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ll={};function N_(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(s,l,h,v){return new N_(s,l,h,v)}function rf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bs(s,l){var h=s.alternate;return h===null?(h=Fi(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function mp(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function ku(s,l,h,v,S,E){var F=0;if(v=s,typeof s=="function")rf(s)&&(F=1);else if(typeof s=="string")F=jW(s,h,fe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Fi(31,h,l,S),s.elementType=V,s.lanes=E,s;case T:return cl(h.children,S,E,l);case A:F=8,S|=24;break;case C:return s=Fi(12,h,l,S|2),s.elementType=C,s.lanes=E,s;case I:return s=Fi(13,h,l,S),s.elementType=I,s.lanes=E,s;case B:return s=Fi(19,h,l,S),s.elementType=B,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:F=10;break e;case D:F=9;break e;case $:F=11;break e;case N:F=14;break e;case j:F=16,v=null;break e}F=29,h=Error(r(130,s===null?"null":typeof s,"")),v=null}return l=Fi(F,h,l,S),l.elementType=s,l.type=v,l.lanes=E,l}function cl(s,l,h,v){return s=Fi(7,s,v,l),s.lanes=h,s}function af(s,l,h){return s=Fi(6,s,null,l),s.lanes=h,s}function gp(s){var l=Fi(18,null,null,0);return l.stateNode=s,l}function yp(s,l,h){return l=Fi(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var u=new WeakMap;function y(s,l){if(typeof s=="object"&&s!==null){var h=u.get(s);return h!==void 0?h:(l={value:s,source:l,stack:ct(l)},u.set(s,l),l)}return{value:s,source:l,stack:ct(l)}}var _=[],O=0,U=null,Z=0,se=[],ye=0,Te=null,ke=1,Xe="";function lt(s,l){_[O++]=Z,_[O++]=U,U=s,Z=l}function jt(s,l,h){se[ye++]=ke,se[ye++]=Xe,se[ye++]=Te,Te=s;var v=ke;s=Xe;var S=32-tn(v)-1;v&=~(1<<S),h+=1;var E=32-tn(l)+S;if(30<E){var F=S-S%5;E=(v&(1<<F)-1).toString(32),v>>=F,S-=F,ke=1<<32-tn(l)+S|h<<S|v,Xe=E+s}else ke=1<<E|h<<S|v,Xe=s}function Hr(s){s.return!==null&&(lt(s,1),jt(s,1,0))}function cr(s){for(;s===U;)U=_[--O],_[O]=null,Z=_[--O],_[O]=null;for(;s===Te;)Te=se[--ye],se[ye]=null,Xe=se[--ye],se[ye]=null,ke=se[--ye],se[ye]=null}function oa(s,l){se[ye++]=ke,se[ye++]=Xe,se[ye++]=Te,ke=l.id,Xe=l.overflow,Te=s}var on=null,ln=null,Ut=!1,Ao=null,Ta=!1,sf=Error(r(519));function Eo(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lu(y(l,s)),sf}function vp(s){var l=s.stateNode,h=s.type,v=s.memoizedProps;switch(l[Cn]=s,l[Zn]=v,h){case"dialog":Ft("cancel",l),Ft("close",l);break;case"iframe":case"object":case"embed":Ft("load",l);break;case"video":case"audio":for(h=0;h<Up.length;h++)Ft(Up[h],l);break;case"source":Ft("error",l);break;case"img":case"image":case"link":Ft("error",l),Ft("load",l);break;case"details":Ft("toggle",l);break;case"input":Ft("invalid",l),go(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Ft("invalid",l);break;case"textarea":Ft("invalid",l),_i(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||XR(l.textContent,h)?(v.popover!=null&&(Ft("beforetoggle",l),Ft("toggle",l)),v.onScroll!=null&&Ft("scroll",l),v.onScrollEnd!=null&&Ft("scrollend",l),v.onClick!=null&&(l.onclick=Fr),l=!0):l=!1,l||Eo(s,!0)}function ir(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:on=on.return}}function Ys(s){if(s!==on)return!1;if(!Ut)return ir(s),Ut=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||Gw(s.type,s.memoizedProps)),h=!h),h&&ln&&Eo(s),ir(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ln=sM(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ln=sM(s)}else l===27?(l=ln,Pc(s.type)?(s=Xw,Xw=null,ln=s):ln=l):ln=on?_s(s.stateNode.nextSibling):null;return!0}function ul(){ln=on=null,Ut=!1}function bp(){var s=Ao;return s!==null&&(Oa===null?Oa=s:Oa.push.apply(Oa,s),Ao=null),s}function Lu(s){Ao===null?Ao=[s]:Ao.push(s)}var Vu=Q(null),Po=null,Xs=null;function pc(s,l,h){ce(Vu,l._currentValue),l._currentValue=h}function dl(s){s._currentValue=Vu.current,ae(Vu)}function j_(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function I_(s,l,h,v){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var E=S.dependencies;if(E!==null){var F=S.child;E=E.firstContext;e:for(;E!==null;){var Y=E;E=S;for(var ue=0;ue<l.length;ue++)if(Y.context===l[ue]){E.lanes|=h,Y=E.alternate,Y!==null&&(Y.lanes|=h),j_(E.return,h,s),v||(F=null);break e}E=Y.next}}else if(S.tag===18){if(F=S.return,F===null)throw Error(r(341));F.lanes|=h,E=F.alternate,E!==null&&(E.lanes|=h),j_(F,h,s),F=null}else F=S.child;if(F!==null)F.return=S;else for(F=S;F!==null;){if(F===s){F=null;break}if(S=F.sibling,S!==null){S.return=F.return,F=S;break}F=F.return}S=F}}function of(s,l,h,v){s=null;for(var S=l,E=!1;S!==null;){if(!E){if((S.flags&524288)!==0)E=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var F=S.alternate;if(F===null)throw Error(r(387));if(F=F.memoizedProps,F!==null){var Y=S.type;ci(S.pendingProps.value,F.value)||(s!==null?s.push(Y):s=[Y])}}else if(S===Oe.current){if(F=S.alternate,F===null)throw Error(r(387));F.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(Gp):s=[Gp])}S=S.return}s!==null&&I_(l,s,h,v),l.flags|=262144}function Oy(s){for(s=s.firstContext;s!==null;){if(!ci(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bu(s){Po=s,Xs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Si(s){return kj(Po,s)}function Cy(s,l){return Po===null&&Bu(s),kj(s,l)}function kj(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Xs===null){if(s===null)throw Error(r(308));Xs=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Xs=Xs.next=l;return h}var PK=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,v){s.push(v)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},OK=t.unstable_scheduleCallback,CK=t.unstable_NormalPriority,Or={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function R_(){return{controller:new PK,data:new Map,refCount:0}}function xp(s){s.refCount--,s.refCount===0&&OK(CK,function(){s.controller.abort()})}var _p=null,M_=0,lf=0,cf=null;function NK(s,l){if(_p===null){var h=_p=[];M_=0,lf=Lw(),cf={status:"pending",value:void 0,then:function(v){h.push(v)}}}return M_++,l.then(Lj,Lj),l}function Lj(){if(--M_===0&&_p!==null){cf!==null&&(cf.status="fulfilled");var s=_p;_p=null,lf=0,cf=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function jK(s,l){var h=[],v={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return s.then(function(){v.status="fulfilled",v.value=l;for(var S=0;S<h.length;S++)(0,h[S])(l)},function(S){for(v.status="rejected",v.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),v}var Vj=X.S;X.S=function(s,l){_R=_n(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&NK(s,l),Vj!==null&&Vj(s,l)};var zu=Q(null);function D_(){var s=zu.current;return s!==null?s:jn.pooledCache}function Ny(s,l){l===null?ce(zu,zu.current):ce(zu,l.pool)}function Bj(){var s=D_();return s===null?null:{parent:Or._currentValue,pool:s}}var uf=Error(r(460)),k_=Error(r(474)),jy=Error(r(542)),Iy={then:function(){}};function zj(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Uj(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Fr,Fr),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Fj(s),s;default:if(typeof l.status=="string")l.then(Fr,Fr);else{if(s=jn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(v){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=v}},function(v){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Fj(s),s}throw $u=l,uf}}function Uu(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?($u=h,uf):h}}var $u=null;function $j(){if($u===null)throw Error(r(459));var s=$u;return $u=null,s}function Fj(s){if(s===uf||s===jy)throw Error(r(483))}var df=null,wp=0;function Ry(s){var l=wp;return wp+=1,df===null&&(df=[]),Uj(df,s,l)}function Sp(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function My(s,l){throw l.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function qj(s){function l(ge,he){if(s){var _e=ge.deletions;_e===null?(ge.deletions=[he],ge.flags|=16):_e.push(he)}}function h(ge,he){if(!s)return null;for(;he!==null;)l(ge,he),he=he.sibling;return null}function v(ge){for(var he=new Map;ge!==null;)ge.key!==null?he.set(ge.key,ge):he.set(ge.index,ge),ge=ge.sibling;return he}function S(ge,he){return ge=bs(ge,he),ge.index=0,ge.sibling=null,ge}function E(ge,he,_e){return ge.index=_e,s?(_e=ge.alternate,_e!==null?(_e=_e.index,_e<he?(ge.flags|=67108866,he):_e):(ge.flags|=67108866,he)):(ge.flags|=1048576,he)}function F(ge){return s&&ge.alternate===null&&(ge.flags|=67108866),ge}function Y(ge,he,_e,De){return he===null||he.tag!==6?(he=af(_e,ge.mode,De),he.return=ge,he):(he=S(he,_e),he.return=ge,he)}function ue(ge,he,_e,De){var ft=_e.type;return ft===T?Ie(ge,he,_e.props.children,De,_e.key):he!==null&&(he.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===j&&Uu(ft)===he.type)?(he=S(he,_e.props),Sp(he,_e),he.return=ge,he):(he=ku(_e.type,_e.key,_e.props,null,ge.mode,De),Sp(he,_e),he.return=ge,he)}function Se(ge,he,_e,De){return he===null||he.tag!==4||he.stateNode.containerInfo!==_e.containerInfo||he.stateNode.implementation!==_e.implementation?(he=yp(_e,ge.mode,De),he.return=ge,he):(he=S(he,_e.children||[]),he.return=ge,he)}function Ie(ge,he,_e,De,ft){return he===null||he.tag!==7?(he=cl(_e,ge.mode,De,ft),he.return=ge,he):(he=S(he,_e),he.return=ge,he)}function Le(ge,he,_e){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=af(""+he,ge.mode,_e),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return _e=ku(he.type,he.key,he.props,null,ge.mode,_e),Sp(_e,he),_e.return=ge,_e;case P:return he=yp(he,ge.mode,_e),he.return=ge,he;case j:return he=Uu(he),Le(ge,he,_e)}if(de(he)||H(he))return he=cl(he,ge.mode,_e,null),he.return=ge,he;if(typeof he.then=="function")return Le(ge,Ry(he),_e);if(he.$$typeof===R)return Le(ge,Cy(ge,he),_e);My(ge,he)}return null}function Ae(ge,he,_e,De){var ft=he!==null?he.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return ft!==null?null:Y(ge,he,""+_e,De);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return _e.key===ft?ue(ge,he,_e,De):null;case P:return _e.key===ft?Se(ge,he,_e,De):null;case j:return _e=Uu(_e),Ae(ge,he,_e,De)}if(de(_e)||H(_e))return ft!==null?null:Ie(ge,he,_e,De,null);if(typeof _e.then=="function")return Ae(ge,he,Ry(_e),De);if(_e.$$typeof===R)return Ae(ge,he,Cy(ge,_e),De);My(ge,_e)}return null}function Ne(ge,he,_e,De,ft){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ge=ge.get(_e)||null,Y(he,ge,""+De,ft);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case w:return ge=ge.get(De.key===null?_e:De.key)||null,ue(he,ge,De,ft);case P:return ge=ge.get(De.key===null?_e:De.key)||null,Se(he,ge,De,ft);case j:return De=Uu(De),Ne(ge,he,_e,De,ft)}if(de(De)||H(De))return ge=ge.get(_e)||null,Ie(he,ge,De,ft,null);if(typeof De.then=="function")return Ne(ge,he,_e,Ry(De),ft);if(De.$$typeof===R)return Ne(ge,he,_e,Cy(he,De),ft);My(he,De)}return null}function it(ge,he,_e,De){for(var ft=null,cn=null,ot=he,It=he=0,Ht=null;ot!==null&&It<_e.length;It++){ot.index>It?(Ht=ot,ot=null):Ht=ot.sibling;var un=Ae(ge,ot,_e[It],De);if(un===null){ot===null&&(ot=Ht);break}s&&ot&&un.alternate===null&&l(ge,ot),he=E(un,he,It),cn===null?ft=un:cn.sibling=un,cn=un,ot=Ht}if(It===_e.length)return h(ge,ot),Ut&&lt(ge,It),ft;if(ot===null){for(;It<_e.length;It++)ot=Le(ge,_e[It],De),ot!==null&&(he=E(ot,he,It),cn===null?ft=ot:cn.sibling=ot,cn=ot);return Ut&&lt(ge,It),ft}for(ot=v(ot);It<_e.length;It++)Ht=Ne(ot,ge,It,_e[It],De),Ht!==null&&(s&&Ht.alternate!==null&&ot.delete(Ht.key===null?It:Ht.key),he=E(Ht,he,It),cn===null?ft=Ht:cn.sibling=Ht,cn=Ht);return s&&ot.forEach(function(Ic){return l(ge,Ic)}),Ut&&lt(ge,It),ft}function gt(ge,he,_e,De){if(_e==null)throw Error(r(151));for(var ft=null,cn=null,ot=he,It=he=0,Ht=null,un=_e.next();ot!==null&&!un.done;It++,un=_e.next()){ot.index>It?(Ht=ot,ot=null):Ht=ot.sibling;var Ic=Ae(ge,ot,un.value,De);if(Ic===null){ot===null&&(ot=Ht);break}s&&ot&&Ic.alternate===null&&l(ge,ot),he=E(Ic,he,It),cn===null?ft=Ic:cn.sibling=Ic,cn=Ic,ot=Ht}if(un.done)return h(ge,ot),Ut&&lt(ge,It),ft;if(ot===null){for(;!un.done;It++,un=_e.next())un=Le(ge,un.value,De),un!==null&&(he=E(un,he,It),cn===null?ft=un:cn.sibling=un,cn=un);return Ut&&lt(ge,It),ft}for(ot=v(ot);!un.done;It++,un=_e.next())un=Ne(ot,ge,It,un.value,De),un!==null&&(s&&un.alternate!==null&&ot.delete(un.key===null?It:un.key),he=E(un,he,It),cn===null?ft=un:cn.sibling=un,cn=un);return s&&ot.forEach(function($W){return l(ge,$W)}),Ut&&lt(ge,It),ft}function En(ge,he,_e,De){if(typeof _e=="object"&&_e!==null&&_e.type===T&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:e:{for(var ft=_e.key;he!==null;){if(he.key===ft){if(ft=_e.type,ft===T){if(he.tag===7){h(ge,he.sibling),De=S(he,_e.props.children),De.return=ge,ge=De;break e}}else if(he.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===j&&Uu(ft)===he.type){h(ge,he.sibling),De=S(he,_e.props),Sp(De,_e),De.return=ge,ge=De;break e}h(ge,he);break}else l(ge,he);he=he.sibling}_e.type===T?(De=cl(_e.props.children,ge.mode,De,_e.key),De.return=ge,ge=De):(De=ku(_e.type,_e.key,_e.props,null,ge.mode,De),Sp(De,_e),De.return=ge,ge=De)}return F(ge);case P:e:{for(ft=_e.key;he!==null;){if(he.key===ft)if(he.tag===4&&he.stateNode.containerInfo===_e.containerInfo&&he.stateNode.implementation===_e.implementation){h(ge,he.sibling),De=S(he,_e.children||[]),De.return=ge,ge=De;break e}else{h(ge,he);break}else l(ge,he);he=he.sibling}De=yp(_e,ge.mode,De),De.return=ge,ge=De}return F(ge);case j:return _e=Uu(_e),En(ge,he,_e,De)}if(de(_e))return it(ge,he,_e,De);if(H(_e)){if(ft=H(_e),typeof ft!="function")throw Error(r(150));return _e=ft.call(_e),gt(ge,he,_e,De)}if(typeof _e.then=="function")return En(ge,he,Ry(_e),De);if(_e.$$typeof===R)return En(ge,he,Cy(ge,_e),De);My(ge,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,he!==null&&he.tag===6?(h(ge,he.sibling),De=S(he,_e),De.return=ge,ge=De):(h(ge,he),De=af(_e,ge.mode,De),De.return=ge,ge=De),F(ge)):h(ge,he)}return function(ge,he,_e,De){try{wp=0;var ft=En(ge,he,_e,De);return df=null,ft}catch(ot){if(ot===uf||ot===jy)throw ot;var cn=Fi(29,ot,null,ge.mode);return cn.lanes=De,cn.return=ge,cn}finally{}}}var Fu=qj(!0),Hj=qj(!1),mc=!1;function L_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V_(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gc(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function yc(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(hn&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,l=Du(s),hc(s,null,h),l}return To(s,v,l,h),Du(s)}function Tp(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,Wn(s,h)}}function B_(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var F={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?S=E=F:E=E.next=F,h=h.next}while(h!==null);E===null?S=E=l:E=E.next=l}else S=E=l;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:E,shared:v.shared,callbacks:v.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var z_=!1;function Ap(){if(z_){var s=cf;if(s!==null)throw s}}function Ep(s,l,h,v){z_=!1;var S=s.updateQueue;mc=!1;var E=S.firstBaseUpdate,F=S.lastBaseUpdate,Y=S.shared.pending;if(Y!==null){S.shared.pending=null;var ue=Y,Se=ue.next;ue.next=null,F===null?E=Se:F.next=Se,F=ue;var Ie=s.alternate;Ie!==null&&(Ie=Ie.updateQueue,Y=Ie.lastBaseUpdate,Y!==F&&(Y===null?Ie.firstBaseUpdate=Se:Y.next=Se,Ie.lastBaseUpdate=ue))}if(E!==null){var Le=S.baseState;F=0,Ie=Se=ue=null,Y=E;do{var Ae=Y.lane&-536870913,Ne=Ae!==Y.lane;if(Ne?(qt&Ae)===Ae:(v&Ae)===Ae){Ae!==0&&Ae===lf&&(z_=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var it=s,gt=Y;Ae=l;var En=h;switch(gt.tag){case 1:if(it=gt.payload,typeof it=="function"){Le=it.call(En,Le,Ae);break e}Le=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=gt.payload,Ae=typeof it=="function"?it.call(En,Le,Ae):it,Ae==null)break e;Le=g({},Le,Ae);break e;case 2:mc=!0}}Ae=Y.callback,Ae!==null&&(s.flags|=64,Ne&&(s.flags|=8192),Ne=S.callbacks,Ne===null?S.callbacks=[Ae]:Ne.push(Ae))}else Ne={lane:Ae,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ie===null?(Se=Ie=Ne,ue=Le):Ie=Ie.next=Ne,F|=Ae;if(Y=Y.next,Y===null){if(Y=S.shared.pending,Y===null)break;Ne=Y,Y=Ne.next,Ne.next=null,S.lastBaseUpdate=Ne,S.shared.pending=null}}while(!0);Ie===null&&(ue=Le),S.baseState=ue,S.firstBaseUpdate=Se,S.lastBaseUpdate=Ie,E===null&&(S.shared.lanes=0),wc|=F,s.lanes=F,s.memoizedState=Le}}function Gj(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function Kj(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)Gj(h[s],l)}var ff=Q(null),Dy=Q(0);function Wj(s,l){s=xl,ce(Dy,s),ce(ff,l),xl=s|l.baseLanes}function U_(){ce(Dy,xl),ce(ff,ff.current)}function $_(){xl=Dy.current,ae(ff),ae(Dy)}var Ha=Q(null),xs=null;function vc(s){var l=s.alternate;ce(_r,_r.current&1),ce(Ha,s),xs===null&&(l===null||ff.current!==null||l.memoizedState!==null)&&(xs=s)}function F_(s){ce(_r,_r.current),ce(Ha,s),xs===null&&(xs=s)}function Zj(s){s.tag===22?(ce(_r,_r.current),ce(Ha,s),xs===null&&(xs=s)):bc()}function bc(){ce(_r,_r.current),ce(Ha,Ha.current)}function Ga(s){ae(Ha),xs===s&&(xs=null),ae(_r)}var _r=Q(0);function ky(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Zw(h)||Yw(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var fl=0,Ct=null,Tn=null,Cr=null,Ly=!1,hf=!1,qu=!1,Vy=0,Pp=0,pf=null,IK=0;function ur(){throw Error(r(321))}function q_(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!ci(s[h],l[h]))return!1;return!0}function H_(s,l,h,v,S,E){return fl=E,Ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=s===null||s.memoizedState===null?II:sw,qu=!1,E=h(v,S),qu=!1,hf&&(E=Xj(l,h,v,S)),Yj(s),E}function Yj(s){X.H=Np;var l=Tn!==null&&Tn.next!==null;if(fl=0,Cr=Tn=Ct=null,Ly=!1,Pp=0,pf=null,l)throw Error(r(300));s===null||Nr||(s=s.dependencies,s!==null&&Oy(s)&&(Nr=!0))}function Xj(s,l,h,v){Ct=s;var S=0;do{if(hf&&(pf=null),Pp=0,hf=!1,25<=S)throw Error(r(301));if(S+=1,Cr=Tn=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}X.H=RI,E=l(h,v)}while(hf);return E}function RK(){var s=X.H,l=s.useState()[0];return l=typeof l.then=="function"?Op(l):l,s=s.useState()[0],(Tn!==null?Tn.memoizedState:null)!==s&&(Ct.flags|=1024),l}function G_(){var s=Vy!==0;return Vy=0,s}function K_(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function W_(s){if(Ly){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ly=!1}fl=0,Cr=Tn=Ct=null,hf=!1,Pp=Vy=0,pf=null}function la(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Ct.memoizedState=Cr=s:Cr=Cr.next=s,Cr}function wr(){if(Tn===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Tn.next;var l=Cr===null?Ct.memoizedState:Cr.next;if(l!==null)Cr=l,Tn=s;else{if(s===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Tn=s,s={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Cr===null?Ct.memoizedState=Cr=s:Cr=Cr.next=s}return Cr}function By(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Op(s){var l=Pp;return Pp+=1,pf===null&&(pf=[]),s=Uj(pf,s,l),l=Ct,(Cr===null?l.memoizedState:Cr.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?II:sw),s}function zy(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Op(s);if(s.$$typeof===R)return Si(s)}throw Error(r(438,String(s)))}function Z_(s){var l=null,h=Ct.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=Ct.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=By(),Ct.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),v=0;v<s;v++)h[v]=K;return l.index++,h}function hl(s,l){return typeof l=="function"?l(s):l}function Uy(s){var l=wr();return Y_(l,Tn,s)}function Y_(s,l,h){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var S=s.baseQueue,E=v.pending;if(E!==null){if(S!==null){var F=S.next;S.next=E.next,E.next=F}l.baseQueue=S=E,v.pending=null}if(E=s.baseState,S===null)s.memoizedState=E;else{l=S.next;var Y=F=null,ue=null,Se=l,Ie=!1;do{var Le=Se.lane&-536870913;if(Le!==Se.lane?(qt&Le)===Le:(fl&Le)===Le){var Ae=Se.revertLane;if(Ae===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Le===lf&&(Ie=!0);else if((fl&Ae)===Ae){Se=Se.next,Ae===lf&&(Ie=!0);continue}else Le={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ue===null?(Y=ue=Le,F=E):ue=ue.next=Le,Ct.lanes|=Ae,wc|=Ae;Le=Se.action,qu&&h(E,Le),E=Se.hasEagerState?Se.eagerState:h(E,Le)}else Ae={lane:Le,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ue===null?(Y=ue=Ae,F=E):ue=ue.next=Ae,Ct.lanes|=Le,wc|=Le;Se=Se.next}while(Se!==null&&Se!==l);if(ue===null?F=E:ue.next=Y,!ci(E,s.memoizedState)&&(Nr=!0,Ie&&(h=cf,h!==null)))throw h;s.memoizedState=E,s.baseState=F,s.baseQueue=ue,v.lastRenderedState=E}return S===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function X_(s){var l=wr(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,S=h.pending,E=l.memoizedState;if(S!==null){h.pending=null;var F=S=S.next;do E=s(E,F.action),F=F.next;while(F!==S);ci(E,l.memoizedState)||(Nr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,v]}function Qj(s,l,h){var v=Ct,S=wr(),E=Ut;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=l();var F=!ci((Tn||S).memoizedState,h);if(F&&(S.memoizedState=h,Nr=!0),S=S.queue,ew(tI.bind(null,v,S,s),[s]),S.getSnapshot!==l||F||Cr!==null&&Cr.memoizedState.tag&1){if(v.flags|=2048,mf(9,{destroy:void 0},eI.bind(null,v,S,h,l),null),jn===null)throw Error(r(349));E||(fl&127)!==0||Jj(v,l,h)}return h}function Jj(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Ct.updateQueue,l===null?(l=By(),Ct.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function eI(s,l,h,v){l.value=h,l.getSnapshot=v,nI(l)&&rI(s)}function tI(s,l,h){return h(function(){nI(l)&&rI(s)})}function nI(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!ci(s,h)}catch{return!0}}function rI(s){var l=vs(s,2);l!==null&&Ca(l,s,2)}function Q_(s){var l=la();if(typeof s=="function"){var h=s;if(s=h(),qu){Ar(!0);try{h()}finally{Ar(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:s},l}function iI(s,l,h,v){return s.baseState=h,Y_(s,Tn,typeof v=="function"?v:hl)}function MK(s,l,h,v,S){if(qy(s))throw Error(r(485));if(s=l.action,s!==null){var E={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){E.listeners.push(F)}};X.T!==null?h(!0):E.isTransition=!1,v(E),h=l.pending,h===null?(E.next=l.pending=E,aI(l,E)):(E.next=h.next,l.pending=h.next=E)}}function aI(s,l){var h=l.action,v=l.payload,S=s.state;if(l.isTransition){var E=X.T,F={};X.T=F;try{var Y=h(S,v),ue=X.S;ue!==null&&ue(F,Y),sI(s,l,Y)}catch(Se){J_(s,l,Se)}finally{E!==null&&F.types!==null&&(E.types=F.types),X.T=E}}else try{E=h(S,v),sI(s,l,E)}catch(Se){J_(s,l,Se)}}function sI(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){oI(s,l,v)},function(v){return J_(s,l,v)}):oI(s,l,h)}function oI(s,l,h){l.status="fulfilled",l.value=h,lI(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,aI(s,h)))}function J_(s,l,h){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,lI(l),l=l.next;while(l!==v)}s.action=null}function lI(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function cI(s,l){return l}function uI(s,l){if(Ut){var h=jn.formState;if(h!==null){e:{var v=Ct;if(Ut){if(ln){t:{for(var S=ln,E=Ta;S.nodeType!==8;){if(!E){S=null;break t}if(S=_s(S.nextSibling),S===null){S=null;break t}}E=S.data,S=E==="F!"||E==="F"?S:null}if(S){ln=_s(S.nextSibling),v=S.data==="F!";break e}}Eo(v)}v=!1}v&&(l=h[0])}}return h=la(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cI,lastRenderedState:l},h.queue=v,h=CI.bind(null,Ct,v),v.dispatch=h,v=Q_(!1),E=aw.bind(null,Ct,!1,v.queue),v=la(),S={state:l,dispatch:null,action:s,pending:null},v.queue=S,h=MK.bind(null,Ct,S,E,h),S.dispatch=h,v.memoizedState=s,[l,h,!1]}function dI(s){var l=wr();return fI(l,Tn,s)}function fI(s,l,h){if(l=Y_(s,l,cI)[0],s=Uy(hl)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Op(l)}catch(F){throw F===uf?jy:F}else v=l;l=wr();var S=l.queue,E=S.dispatch;return h!==l.memoizedState&&(Ct.flags|=2048,mf(9,{destroy:void 0},DK.bind(null,S,h),null)),[v,E,s]}function DK(s,l){s.action=l}function hI(s){var l=wr(),h=Tn;if(h!==null)return fI(l,h,s);wr(),l=l.memoizedState,h=wr();var v=h.queue.dispatch;return h.memoizedState=s,[l,v,!1]}function mf(s,l,h,v){return s={tag:s,create:h,deps:v,inst:l,next:null},l=Ct.updateQueue,l===null&&(l=By(),Ct.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s),s}function pI(){return wr().memoizedState}function $y(s,l,h,v){var S=la();Ct.flags|=s,S.memoizedState=mf(1|l,{destroy:void 0},h,v===void 0?null:v)}function Fy(s,l,h,v){var S=wr();v=v===void 0?null:v;var E=S.memoizedState.inst;Tn!==null&&v!==null&&q_(v,Tn.memoizedState.deps)?S.memoizedState=mf(l,E,h,v):(Ct.flags|=s,S.memoizedState=mf(1|l,E,h,v))}function mI(s,l){$y(8390656,8,s,l)}function ew(s,l){Fy(2048,8,s,l)}function kK(s){Ct.flags|=4;var l=Ct.updateQueue;if(l===null)l=By(),Ct.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function gI(s){var l=wr().memoizedState;return kK({ref:l,nextImpl:s}),function(){if((hn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function yI(s,l){return Fy(4,2,s,l)}function vI(s,l){return Fy(4,4,s,l)}function bI(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function xI(s,l,h){h=h!=null?h.concat([s]):null,Fy(4,4,bI.bind(null,l,s),h)}function tw(){}function _I(s,l){var h=wr();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&q_(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function wI(s,l){var h=wr();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&q_(l,v[1]))return v[0];if(v=s(),qu){Ar(!0);try{s()}finally{Ar(!1)}}return h.memoizedState=[v,l],v}function nw(s,l,h){return h===void 0||(fl&1073741824)!==0&&(qt&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=SR(),Ct.lanes|=s,wc|=s,h)}function SI(s,l,h,v){return ci(h,l)?h:ff.current!==null?(s=nw(s,h,v),ci(s,l)||(Nr=!0),s):(fl&42)===0||(fl&1073741824)!==0&&(qt&261930)===0?(Nr=!0,s.memoizedState=h):(s=SR(),Ct.lanes|=s,wc|=s,l)}function TI(s,l,h,v,S){var E=re.p;re.p=E!==0&&8>E?E:8;var F=X.T,Y={};X.T=Y,aw(s,!1,l,h);try{var ue=S(),Se=X.S;if(Se!==null&&Se(Y,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ie=jK(ue,v);Cp(s,l,Ie,Za(s))}else Cp(s,l,v,Za(s))}catch(Le){Cp(s,l,{then:function(){},status:"rejected",reason:Le},Za())}finally{re.p=E,F!==null&&Y.types!==null&&(F.types=Y.types),X.T=F}}function LK(){}function rw(s,l,h,v){if(s.tag!==5)throw Error(r(476));var S=AI(s).queue;TI(s,S,l,ee,h===null?LK:function(){return EI(s),h(v)})}function AI(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:ee},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function EI(s){var l=AI(s);l.next===null&&(l=s.alternate.memoizedState),Cp(s,l.next.queue,{},Za())}function iw(){return Si(Gp)}function PI(){return wr().memoizedState}function OI(){return wr().memoizedState}function VK(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Za();s=gc(h);var v=yc(l,s,h);v!==null&&(Ca(v,l,h),Tp(v,l,h)),l={cache:R_()},s.payload=l;return}l=l.return}}function BK(s,l,h){var v=Za();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},qy(s)?NI(l,h):(h=pp(s,l,h,v),h!==null&&(Ca(h,s,v),jI(h,l,v)))}function CI(s,l,h){var v=Za();Cp(s,l,h,v)}function Cp(s,l,h,v){var S={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(qy(s))NI(l,S);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var F=l.lastRenderedState,Y=E(F,h);if(S.hasEagerState=!0,S.eagerState=Y,ci(Y,F))return To(s,l,S,0),jn===null&&Mu(),!1}catch{}finally{}if(h=pp(s,l,S,v),h!==null)return Ca(h,s,v),jI(h,l,v),!0}return!1}function aw(s,l,h,v){if(v={lane:2,revertLane:Lw(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},qy(s)){if(l)throw Error(r(479))}else l=pp(s,h,v,2),l!==null&&Ca(l,s,2)}function qy(s){var l=s.alternate;return s===Ct||l!==null&&l===Ct}function NI(s,l){hf=Ly=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function jI(s,l,h){if((h&4194048)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,Wn(s,h)}}var Np={readContext:Si,use:zy,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur};Np.useEffectEvent=ur;var II={readContext:Si,use:zy,useCallback:function(s,l){return la().memoizedState=[s,l===void 0?null:l],s},useContext:Si,useEffect:mI,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,$y(4194308,4,bI.bind(null,l,s),h)},useLayoutEffect:function(s,l){return $y(4194308,4,s,l)},useInsertionEffect:function(s,l){$y(4,2,s,l)},useMemo:function(s,l){var h=la();l=l===void 0?null:l;var v=s();if(qu){Ar(!0);try{s()}finally{Ar(!1)}}return h.memoizedState=[v,l],v},useReducer:function(s,l,h){var v=la();if(h!==void 0){var S=h(l);if(qu){Ar(!0);try{h(l)}finally{Ar(!1)}}}else S=l;return v.memoizedState=v.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},v.queue=s,s=s.dispatch=BK.bind(null,Ct,s),[v.memoizedState,s]},useRef:function(s){var l=la();return s={current:s},l.memoizedState=s},useState:function(s){s=Q_(s);var l=s.queue,h=CI.bind(null,Ct,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:tw,useDeferredValue:function(s,l){var h=la();return nw(h,s,l)},useTransition:function(){var s=Q_(!1);return s=TI.bind(null,Ct,s.queue,!0,!1),la().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var v=Ct,S=la();if(Ut){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),jn===null)throw Error(r(349));(qt&127)!==0||Jj(v,l,h)}S.memoizedState=h;var E={value:h,getSnapshot:l};return S.queue=E,mI(tI.bind(null,v,E,s),[s]),v.flags|=2048,mf(9,{destroy:void 0},eI.bind(null,v,E,h,l),null),h},useId:function(){var s=la(),l=jn.identifierPrefix;if(Ut){var h=Xe,v=ke;h=(v&~(1<<32-tn(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Vy++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=IK++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:iw,useFormState:uI,useActionState:uI,useOptimistic:function(s){var l=la();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=aw.bind(null,Ct,!0,h),h.dispatch=l,[s,l]},useMemoCache:Z_,useCacheRefresh:function(){return la().memoizedState=VK.bind(null,Ct)},useEffectEvent:function(s){var l=la(),h={impl:s};return l.memoizedState=h,function(){if((hn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},sw={readContext:Si,use:zy,useCallback:_I,useContext:Si,useEffect:ew,useImperativeHandle:xI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:wI,useReducer:Uy,useRef:pI,useState:function(){return Uy(hl)},useDebugValue:tw,useDeferredValue:function(s,l){var h=wr();return SI(h,Tn.memoizedState,s,l)},useTransition:function(){var s=Uy(hl)[0],l=wr().memoizedState;return[typeof s=="boolean"?s:Op(s),l]},useSyncExternalStore:Qj,useId:PI,useHostTransitionStatus:iw,useFormState:dI,useActionState:dI,useOptimistic:function(s,l){var h=wr();return iI(h,Tn,s,l)},useMemoCache:Z_,useCacheRefresh:OI};sw.useEffectEvent=gI;var RI={readContext:Si,use:zy,useCallback:_I,useContext:Si,useEffect:ew,useImperativeHandle:xI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:wI,useReducer:X_,useRef:pI,useState:function(){return X_(hl)},useDebugValue:tw,useDeferredValue:function(s,l){var h=wr();return Tn===null?nw(h,s,l):SI(h,Tn.memoizedState,s,l)},useTransition:function(){var s=X_(hl)[0],l=wr().memoizedState;return[typeof s=="boolean"?s:Op(s),l]},useSyncExternalStore:Qj,useId:PI,useHostTransitionStatus:iw,useFormState:hI,useActionState:hI,useOptimistic:function(s,l){var h=wr();return Tn!==null?iI(h,Tn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Z_,useCacheRefresh:OI};RI.useEffectEvent=gI;function ow(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:g({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var lw={enqueueSetState:function(s,l,h){s=s._reactInternals;var v=Za(),S=gc(v);S.payload=l,h!=null&&(S.callback=h),l=yc(s,S,v),l!==null&&(Ca(l,s,v),Tp(l,s,v))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=Za(),S=gc(v);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=yc(s,S,v),l!==null&&(Ca(l,s,v),Tp(l,s,v))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Za(),v=gc(h);v.tag=2,l!=null&&(v.callback=l),l=yc(s,v,h),l!==null&&(Ca(l,s,h),Tp(l,s,h))}};function MI(s,l,h,v,S,E,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,E,F):l.prototype&&l.prototype.isPureReactComponent?!cc(h,v)||!cc(S,E):!0}function DI(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&lw.enqueueReplaceState(l,l.state,null)}function Hu(s,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(s=s.defaultProps){h===l&&(h=g({},h));for(var S in s)h[S]===void 0&&(h[S]=s[S])}return h}function kI(s){Ru(s)}function LI(s){console.error(s)}function VI(s){Ru(s)}function Hy(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function BI(s,l,h){try{var v=s.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function cw(s,l,h){return h=gc(h),h.tag=3,h.payload={element:null},h.callback=function(){Hy(s,l)},h}function zI(s){return s=gc(s),s.tag=3,s}function UI(s,l,h,v){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var E=v.value;s.payload=function(){return S(E)},s.callback=function(){BI(l,h,v)}}var F=h.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(s.callback=function(){BI(l,h,v),typeof S!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function zK(s,l,h,v,S){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&of(l,h,S,!0),h=Ha.current,h!==null){switch(h.tag){case 31:case 13:return xs===null?rv():h.alternate===null&&dr===0&&(dr=3),h.flags&=-257,h.flags|=65536,h.lanes=S,v===Iy?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),Mw(s,v,S)),!1;case 22:return h.flags|=65536,v===Iy?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),Mw(s,v,S)),!1}throw Error(r(435,h.tag))}return Mw(s,v,S),rv(),!1}if(Ut)return l=Ha.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,v!==sf&&(s=Error(r(422),{cause:v}),Lu(y(s,h)))):(v!==sf&&(l=Error(r(423),{cause:v}),Lu(y(l,h))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,v=y(v,h),S=cw(s.stateNode,v,S),B_(s,S),dr!==4&&(dr=2)),!1;var E=Error(r(520),{cause:v});if(E=y(E,h),Vp===null?Vp=[E]:Vp.push(E),dr!==4&&(dr=2),l===null)return!0;v=y(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=S&-S,h.lanes|=s,s=cw(h.stateNode,v,s),B_(h,s),!1;case 1:if(l=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Sc===null||!Sc.has(E))))return h.flags|=65536,S&=-S,h.lanes|=S,S=zI(S),UI(S,s,h,v),B_(h,S),!1}h=h.return}while(h!==null);return!1}var uw=Error(r(461)),Nr=!1;function Ti(s,l,h,v){l.child=s===null?Hj(l,null,h,v):Fu(l,s.child,h,v)}function $I(s,l,h,v,S){h=h.render;var E=l.ref;if("ref"in v){var F={};for(var Y in v)Y!=="ref"&&(F[Y]=v[Y])}else F=v;return Bu(l),v=H_(s,l,h,F,E,S),Y=G_(),s!==null&&!Nr?(K_(s,l,S),pl(s,l,S)):(Ut&&Y&&Hr(l),l.flags|=1,Ti(s,l,v,S),l.child)}function FI(s,l,h,v,S){if(s===null){var E=h.type;return typeof E=="function"&&!rf(E)&&E.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=E,qI(s,l,E,v,S)):(s=ku(h.type,null,v,l,l.mode,S),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!vw(s,S)){var F=E.memoizedProps;if(h=h.compare,h=h!==null?h:cc,h(F,v)&&s.ref===l.ref)return pl(s,l,S)}return l.flags|=1,s=bs(E,v),s.ref=l.ref,s.return=l,l.child=s}function qI(s,l,h,v,S){if(s!==null){var E=s.memoizedProps;if(cc(E,v)&&s.ref===l.ref)if(Nr=!1,l.pendingProps=v=E,vw(s,S))(s.flags&131072)!==0&&(Nr=!0);else return l.lanes=s.lanes,pl(s,l,S)}return dw(s,l,h,v,S)}function HI(s,l,h,v){var S=v.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,s!==null){for(v=l.child=s.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~E}else v=0,l.child=null;return GI(s,l,E,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ny(l,E!==null?E.cachePool:null),E!==null?Wj(l,E):U_(),Zj(l);else return v=l.lanes=536870912,GI(s,l,E!==null?E.baseLanes|h:h,h,v)}else E!==null?(Ny(l,E.cachePool),Wj(l,E),bc(),l.memoizedState=null):(s!==null&&Ny(l,null),U_(),bc());return Ti(s,l,S,h),l.child}function jp(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function GI(s,l,h,v,S){var E=D_();return E=E===null?null:{parent:Or._currentValue,pool:E},l.memoizedState={baseLanes:h,cachePool:E},s!==null&&Ny(l,null),U_(),Zj(l),s!==null&&of(s,l,v,!0),l.childLanes=S,null}function Gy(s,l){return l=Wy({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function KI(s,l,h){return Fu(l,s.child,null,h),s=Gy(l,l.pendingProps),s.flags|=2,Ga(l),l.memoizedState=null,s}function UK(s,l,h){var v=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(Ut){if(v.mode==="hidden")return s=Gy(l,v),l.lanes=536870912,jp(null,s);if(F_(l),(s=ln)?(s=aM(s,Ta),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Te!==null?{id:ke,overflow:Xe}:null,retryLane:536870912,hydrationErrors:null},h=gp(s),h.return=l,l.child=h,on=l,ln=null)):s=null,s===null)throw Eo(l);return l.lanes=536870912,null}return Gy(l,v)}var E=s.memoizedState;if(E!==null){var F=E.dehydrated;if(F_(l),S)if(l.flags&256)l.flags&=-257,l=KI(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(Nr||of(s,l,h,!1),S=(h&s.childLanes)!==0,Nr||S){if(v=jn,v!==null&&(F=tr(v,h),F!==0&&F!==E.retryLane))throw E.retryLane=F,vs(s,F),Ca(v,s,F),uw;rv(),l=KI(s,l,h)}else s=E.treeContext,ln=_s(F.nextSibling),on=l,Ut=!0,Ao=null,Ta=!1,s!==null&&oa(l,s),l=Gy(l,v),l.flags|=4096;return l}return s=bs(s.child,{mode:v.mode,children:v.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Ky(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function dw(s,l,h,v,S){return Bu(l),h=H_(s,l,h,v,void 0,S),v=G_(),s!==null&&!Nr?(K_(s,l,S),pl(s,l,S)):(Ut&&v&&Hr(l),l.flags|=1,Ti(s,l,h,S),l.child)}function WI(s,l,h,v,S,E){return Bu(l),l.updateQueue=null,h=Xj(l,v,h,S),Yj(s),v=G_(),s!==null&&!Nr?(K_(s,l,E),pl(s,l,E)):(Ut&&v&&Hr(l),l.flags|=1,Ti(s,l,h,E),l.child)}function ZI(s,l,h,v,S){if(Bu(l),l.stateNode===null){var E=ll,F=h.contextType;typeof F=="object"&&F!==null&&(E=Si(F)),E=new h(v,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=lw,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=v,E.state=l.memoizedState,E.refs={},L_(l),F=h.contextType,E.context=typeof F=="object"&&F!==null?Si(F):ll,E.state=l.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(ow(l,h,F,v),E.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(F=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),F!==E.state&&lw.enqueueReplaceState(E,E.state,null),Ep(l,v,E,S),Ap(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(s===null){E=l.stateNode;var Y=l.memoizedProps,ue=Hu(h,Y);E.props=ue;var Se=E.context,Ie=h.contextType;F=ll,typeof Ie=="object"&&Ie!==null&&(F=Si(Ie));var Le=h.getDerivedStateFromProps;Ie=typeof Le=="function"||typeof E.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,Ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(Y||Se!==F)&&DI(l,E,v,F),mc=!1;var Ae=l.memoizedState;E.state=Ae,Ep(l,v,E,S),Ap(),Se=l.memoizedState,Y||Ae!==Se||mc?(typeof Le=="function"&&(ow(l,h,Le,v),Se=l.memoizedState),(ue=mc||MI(l,h,ue,v,Ae,Se,F))?(Ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=Se),E.props=v,E.state=Se,E.context=F,v=ue):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{E=l.stateNode,V_(s,l),F=l.memoizedProps,Ie=Hu(h,F),E.props=Ie,Le=l.pendingProps,Ae=E.context,Se=h.contextType,ue=ll,typeof Se=="object"&&Se!==null&&(ue=Si(Se)),Y=h.getDerivedStateFromProps,(Se=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F!==Le||Ae!==ue)&&DI(l,E,v,ue),mc=!1,Ae=l.memoizedState,E.state=Ae,Ep(l,v,E,S),Ap();var Ne=l.memoizedState;F!==Le||Ae!==Ne||mc||s!==null&&s.dependencies!==null&&Oy(s.dependencies)?(typeof Y=="function"&&(ow(l,h,Y,v),Ne=l.memoizedState),(Ie=mc||MI(l,h,Ie,v,Ae,Ne,ue)||s!==null&&s.dependencies!==null&&Oy(s.dependencies))?(Se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(v,Ne,ue),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(v,Ne,ue)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||F===s.memoizedProps&&Ae===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&Ae===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Ne),E.props=v,E.state=Ne,E.context=ue,v=Ie):(typeof E.componentDidUpdate!="function"||F===s.memoizedProps&&Ae===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&Ae===s.memoizedState||(l.flags|=1024),v=!1)}return E=v,Ky(s,l),v=(l.flags&128)!==0,E||v?(E=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&v?(l.child=Fu(l,s.child,null,S),l.child=Fu(l,null,h,S)):Ti(s,l,h,S),l.memoizedState=E.state,s=l.child):s=pl(s,l,S),s}function YI(s,l,h,v){return ul(),l.flags|=256,Ti(s,l,h,v),l.child}var fw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hw(s){return{baseLanes:s,cachePool:Bj()}}function pw(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Wa),s}function XI(s,l,h){var v=l.pendingProps,S=!1,E=(l.flags&128)!==0,F;if((F=E)||(F=s!==null&&s.memoizedState===null?!1:(_r.current&2)!==0),F&&(S=!0,l.flags&=-129),F=(l.flags&32)!==0,l.flags&=-33,s===null){if(Ut){if(S?vc(l):bc(),(s=ln)?(s=aM(s,Ta),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:Te!==null?{id:ke,overflow:Xe}:null,retryLane:536870912,hydrationErrors:null},h=gp(s),h.return=l,l.child=h,on=l,ln=null)):s=null,s===null)throw Eo(l);return Yw(s)?l.lanes=32:l.lanes=536870912,null}var Y=v.children;return v=v.fallback,S?(bc(),S=l.mode,Y=Wy({mode:"hidden",children:Y},S),v=cl(v,S,h,null),Y.return=l,v.return=l,Y.sibling=v,l.child=Y,v=l.child,v.memoizedState=hw(h),v.childLanes=pw(s,F,h),l.memoizedState=fw,jp(null,v)):(vc(l),mw(l,Y))}var ue=s.memoizedState;if(ue!==null&&(Y=ue.dehydrated,Y!==null)){if(E)l.flags&256?(vc(l),l.flags&=-257,l=gw(s,l,h)):l.memoizedState!==null?(bc(),l.child=s.child,l.flags|=128,l=null):(bc(),Y=v.fallback,S=l.mode,v=Wy({mode:"visible",children:v.children},S),Y=cl(Y,S,h,null),Y.flags|=2,v.return=l,Y.return=l,v.sibling=Y,l.child=v,Fu(l,s.child,null,h),v=l.child,v.memoizedState=hw(h),v.childLanes=pw(s,F,h),l.memoizedState=fw,l=jp(null,v));else if(vc(l),Yw(Y)){if(F=Y.nextSibling&&Y.nextSibling.dataset,F)var Se=F.dgst;F=Se,v=Error(r(419)),v.stack="",v.digest=F,Lu({value:v,source:null,stack:null}),l=gw(s,l,h)}else if(Nr||of(s,l,h,!1),F=(h&s.childLanes)!==0,Nr||F){if(F=jn,F!==null&&(v=tr(F,h),v!==0&&v!==ue.retryLane))throw ue.retryLane=v,vs(s,v),Ca(F,s,v),uw;Zw(Y)||rv(),l=gw(s,l,h)}else Zw(Y)?(l.flags|=192,l.child=s.child,l=null):(s=ue.treeContext,ln=_s(Y.nextSibling),on=l,Ut=!0,Ao=null,Ta=!1,s!==null&&oa(l,s),l=mw(l,v.children),l.flags|=4096);return l}return S?(bc(),Y=v.fallback,S=l.mode,ue=s.child,Se=ue.sibling,v=bs(ue,{mode:"hidden",children:v.children}),v.subtreeFlags=ue.subtreeFlags&65011712,Se!==null?Y=bs(Se,Y):(Y=cl(Y,S,h,null),Y.flags|=2),Y.return=l,v.return=l,v.sibling=Y,l.child=v,jp(null,v),v=l.child,Y=s.child.memoizedState,Y===null?Y=hw(h):(S=Y.cachePool,S!==null?(ue=Or._currentValue,S=S.parent!==ue?{parent:ue,pool:ue}:S):S=Bj(),Y={baseLanes:Y.baseLanes|h,cachePool:S}),v.memoizedState=Y,v.childLanes=pw(s,F,h),l.memoizedState=fw,jp(s.child,v)):(vc(l),h=s.child,s=h.sibling,h=bs(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,s!==null&&(F=l.deletions,F===null?(l.deletions=[s],l.flags|=16):F.push(s)),l.child=h,l.memoizedState=null,h)}function mw(s,l){return l=Wy({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Wy(s,l){return s=Fi(22,s,null,l),s.lanes=0,s}function gw(s,l,h){return Fu(l,s.child,null,h),s=mw(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function QI(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),j_(s.return,l,h)}function yw(s,l,h,v,S,E){var F=s.memoizedState;F===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S,treeForkCount:E}:(F.isBackwards=l,F.rendering=null,F.renderingStartTime=0,F.last=v,F.tail=h,F.tailMode=S,F.treeForkCount=E)}function JI(s,l,h){var v=l.pendingProps,S=v.revealOrder,E=v.tail;v=v.children;var F=_r.current,Y=(F&2)!==0;if(Y?(F=F&1|2,l.flags|=128):F&=1,ce(_r,F),Ti(s,l,v,h),v=Ut?Z:0,!Y&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&QI(s,h,l);else if(s.tag===19)QI(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(S){case"forwards":for(h=l.child,S=null;h!==null;)s=h.alternate,s!==null&&ky(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),yw(l,!1,S,h,E,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(s=S.alternate,s!==null&&ky(s)===null){l.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}yw(l,!0,h,null,E,v);break;case"together":yw(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function pl(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),wc|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(of(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=bs(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=bs(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function vw(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Oy(s)))}function $K(s,l,h){switch(l.tag){case 3:we(l,l.stateNode.containerInfo),pc(l,Or,s.memoizedState.cache),ul();break;case 27:case 5:Be(l);break;case 4:we(l,l.stateNode.containerInfo);break;case 10:pc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,F_(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(vc(l),l.flags|=128,null):(h&l.child.childLanes)!==0?XI(s,l,h):(vc(l),s=pl(s,l,h),s!==null?s.sibling:null);vc(l);break;case 19:var S=(s.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(of(s,l,h,!1),v=(h&l.childLanes)!==0),S){if(v)return JI(s,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ce(_r,_r.current),v)break;return null;case 22:return l.lanes=0,HI(s,l,h,l.pendingProps);case 24:pc(l,Or,s.memoizedState.cache)}return pl(s,l,h)}function eR(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Nr=!0;else{if(!vw(s,h)&&(l.flags&128)===0)return Nr=!1,$K(s,l,h);Nr=(s.flags&131072)!==0}else Nr=!1,Ut&&(l.flags&1048576)!==0&&jt(l,Z,l.index);switch(l.lanes=0,l.tag){case 16:e:{var v=l.pendingProps;if(s=Uu(l.elementType),l.type=s,typeof s=="function")rf(s)?(v=Hu(s,v),l.tag=1,l=ZI(null,l,s,v,h)):(l.tag=0,l=dw(null,l,s,v,h));else{if(s!=null){var S=s.$$typeof;if(S===$){l.tag=11,l=$I(null,l,s,v,h);break e}else if(S===N){l.tag=14,l=FI(null,l,s,v,h);break e}}throw l=ie(s)||s,Error(r(306,l,""))}}return l;case 0:return dw(s,l,l.type,l.pendingProps,h);case 1:return v=l.type,S=Hu(v,l.pendingProps),ZI(s,l,v,S,h);case 3:e:{if(we(l,l.stateNode.containerInfo),s===null)throw Error(r(387));v=l.pendingProps;var E=l.memoizedState;S=E.element,V_(s,l),Ep(l,v,null,h);var F=l.memoizedState;if(v=F.cache,pc(l,Or,v),v!==E.cache&&I_(l,[Or],h,!0),Ap(),v=F.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:F.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=YI(s,l,v,h);break e}else if(v!==S){S=y(Error(r(424)),l),Lu(S),l=YI(s,l,v,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ln=_s(s.firstChild),on=l,Ut=!0,Ao=null,Ta=!0,h=Hj(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ul(),v===S){l=pl(s,l,h);break e}Ti(s,l,v,h)}l=l.child}return l;case 26:return Ky(s,l),s===null?(h=dM(l.type,null,l.pendingProps,null))?l.memoizedState=h:Ut||(h=l.type,s=l.pendingProps,v=uv(Ce.current).createElement(h),v[Cn]=l,v[Zn]=s,Ai(v,h,s),$n(v),l.stateNode=v):l.memoizedState=dM(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Be(l),s===null&&Ut&&(v=l.stateNode=lM(l.type,l.pendingProps,Ce.current),on=l,Ta=!0,S=ln,Pc(l.type)?(Xw=S,ln=_s(v.firstChild)):ln=S),Ti(s,l,l.pendingProps.children,h),Ky(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Ut&&((S=v=ln)&&(v=vW(v,l.type,l.pendingProps,Ta),v!==null?(l.stateNode=v,on=l,ln=_s(v.firstChild),Ta=!1,S=!0):S=!1),S||Eo(l)),Be(l),S=l.type,E=l.pendingProps,F=s!==null?s.memoizedProps:null,v=E.children,Gw(S,E)?v=null:F!==null&&Gw(S,F)&&(l.flags|=32),l.memoizedState!==null&&(S=H_(s,l,RK,null,null,h),Gp._currentValue=S),Ky(s,l),Ti(s,l,v,h),l.child;case 6:return s===null&&Ut&&((s=h=ln)&&(h=bW(h,l.pendingProps,Ta),h!==null?(l.stateNode=h,on=l,ln=null,s=!0):s=!1),s||Eo(l)),null;case 13:return XI(s,l,h);case 4:return we(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=Fu(l,null,v,h):Ti(s,l,v,h),l.child;case 11:return $I(s,l,l.type,l.pendingProps,h);case 7:return Ti(s,l,l.pendingProps,h),l.child;case 8:return Ti(s,l,l.pendingProps.children,h),l.child;case 12:return Ti(s,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,pc(l,l.type,v.value),Ti(s,l,v.children,h),l.child;case 9:return S=l.type._context,v=l.pendingProps.children,Bu(l),S=Si(S),v=v(S),l.flags|=1,Ti(s,l,v,h),l.child;case 14:return FI(s,l,l.type,l.pendingProps,h);case 15:return qI(s,l,l.type,l.pendingProps,h);case 19:return JI(s,l,h);case 31:return UK(s,l,h);case 22:return HI(s,l,h,l.pendingProps);case 24:return Bu(l),v=Si(Or),s===null?(S=D_(),S===null&&(S=jn,E=R_(),S.pooledCache=E,E.refCount++,E!==null&&(S.pooledCacheLanes|=h),S=E),l.memoizedState={parent:v,cache:S},L_(l),pc(l,Or,S)):((s.lanes&h)!==0&&(V_(s,l),Ep(l,null,null,h),Ap()),S=s.memoizedState,E=l.memoizedState,S.parent!==v?(S={parent:v,cache:v},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),pc(l,Or,v)):(v=E.cache,pc(l,Or,v),v!==S.cache&&I_(l,[Or],h,!0))),Ti(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ml(s){s.flags|=4}function bw(s,l,h,v,S){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(S&335544128)===S)if(s.stateNode.complete)s.flags|=8192;else if(PR())s.flags|=8192;else throw $u=Iy,k_}else s.flags&=-16777217}function tR(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!gM(l))if(PR())s.flags|=8192;else throw $u=Iy,k_}function Zy(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Kn():536870912,s.lanes|=l,bf|=l)}function Ip(s,l){if(!Ut)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Fn(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function FK(s,l,h){var v=l.pendingProps;switch(cr(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(l),null;case 1:return Fn(l),null;case 3:return h=l.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),dl(Or),pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ys(l)?ml(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,bp())),Fn(l),null;case 26:var S=l.type,E=l.memoizedState;return s===null?(ml(l),E!==null?(Fn(l),tR(l,E)):(Fn(l),bw(l,S,null,v,h))):E?E!==s.memoizedState?(ml(l),Fn(l),tR(l,E)):(Fn(l),l.flags&=-16777217):(s=s.memoizedProps,s!==v&&ml(l),Fn(l),bw(l,S,s,v,h)),null;case 27:if($e(l),h=Ce.current,S=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&ml(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Fn(l),null}s=fe.current,Ys(l)?vp(l):(s=lM(S,v,h),l.stateNode=s,ml(l))}return Fn(l),null;case 5:if($e(l),S=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&ml(l);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Fn(l),null}if(E=fe.current,Ys(l))vp(l);else{var F=uv(Ce.current);switch(E){case 1:E=F.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:E=F.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":E=F.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":E=F.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":E=F.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof v.is=="string"?F.createElement("select",{is:v.is}):F.createElement("select"),v.multiple?E.multiple=!0:v.size&&(E.size=v.size);break;default:E=typeof v.is=="string"?F.createElement(S,{is:v.is}):F.createElement(S)}}E[Cn]=l,E[Zn]=v;e:for(F=l.child;F!==null;){if(F.tag===5||F.tag===6)E.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===l)break e;for(;F.sibling===null;){if(F.return===null||F.return===l)break e;F=F.return}F.sibling.return=F.return,F=F.sibling}l.stateNode=E;e:switch(Ai(E,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&ml(l)}}return Fn(l),bw(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==v&&ml(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(s=Ce.current,Ys(l)){if(s=l.stateNode,h=l.memoizedProps,v=null,S=on,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}s[Cn]=l,s=!!(s.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||XR(s.nodeValue,h)),s||Eo(l,!0)}else s=uv(s).createTextNode(v),s[Cn]=l,l.stateNode=s}return Fn(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(v=Ys(l),h!==null){if(s===null){if(!v)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Cn]=l}else ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fn(l),s=!1}else h=bp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(Ga(l),l):(Ga(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Fn(l),null;case 13:if(v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=Ys(l),v!==null&&v.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Cn]=l}else ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fn(l),S=!1}else S=bp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Ga(l),l):(Ga(l),null)}return Ga(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,s=s!==null&&s.memoizedState!==null,h&&(v=l.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),E=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(E=v.memoizedState.cachePool.pool),E!==S&&(v.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),Zy(l,l.updateQueue),Fn(l),null);case 4:return pe(),s===null&&Uw(l.stateNode.containerInfo),Fn(l),null;case 10:return dl(l.type),Fn(l),null;case 19:if(ae(_r),v=l.memoizedState,v===null)return Fn(l),null;if(S=(l.flags&128)!==0,E=v.rendering,E===null)if(S)Ip(v,!1);else{if(dr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=ky(s),E!==null){for(l.flags|=128,Ip(v,!1),s=E.updateQueue,l.updateQueue=s,Zy(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)mp(h,s),h=h.sibling;return ce(_r,_r.current&1|2),Ut&&lt(l,v.treeForkCount),l.child}s=s.sibling}v.tail!==null&&_n()>ev&&(l.flags|=128,S=!0,Ip(v,!1),l.lanes=4194304)}else{if(!S)if(s=ky(E),s!==null){if(l.flags|=128,S=!0,s=s.updateQueue,l.updateQueue=s,Zy(l,s),Ip(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!Ut)return Fn(l),null}else 2*_n()-v.renderingStartTime>ev&&h!==536870912&&(l.flags|=128,S=!0,Ip(v,!1),l.lanes=4194304);v.isBackwards?(E.sibling=l.child,l.child=E):(s=v.last,s!==null?s.sibling=E:l.child=E,v.last=E)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=_n(),s.sibling=null,h=_r.current,ce(_r,S?h&1|2:h&1),Ut&&lt(l,v.treeForkCount),s):(Fn(l),null);case 22:case 23:return Ga(l),$_(),v=l.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(Fn(l),l.subtreeFlags&6&&(l.flags|=8192)):Fn(l),h=l.updateQueue,h!==null&&Zy(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),s!==null&&ae(zu),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),dl(Or),Fn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function qK(s,l){switch(cr(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return dl(Or),pe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(Ga(l),l.alternate===null)throw Error(r(340));ul()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Ga(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ul()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ae(_r),null;case 4:return pe(),null;case 10:return dl(l.type),null;case 22:case 23:return Ga(l),$_(),s!==null&&ae(zu),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return dl(Or),null;case 25:return null;default:return null}}function nR(s,l){switch(cr(l),l.tag){case 3:dl(Or),pe();break;case 26:case 27:case 5:$e(l);break;case 4:pe();break;case 31:l.memoizedState!==null&&Ga(l);break;case 13:Ga(l);break;case 19:ae(_r);break;case 10:dl(l.type);break;case 22:case 23:Ga(l),$_(),s!==null&&ae(zu);break;case 24:dl(Or)}}function Rp(s,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&s)===s){v=void 0;var E=h.create,F=h.inst;v=E(),F.destroy=v}h=h.next}while(h!==S)}}catch(Y){xn(l,l.return,Y)}}function xc(s,l,h){try{var v=l.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var E=S.next;v=E;do{if((v.tag&s)===s){var F=v.inst,Y=F.destroy;if(Y!==void 0){F.destroy=void 0,S=l;var ue=h,Se=Y;try{Se()}catch(Ie){xn(S,ue,Ie)}}}v=v.next}while(v!==E)}}catch(Ie){xn(l,l.return,Ie)}}function rR(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{Kj(l,h)}catch(v){xn(s,s.return,v)}}}function iR(s,l,h){h.props=Hu(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(v){xn(s,l,v)}}function Mp(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof h=="function"?s.refCleanup=h(v):h.current=v}}catch(S){xn(s,l,S)}}function Oo(s,l){var h=s.ref,v=s.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(S){xn(s,l,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){xn(s,l,S)}else h.current=null}function aR(s){var l=s.type,h=s.memoizedProps,v=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(S){xn(s,s.return,S)}}function xw(s,l,h){try{var v=s.stateNode;fW(v,s.type,h,l),v[Zn]=l}catch(S){xn(s,s.return,S)}}function sR(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Pc(s.type)||s.tag===4}function _w(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sR(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Pc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ww(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Fr));else if(v!==4&&(v===27&&Pc(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(ww(s,l,h),s=s.sibling;s!==null;)ww(s,l,h),s=s.sibling}function Yy(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(v===27&&Pc(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Yy(s,l,h),s=s.sibling;s!==null;)Yy(s,l,h),s=s.sibling}function oR(s){var l=s.stateNode,h=s.memoizedProps;try{for(var v=s.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Ai(l,v,h),l[Cn]=s,l[Zn]=h}catch(E){xn(s,s.return,E)}}var gl=!1,jr=!1,Sw=!1,lR=typeof WeakSet=="function"?WeakSet:Set,di=null;function HK(s,l){if(s=s.containerInfo,qw=yv,s=Cu(s),xo(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var F=0,Y=-1,ue=-1,Se=0,Ie=0,Le=s,Ae=null;t:for(;;){for(var Ne;Le!==h||S!==0&&Le.nodeType!==3||(Y=F+S),Le!==E||v!==0&&Le.nodeType!==3||(ue=F+v),Le.nodeType===3&&(F+=Le.nodeValue.length),(Ne=Le.firstChild)!==null;)Ae=Le,Le=Ne;for(;;){if(Le===s)break t;if(Ae===h&&++Se===S&&(Y=F),Ae===E&&++Ie===v&&(ue=F),(Ne=Le.nextSibling)!==null)break;Le=Ae,Ae=Le.parentNode}Le=Ne}h=Y===-1||ue===-1?null:{start:Y,end:ue}}else h=null}h=h||{start:0,end:0}}else h=null;for(Hw={focusedElem:s,selectionRange:h},yv=!1,di=l;di!==null;)if(l=di,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,di=s;else for(;di!==null;){switch(l=di,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)S=s[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,h=l,S=E.memoizedProps,E=E.memoizedState,v=h.stateNode;try{var it=Hu(h.type,S);s=v.getSnapshotBeforeUpdate(it,E),v.__reactInternalSnapshotBeforeUpdate=s}catch(gt){xn(h,h.return,gt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)Ww(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ww(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,di=s;break}di=l.return}}function cR(s,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:vl(s,h),v&4&&Rp(5,h);break;case 1:if(vl(s,h),v&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(F){xn(h,h.return,F)}else{var S=Hu(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(S,l,s.__reactInternalSnapshotBeforeUpdate)}catch(F){xn(h,h.return,F)}}v&64&&rR(h),v&512&&Mp(h,h.return);break;case 3:if(vl(s,h),v&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Kj(s,l)}catch(F){xn(h,h.return,F)}}break;case 27:l===null&&v&4&&oR(h);case 26:case 5:vl(s,h),l===null&&v&4&&aR(h),v&512&&Mp(h,h.return);break;case 12:vl(s,h);break;case 31:vl(s,h),v&4&&fR(s,h);break;case 13:vl(s,h),v&4&&hR(s,h),v&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=eW.bind(null,h),xW(s,h))));break;case 22:if(v=h.memoizedState!==null||gl,!v){l=l!==null&&l.memoizedState!==null||jr,S=gl;var E=jr;gl=v,(jr=l)&&!E?bl(s,h,(h.subtreeFlags&8772)!==0):vl(s,h),gl=S,jr=E}break;case 30:break;default:vl(s,h)}}function uR(s){var l=s.alternate;l!==null&&(s.alternate=null,uR(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&us(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Xn=null,Aa=!1;function yl(s,l,h){for(h=h.child;h!==null;)dR(s,l,h),h=h.sibling}function dR(s,l,h){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(vr,h)}catch{}switch(h.tag){case 26:jr||Oo(h,l),yl(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:jr||Oo(h,l);var v=Xn,S=Aa;Pc(h.type)&&(Xn=h.stateNode,Aa=!1),yl(s,l,h),Fp(h.stateNode),Xn=v,Aa=S;break;case 5:jr||Oo(h,l);case 6:if(v=Xn,S=Aa,Xn=null,yl(s,l,h),Xn=v,Aa=S,Xn!==null)if(Aa)try{(Xn.nodeType===9?Xn.body:Xn.nodeName==="HTML"?Xn.ownerDocument.body:Xn).removeChild(h.stateNode)}catch(E){xn(h,l,E)}else try{Xn.removeChild(h.stateNode)}catch(E){xn(h,l,E)}break;case 18:Xn!==null&&(Aa?(s=Xn,rM(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Pf(s)):rM(Xn,h.stateNode));break;case 4:v=Xn,S=Aa,Xn=h.stateNode.containerInfo,Aa=!0,yl(s,l,h),Xn=v,Aa=S;break;case 0:case 11:case 14:case 15:xc(2,h,l),jr||xc(4,h,l),yl(s,l,h);break;case 1:jr||(Oo(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&iR(h,l,v)),yl(s,l,h);break;case 21:yl(s,l,h);break;case 22:jr=(v=jr)||h.memoizedState!==null,yl(s,l,h),jr=v;break;default:yl(s,l,h)}}function fR(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Pf(s)}catch(h){xn(l,l.return,h)}}}function hR(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Pf(s)}catch(h){xn(l,l.return,h)}}function GK(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new lR),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new lR),l;default:throw Error(r(435,s.tag))}}function Xy(s,l){var h=GK(s);l.forEach(function(v){if(!h.has(v)){h.add(v);var S=tW.bind(null,s,v);v.then(S,S)}})}function Ea(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v],E=s,F=l,Y=F;e:for(;Y!==null;){switch(Y.tag){case 27:if(Pc(Y.type)){Xn=Y.stateNode,Aa=!1;break e}break;case 5:Xn=Y.stateNode,Aa=!1;break e;case 3:case 4:Xn=Y.stateNode.containerInfo,Aa=!0;break e}Y=Y.return}if(Xn===null)throw Error(r(160));dR(E,F,S),Xn=null,Aa=!1,E=S.alternate,E!==null&&(E.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)pR(l,s),l=l.sibling}var Qs=null;function pR(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ea(l,s),Pa(s),v&4&&(xc(3,s,s.return),Rp(3,s),xc(5,s,s.return));break;case 1:Ea(l,s),Pa(s),v&512&&(jr||h===null||Oo(h,h.return)),v&64&&gl&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var S=Qs;if(Ea(l,s),Pa(s),v&512&&(jr||h===null||Oo(h,h.return)),v&4){var E=h!==null?h.memoizedState:null;if(v=s.memoizedState,h===null)if(v===null)if(s.stateNode===null){e:{v=s.type,h=s.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":E=S.getElementsByTagName("title")[0],(!E||E[ki]||E[Cn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=S.createElement(v),S.head.insertBefore(E,S.querySelector("head > title"))),Ai(E,v,h),E[Cn]=s,$n(E),v=E;break e;case"link":var F=pM("link","href",S).get(v+(h.href||""));if(F){for(var Y=0;Y<F.length;Y++)if(E=F[Y],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){F.splice(Y,1);break t}}E=S.createElement(v),Ai(E,v,h),S.head.appendChild(E);break;case"meta":if(F=pM("meta","content",S).get(v+(h.content||""))){for(Y=0;Y<F.length;Y++)if(E=F[Y],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){F.splice(Y,1);break t}}E=S.createElement(v),Ai(E,v,h),S.head.appendChild(E);break;default:throw Error(r(468,v))}E[Cn]=s,$n(E),v=E}s.stateNode=v}else mM(S,s.type,s.stateNode);else s.stateNode=hM(S,v,s.memoizedProps);else E!==v?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,v===null?mM(S,s.type,s.stateNode):hM(S,v,s.memoizedProps)):v===null&&s.stateNode!==null&&xw(s,s.memoizedProps,h.memoizedProps)}break;case 27:Ea(l,s),Pa(s),v&512&&(jr||h===null||Oo(h,h.return)),h!==null&&v&4&&xw(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Ea(l,s),Pa(s),v&512&&(jr||h===null||Oo(h,h.return)),s.flags&32){S=s.stateNode;try{rr(S,"")}catch(it){xn(s,s.return,it)}}v&4&&s.stateNode!=null&&(S=s.memoizedProps,xw(s,S,h!==null?h.memoizedProps:S)),v&1024&&(Sw=!0);break;case 6:if(Ea(l,s),Pa(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,h=s.stateNode;try{h.nodeValue=v}catch(it){xn(s,s.return,it)}}break;case 3:if(hv=null,S=Qs,Qs=dv(l.containerInfo),Ea(l,s),Qs=S,Pa(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Pf(l.containerInfo)}catch(it){xn(s,s.return,it)}Sw&&(Sw=!1,mR(s));break;case 4:v=Qs,Qs=dv(s.stateNode.containerInfo),Ea(l,s),Pa(s),Qs=v;break;case 12:Ea(l,s),Pa(s);break;case 31:Ea(l,s),Pa(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Xy(s,v)));break;case 13:Ea(l,s),Pa(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Jy=_n()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Xy(s,v)));break;case 22:S=s.memoizedState!==null;var ue=h!==null&&h.memoizedState!==null,Se=gl,Ie=jr;if(gl=Se||S,jr=Ie||ue,Ea(l,s),jr=Ie,gl=Se,Pa(s),v&8192)e:for(l=s.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(h===null||ue||gl||jr||Gu(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){ue=h=l;try{if(E=ue.stateNode,S)F=E.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{Y=ue.stateNode;var Le=ue.memoizedProps.style,Ae=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;Y.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(it){xn(ue,ue.return,it)}}}else if(l.tag===6){if(h===null){ue=l;try{ue.stateNode.nodeValue=S?"":ue.memoizedProps}catch(it){xn(ue,ue.return,it)}}}else if(l.tag===18){if(h===null){ue=l;try{var Ne=ue.stateNode;S?iM(Ne,!0):iM(ue.stateNode,!1)}catch(it){xn(ue,ue.return,it)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=s.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Xy(s,h))));break;case 19:Ea(l,s),Pa(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Xy(s,v)));break;case 30:break;case 21:break;default:Ea(l,s),Pa(s)}}function Pa(s){var l=s.flags;if(l&2){try{for(var h,v=s.return;v!==null;){if(sR(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,E=_w(s);Yy(s,E,S);break;case 5:var F=h.stateNode;h.flags&32&&(rr(F,""),h.flags&=-33);var Y=_w(s);Yy(s,Y,F);break;case 3:case 4:var ue=h.stateNode.containerInfo,Se=_w(s);ww(s,Se,ue);break;default:throw Error(r(161))}}catch(Ie){xn(s,s.return,Ie)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function mR(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;mR(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function vl(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)cR(s,l.alternate,l),l=l.sibling}function Gu(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:xc(4,l,l.return),Gu(l);break;case 1:Oo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&iR(l,l.return,h),Gu(l);break;case 27:Fp(l.stateNode);case 26:case 5:Oo(l,l.return),Gu(l);break;case 22:l.memoizedState===null&&Gu(l);break;case 30:Gu(l);break;default:Gu(l)}s=s.sibling}}function bl(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,S=s,E=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:bl(S,E,h),Rp(4,E);break;case 1:if(bl(S,E,h),v=E,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Se){xn(v,v.return,Se)}if(v=E,S=v.updateQueue,S!==null){var Y=v.stateNode;try{var ue=S.shared.hiddenCallbacks;if(ue!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ue.length;S++)Gj(ue[S],Y)}catch(Se){xn(v,v.return,Se)}}h&&F&64&&rR(E),Mp(E,E.return);break;case 27:oR(E);case 26:case 5:bl(S,E,h),h&&v===null&&F&4&&aR(E),Mp(E,E.return);break;case 12:bl(S,E,h);break;case 31:bl(S,E,h),h&&F&4&&fR(S,E);break;case 13:bl(S,E,h),h&&F&4&&hR(S,E);break;case 22:E.memoizedState===null&&bl(S,E,h),Mp(E,E.return);break;case 30:break;default:bl(S,E,h)}l=l.sibling}}function Tw(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&xp(h))}function Aw(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&xp(s))}function Js(s,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gR(s,l,h,v),l=l.sibling}function gR(s,l,h,v){var S=l.flags;switch(l.tag){case 0:case 11:case 15:Js(s,l,h,v),S&2048&&Rp(9,l);break;case 1:Js(s,l,h,v);break;case 3:Js(s,l,h,v),S&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&xp(s)));break;case 12:if(S&2048){Js(s,l,h,v),s=l.stateNode;try{var E=l.memoizedProps,F=E.id,Y=E.onPostCommit;typeof Y=="function"&&Y(F,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ue){xn(l,l.return,ue)}}else Js(s,l,h,v);break;case 31:Js(s,l,h,v);break;case 13:Js(s,l,h,v);break;case 23:break;case 22:E=l.stateNode,F=l.alternate,l.memoizedState!==null?E._visibility&2?Js(s,l,h,v):Dp(s,l):E._visibility&2?Js(s,l,h,v):(E._visibility|=2,gf(s,l,h,v,(l.subtreeFlags&10256)!==0||!1)),S&2048&&Tw(F,l);break;case 24:Js(s,l,h,v),S&2048&&Aw(l.alternate,l);break;default:Js(s,l,h,v)}}function gf(s,l,h,v,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,F=l,Y=h,ue=v,Se=F.flags;switch(F.tag){case 0:case 11:case 15:gf(E,F,Y,ue,S),Rp(8,F);break;case 23:break;case 22:var Ie=F.stateNode;F.memoizedState!==null?Ie._visibility&2?gf(E,F,Y,ue,S):Dp(E,F):(Ie._visibility|=2,gf(E,F,Y,ue,S)),S&&Se&2048&&Tw(F.alternate,F);break;case 24:gf(E,F,Y,ue,S),S&&Se&2048&&Aw(F.alternate,F);break;default:gf(E,F,Y,ue,S)}l=l.sibling}}function Dp(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,v=l,S=v.flags;switch(v.tag){case 22:Dp(h,v),S&2048&&Tw(v.alternate,v);break;case 24:Dp(h,v),S&2048&&Aw(v.alternate,v);break;default:Dp(h,v)}l=l.sibling}}var kp=8192;function yf(s,l,h){if(s.subtreeFlags&kp)for(s=s.child;s!==null;)yR(s,l,h),s=s.sibling}function yR(s,l,h){switch(s.tag){case 26:yf(s,l,h),s.flags&kp&&s.memoizedState!==null&&IW(h,Qs,s.memoizedState,s.memoizedProps);break;case 5:yf(s,l,h);break;case 3:case 4:var v=Qs;Qs=dv(s.stateNode.containerInfo),yf(s,l,h),Qs=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=kp,kp=16777216,yf(s,l,h),kp=v):yf(s,l,h));break;default:yf(s,l,h)}}function vR(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Lp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];di=v,xR(v,s)}vR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bR(s),s=s.sibling}function bR(s){switch(s.tag){case 0:case 11:case 15:Lp(s),s.flags&2048&&xc(9,s,s.return);break;case 3:Lp(s);break;case 12:Lp(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Qy(s)):Lp(s);break;default:Lp(s)}}function Qy(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];di=v,xR(v,s)}vR(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:xc(8,l,l.return),Qy(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Qy(l));break;default:Qy(l)}s=s.sibling}}function xR(s,l){for(;di!==null;){var h=di;switch(h.tag){case 0:case 11:case 15:xc(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:xp(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,di=v;else e:for(h=s;di!==null;){v=di;var S=v.sibling,E=v.return;if(uR(v),v===h){di=null;break e}if(S!==null){S.return=E,di=S;break e}di=E}}}var KK={getCacheForType:function(s){var l=Si(Or),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return Si(Or).controller.signal}},WK=typeof WeakMap=="function"?WeakMap:Map,hn=0,jn=null,$t=null,qt=0,bn=0,Ka=null,_c=!1,vf=!1,Ew=!1,xl=0,dr=0,wc=0,Ku=0,Pw=0,Wa=0,bf=0,Vp=null,Oa=null,Ow=!1,Jy=0,_R=0,ev=1/0,tv=null,Sc=null,Gr=0,Tc=null,xf=null,_l=0,Cw=0,Nw=null,wR=null,Bp=0,jw=null;function Za(){return(hn&2)!==0&&qt!==0?qt&-qt:X.T!==null?Lw():ls()}function SR(){if(Wa===0)if((qt&536870912)===0||Ut){var s=zr;zr<<=1,(zr&3932160)===0&&(zr=262144),Wa=s}else Wa=536870912;return s=Ha.current,s!==null&&(s.flags|=32),Wa}function Ca(s,l,h){(s===jn&&(bn===2||bn===9)||s.cancelPendingCommit!==null)&&(_f(s,0),Ac(s,qt,Wa,!1)),nn(s,h),((hn&2)===0||s!==jn)&&(s===jn&&((hn&2)===0&&(Ku|=h),dr===4&&Ac(s,qt,Wa,!1)),Co(s))}function TR(s,l,h){if((hn&6)!==0)throw Error(r(327));var v=!h&&(l&127)===0&&(l&s.expiredLanes)===0||Xt(s,l),S=v?XK(s,l):Rw(s,l,!0),E=v;do{if(S===0){vf&&!v&&Ac(s,l,0,!1);break}else{if(h=s.current.alternate,E&&!ZK(h)){S=Rw(s,l,!1),E=!1;continue}if(S===2){if(E=l,s.errorRecoveryDisabledLanes&E)var F=0;else F=s.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){l=F;e:{var Y=s;S=Vp;var ue=Y.current.memoizedState.isDehydrated;if(ue&&(_f(Y,F).flags|=256),F=Rw(Y,F,!1),F!==2){if(Ew&&!ue){Y.errorRecoveryDisabledLanes|=E,Ku|=E,S=4;break e}E=Oa,Oa=S,E!==null&&(Oa===null?Oa=E:Oa.push.apply(Oa,E))}S=F}if(E=!1,S!==2)continue}}if(S===1){_f(s,0),Ac(s,l,0,!0);break}e:{switch(v=s,E=S,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ac(v,l,Wa,!_c);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(S=Jy+300-_n(),10<S)){if(Ac(v,l,Wa,!_c),dt(v,0,!0)!==0)break e;_l=l,v.timeoutHandle=tM(AR.bind(null,v,h,Oa,tv,Ow,l,Wa,Ku,bf,_c,E,"Throttled",-0,0),S);break e}AR(v,h,Oa,tv,Ow,l,Wa,Ku,bf,_c,E,null,-0,0)}}break}while(!0);Co(s)}function AR(s,l,h,v,S,E,F,Y,ue,Se,Ie,Le,Ae,Ne){if(s.timeoutHandle=-1,Le=l.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fr},yR(l,E,Le);var it=(E&62914560)===E?Jy-_n():(E&4194048)===E?_R-_n():0;if(it=RW(Le,it),it!==null){_l=E,s.cancelPendingCommit=it(RR.bind(null,s,l,E,h,v,S,F,Y,ue,Ie,Le,null,Ae,Ne)),Ac(s,E,F,!Se);return}}RR(s,l,E,h,v,S,F,Y,ue)}function ZK(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var S=h[v],E=S.getSnapshot;S=S.value;try{if(!ci(E(),S))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ac(s,l,h,v){l&=~Pw,l&=~Ku,s.suspendedLanes|=l,s.pingedLanes&=~l,v&&(s.warmLanes|=l),v=s.expirationTimes;for(var S=l;0<S;){var E=31-tn(S),F=1<<E;v[E]=-1,S&=~F}h!==0&&ni(s,h,l)}function nv(){return(hn&6)===0?(zp(0),!1):!0}function Iw(){if($t!==null){if(bn===0)var s=$t.return;else s=$t,Xs=Po=null,W_(s),df=null,wp=0,s=$t;for(;s!==null;)nR(s.alternate,s),s=s.return;$t=null}}function _f(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,mW(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),_l=0,Iw(),jn=s,$t=h=bs(s.current,null),qt=l,bn=0,Ka=null,_c=!1,vf=Xt(s,l),Ew=!1,bf=Wa=Pw=Ku=wc=dr=0,Oa=Vp=null,Ow=!1,(l&8)!==0&&(l|=l&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=l;0<v;){var S=31-tn(v),E=1<<S;l|=s[S],v&=~E}return xl=l,Mu(),h}function ER(s,l){Ct=null,X.H=Np,l===uf||l===jy?(l=$j(),bn=3):l===k_?(l=$j(),bn=4):bn=l===uw?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ka=l,$t===null&&(dr=1,Hy(s,y(l,s.current)))}function PR(){var s=Ha.current;return s===null?!0:(qt&4194048)===qt?xs===null:(qt&62914560)===qt||(qt&536870912)!==0?s===xs:!1}function OR(){var s=X.H;return X.H=Np,s===null?Np:s}function CR(){var s=X.A;return X.A=KK,s}function rv(){dr=4,_c||(qt&4194048)!==qt&&Ha.current!==null||(vf=!0),(wc&134217727)===0&&(Ku&134217727)===0||jn===null||Ac(jn,qt,Wa,!1)}function Rw(s,l,h){var v=hn;hn|=2;var S=OR(),E=CR();(jn!==s||qt!==l)&&(tv=null,_f(s,l)),l=!1;var F=dr;e:do try{if(bn!==0&&$t!==null){var Y=$t,ue=Ka;switch(bn){case 8:Iw(),F=6;break e;case 3:case 2:case 9:case 6:Ha.current===null&&(l=!0);var Se=bn;if(bn=0,Ka=null,wf(s,Y,ue,Se),h&&vf){F=0;break e}break;default:Se=bn,bn=0,Ka=null,wf(s,Y,ue,Se)}}YK(),F=dr;break}catch(Ie){ER(s,Ie)}while(!0);return l&&s.shellSuspendCounter++,Xs=Po=null,hn=v,X.H=S,X.A=E,$t===null&&(jn=null,qt=0,Mu()),F}function YK(){for(;$t!==null;)NR($t)}function XK(s,l){var h=hn;hn|=2;var v=OR(),S=CR();jn!==s||qt!==l?(tv=null,ev=_n()+500,_f(s,l)):vf=Xt(s,l);e:do try{if(bn!==0&&$t!==null){l=$t;var E=Ka;t:switch(bn){case 1:bn=0,Ka=null,wf(s,l,E,1);break;case 2:case 9:if(zj(E)){bn=0,Ka=null,jR(l);break}l=function(){bn!==2&&bn!==9||jn!==s||(bn=7),Co(s)},E.then(l,l);break e;case 3:bn=7;break e;case 4:bn=5;break e;case 7:zj(E)?(bn=0,Ka=null,jR(l)):(bn=0,Ka=null,wf(s,l,E,7));break;case 5:var F=null;switch($t.tag){case 26:F=$t.memoizedState;case 5:case 27:var Y=$t;if(F?gM(F):Y.stateNode.complete){bn=0,Ka=null;var ue=Y.sibling;if(ue!==null)$t=ue;else{var Se=Y.return;Se!==null?($t=Se,iv(Se)):$t=null}break t}}bn=0,Ka=null,wf(s,l,E,5);break;case 6:bn=0,Ka=null,wf(s,l,E,6);break;case 8:Iw(),dr=6;break e;default:throw Error(r(462))}}QK();break}catch(Ie){ER(s,Ie)}while(!0);return Xs=Po=null,X.H=v,X.A=S,hn=h,$t!==null?0:(jn=null,qt=0,Mu(),dr)}function QK(){for(;$t!==null&&!mt();)NR($t)}function NR(s){var l=eR(s.alternate,s,xl);s.memoizedProps=s.pendingProps,l===null?iv(s):$t=l}function jR(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=WI(h,l,l.pendingProps,l.type,void 0,qt);break;case 11:l=WI(h,l,l.pendingProps,l.type.render,l.ref,qt);break;case 5:W_(l);default:nR(h,l),l=$t=mp(l,xl),l=eR(h,l,xl)}s.memoizedProps=s.pendingProps,l===null?iv(s):$t=l}function wf(s,l,h,v){Xs=Po=null,W_(l),df=null,wp=0;var S=l.return;try{if(zK(s,S,l,h,qt)){dr=1,Hy(s,y(h,s.current)),$t=null;return}}catch(E){if(S!==null)throw $t=S,E;dr=1,Hy(s,y(h,s.current)),$t=null;return}l.flags&32768?(Ut||v===1?s=!0:vf||(qt&536870912)!==0?s=!1:(_c=s=!0,(v===2||v===9||v===3||v===6)&&(v=Ha.current,v!==null&&v.tag===13&&(v.flags|=16384))),IR(l,s)):iv(l)}function iv(s){var l=s;do{if((l.flags&32768)!==0){IR(l,_c);return}s=l.return;var h=FK(l.alternate,l,xl);if(h!==null){$t=h;return}if(l=l.sibling,l!==null){$t=l;return}$t=l=s}while(l!==null);dr===0&&(dr=5)}function IR(s,l){do{var h=qK(s.alternate,s);if(h!==null){h.flags&=32767,$t=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){$t=s;return}$t=s=h}while(s!==null);dr=6,$t=null}function RR(s,l,h,v,S,E,F,Y,ue){s.cancelPendingCommit=null;do av();while(Gr!==0);if((hn&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=nf,Er(s,h,E,F,Y,ue),s===jn&&($t=jn=null,qt=0),xf=l,Tc=s,_l=h,Cw=E,Nw=S,wR=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,nW(Rn,function(){return VR(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=X.T,X.T=null,S=re.p,re.p=2,F=hn,hn|=4;try{HK(s,l,h)}finally{hn=F,re.p=S,X.T=v}}Gr=1,MR(),DR(),kR()}}function MR(){if(Gr===1){Gr=0;var s=Tc,l=xf,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=X.T,X.T=null;var v=re.p;re.p=2;var S=hn;hn|=4;try{pR(l,s);var E=Hw,F=Cu(s.containerInfo),Y=E.focusedElem,ue=E.selectionRange;if(F!==Y&&Y&&Y.ownerDocument&&Qd(Y.ownerDocument.documentElement,Y)){if(ue!==null&&xo(Y)){var Se=ue.start,Ie=ue.end;if(Ie===void 0&&(Ie=Se),"selectionStart"in Y)Y.selectionStart=Se,Y.selectionEnd=Math.min(Ie,Y.value.length);else{var Le=Y.ownerDocument||document,Ae=Le&&Le.defaultView||window;if(Ae.getSelection){var Ne=Ae.getSelection(),it=Y.textContent.length,gt=Math.min(ue.start,it),En=ue.end===void 0?gt:Math.min(ue.end,it);!Ne.extend&&gt>En&&(F=En,En=gt,gt=F);var ge=Ou(Y,gt),he=Ou(Y,En);if(ge&&he&&(Ne.rangeCount!==1||Ne.anchorNode!==ge.node||Ne.anchorOffset!==ge.offset||Ne.focusNode!==he.node||Ne.focusOffset!==he.offset)){var _e=Le.createRange();_e.setStart(ge.node,ge.offset),Ne.removeAllRanges(),gt>En?(Ne.addRange(_e),Ne.extend(he.node,he.offset)):(_e.setEnd(he.node,he.offset),Ne.addRange(_e))}}}}for(Le=[],Ne=Y;Ne=Ne.parentNode;)Ne.nodeType===1&&Le.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Le.length;Y++){var De=Le[Y];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}yv=!!qw,Hw=qw=null}finally{hn=S,re.p=v,X.T=h}}s.current=l,Gr=2}}function DR(){if(Gr===2){Gr=0;var s=Tc,l=xf,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=X.T,X.T=null;var v=re.p;re.p=2;var S=hn;hn|=4;try{cR(s,l.alternate,l)}finally{hn=S,re.p=v,X.T=h}}Gr=3}}function kR(){if(Gr===4||Gr===3){Gr=0,an();var s=Tc,l=xf,h=_l,v=wR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Gr=5:(Gr=0,xf=Tc=null,LR(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(Sc=null),Qe(h),l=l.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(vr,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=X.T,S=re.p,re.p=2,X.T=null;try{for(var E=s.onRecoverableError,F=0;F<v.length;F++){var Y=v[F];E(Y.value,{componentStack:Y.stack})}}finally{X.T=l,re.p=S}}(_l&3)!==0&&av(),Co(s),S=s.pendingLanes,(h&261930)!==0&&(S&42)!==0?s===jw?Bp++:(Bp=0,jw=s):Bp=0,zp(0)}}function LR(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,xp(l)))}function av(){return MR(),DR(),kR(),VR()}function VR(){if(Gr!==5)return!1;var s=Tc,l=Cw;Cw=0;var h=Qe(_l),v=X.T,S=re.p;try{re.p=32>h?32:h,X.T=null,h=Nw,Nw=null;var E=Tc,F=_l;if(Gr=0,xf=Tc=null,_l=0,(hn&6)!==0)throw Error(r(331));var Y=hn;if(hn|=4,bR(E.current),gR(E,E.current,F,h),hn=Y,zp(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(vr,E)}catch{}return!0}finally{re.p=S,X.T=v,LR(s,l)}}function BR(s,l,h){l=y(h,l),l=cw(s.stateNode,l,2),s=yc(s,l,2),s!==null&&(nn(s,2),Co(s))}function xn(s,l,h){if(s.tag===3)BR(s,s,h);else for(;l!==null;){if(l.tag===3){BR(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Sc===null||!Sc.has(v))){s=y(h,s),h=zI(2),v=yc(l,h,2),v!==null&&(UI(h,v,l,s),nn(v,2),Co(v));break}}l=l.return}}function Mw(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new WK;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(h)||(Ew=!0,S.add(h),s=JK.bind(null,s,l,h),l.then(s,s))}function JK(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,jn===s&&(qt&h)===h&&(dr===4||dr===3&&(qt&62914560)===qt&&300>_n()-Jy?(hn&2)===0&&_f(s,0):Pw|=h,bf===qt&&(bf=0)),Co(s)}function zR(s,l){l===0&&(l=Kn()),s=vs(s,l),s!==null&&(nn(s,l),Co(s))}function eW(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),zR(s,h)}function tW(s,l){var h=0;switch(s.tag){case 31:case 13:var v=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(l),zR(s,h)}function nW(s,l){return Ze(s,l)}var sv=null,Sf=null,Dw=!1,ov=!1,kw=!1,Ec=0;function Co(s){s!==Sf&&s.next===null&&(Sf===null?sv=Sf=s:Sf=Sf.next=s),ov=!0,Dw||(Dw=!0,iW())}function zp(s,l){if(!kw&&ov){kw=!0;do for(var h=!1,v=sv;v!==null;){if(s!==0){var S=v.pendingLanes;if(S===0)var E=0;else{var F=v.suspendedLanes,Y=v.pingedLanes;E=(1<<31-tn(42|s)+1)-1,E&=S&~(F&~Y),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,qR(v,E))}else E=qt,E=dt(v,v===jn?E:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(E&3)===0||Xt(v,E)||(h=!0,qR(v,E));v=v.next}while(h);kw=!1}}function rW(){UR()}function UR(){ov=Dw=!1;var s=0;Ec!==0&&pW()&&(s=Ec);for(var l=_n(),h=null,v=sv;v!==null;){var S=v.next,E=$R(v,l);E===0?(v.next=null,h===null?sv=S:h.next=S,S===null&&(Sf=h)):(h=v,(s!==0||(E&3)!==0)&&(ov=!0)),v=S}Gr!==0&&Gr!==5||zp(s),Ec!==0&&(Ec=0)}function $R(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,S=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var F=31-tn(E),Y=1<<F,ue=S[F];ue===-1?((Y&h)===0||(Y&v)!==0)&&(S[F]=Gn(Y,l)):ue<=l&&(s.expiredLanes|=Y),E&=~Y}if(l=jn,h=qt,h=dt(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,h===0||s===l&&(bn===2||bn===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Ye(v),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Xt(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(v!==null&&Ye(v),Qe(h)){case 2:case 8:h=Ii;break;case 32:h=Rn;break;case 268435456:h=ti;break;default:h=Rn}return v=FR.bind(null,s),h=Ze(h,v),s.callbackPriority=l,s.callbackNode=h,l}return v!==null&&v!==null&&Ye(v),s.callbackPriority=2,s.callbackNode=null,2}function FR(s,l){if(Gr!==0&&Gr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(av()&&s.callbackNode!==h)return null;var v=qt;return v=dt(s,s===jn?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(TR(s,v,l),$R(s,_n()),s.callbackNode!=null&&s.callbackNode===h?FR.bind(null,s):null)}function qR(s,l){if(av())return null;TR(s,l,!0)}function iW(){gW(function(){(hn&6)!==0?Ze(Un,rW):UR()})}function Lw(){if(Ec===0){var s=lf;s===0&&(s=er,er<<=1,(er&261888)===0&&(er=256)),Ec=s}return Ec}function HR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ia(""+s)}function GR(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function aW(s,l,h,v,S){if(l==="submit"&&h&&h.stateNode===S){var E=HR((S[Zn]||null).action),F=v.submitter;F&&(l=(l=F[Zn]||null)?HR(l.formAction):F.getAttribute("formAction"),l!==null&&(E=l,F=null));var Y=new qr("action","action",null,v,S);s.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ec!==0){var ue=F?GR(S,F):new FormData(S);rw(h,{pending:!0,data:ue,method:S.method,action:E},null,ue)}}else typeof E=="function"&&(Y.preventDefault(),ue=F?GR(S,F):new FormData(S),rw(h,{pending:!0,data:ue,method:S.method,action:E},E,ue))},currentTarget:S}]})}}for(var Vw=0;Vw<So.length;Vw++){var Bw=So[Vw],sW=Bw.toLowerCase(),oW=Bw[0].toUpperCase()+Bw.slice(1);wa(sW,"on"+oW)}wa(ju,"onAnimationEnd"),wa(Ay,"onAnimationIteration"),wa(Iu,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(O_,"onTransitionRun"),wa(Ey,"onTransitionStart"),wa(C_,"onTransitionCancel"),wa(fc,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Up));function KR(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],S=v.event;v=v.listeners;e:{var E=void 0;if(l)for(var F=v.length-1;0<=F;F--){var Y=v[F],ue=Y.instance,Se=Y.currentTarget;if(Y=Y.listener,ue!==E&&S.isPropagationStopped())break e;E=Y,S.currentTarget=Se;try{E(S)}catch(Ie){Ru(Ie)}S.currentTarget=null,E=ue}else for(F=0;F<v.length;F++){if(Y=v[F],ue=Y.instance,Se=Y.currentTarget,Y=Y.listener,ue!==E&&S.isPropagationStopped())break e;E=Y,S.currentTarget=Se;try{E(S)}catch(Ie){Ru(Ie)}S.currentTarget=null,E=ue}}}}function Ft(s,l){var h=l[vi];h===void 0&&(h=l[vi]=new Set);var v=s+"__bubble";h.has(v)||(WR(l,s,2,!1),h.add(v))}function zw(s,l,h){var v=0;l&&(v|=4),WR(h,s,v,l)}var lv="_reactListening"+Math.random().toString(36).slice(2);function Uw(s){if(!s[lv]){s[lv]=!0,$s.forEach(function(h){h!=="selectionchange"&&(lW.has(h)||zw(h,!1,s),zw(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[lv]||(l[lv]=!0,zw("selectionchange",!1,l))}}function WR(s,l,h,v){switch(SM(l)){case 2:var S=kW;break;case 8:S=LW;break;default:S=n1}h=S.bind(null,l,h,s),S=void 0,!Ba||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?s.addEventListener(l,h,{capture:!0,passive:S}):s.addEventListener(l,h,!0):S!==void 0?s.addEventListener(l,h,{passive:S}):s.addEventListener(l,h,!1)}function $w(s,l,h,v,S){var E=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var Y=v.stateNode.containerInfo;if(Y===S)break;if(F===4)for(F=v.return;F!==null;){var ue=F.tag;if((ue===3||ue===4)&&F.stateNode.containerInfo===S)return;F=F.return}for(;Y!==null;){if(F=Li(Y),F===null)return;if(ue=F.tag,ue===5||ue===6||ue===26||ue===27){v=E=F;continue e}Y=Y.parentNode}}v=v.return}Va(function(){var Se=E,Ie=ai(h),Le=[];e:{var Ae=Py.get(s);if(Ae!==void 0){var Ne=qr,it=s;switch(s){case"keypress":if(Je(h)===0)break e;case"keydown":case"keyup":Ne=Su;break;case"focusin":it="focus",Ne=al;break;case"focusout":it="blur",Ne=al;break;case"beforeblur":case"afterblur":Ne=al;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=M;break;case ju:case Ay:case Iu:Ne=nc;break;case fc:Ne=J;break;case"scroll":case"scrollend":Ne=kt;break;case"wheel":Ne=Ee;break;case"copy":case"cut":case"paste":Ne=aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Ks;break;case"toggle":case"beforetoggle":Ne=_t}var gt=(l&4)!==0,En=!gt&&(s==="scroll"||s==="scrollend"),ge=gt?Ae!==null?Ae+"Capture":null:Ae;gt=[];for(var he=Se,_e;he!==null;){var De=he;if(_e=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||_e===null||ge===null||(De=wi(he,ge),De!=null&&gt.push($p(he,De,_e))),En)break;he=he.return}0<gt.length&&(Ae=new Ne(Ae,it,null,h,Ie),Le.push({event:Ae,listeners:gt}))}}if((l&7)===0){e:{if(Ae=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",Ae&&h!==La&&(it=h.relatedTarget||h.fromElement)&&(Li(it)||it[$r]))break e;if((Ne||Ae)&&(Ae=Ie.window===Ie?Ie:(Ae=Ie.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Ne?(it=h.relatedTarget||h.toElement,Ne=Se,it=it?Li(it):null,it!==null&&(En=a(it),gt=it.tag,it!==En||gt!==5&&gt!==27&&gt!==6)&&(it=null)):(Ne=null,it=Se),Ne!==it)){if(gt=vu,De="onMouseLeave",ge="onMouseEnter",he="mouse",(s==="pointerout"||s==="pointerover")&&(gt=Ks,De="onPointerLeave",ge="onPointerEnter",he="pointer"),En=Ne==null?Ae:br(Ne),_e=it==null?Ae:br(it),Ae=new gt(De,he+"leave",Ne,h,Ie),Ae.target=En,Ae.relatedTarget=_e,De=null,Li(Ie)===Se&&(gt=new gt(ge,he+"enter",it,h,Ie),gt.target=_e,gt.relatedTarget=En,De=gt),En=De,Ne&&it)t:{for(gt=cW,ge=Ne,he=it,_e=0,De=ge;De;De=gt(De))_e++;De=0;for(var ft=he;ft;ft=gt(ft))De++;for(;0<_e-De;)ge=gt(ge),_e--;for(;0<De-_e;)he=gt(he),De--;for(;_e--;){if(ge===he||he!==null&&ge===he.alternate){gt=ge;break t}ge=gt(ge),he=gt(he)}gt=null}else gt=null;Ne!==null&&ZR(Le,Ae,Ne,gt,!1),it!==null&&En!==null&&ZR(Le,En,it,gt,!0)}}e:{if(Ae=Se?br(Se):window,Ne=Ae.nodeName&&Ae.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Ae.type==="file")var cn=Pu;else if(ms(Ae))if(xy)cn=P_;else{cn=E_;var ot=Ws}else Ne=Ae.nodeName,!Ne||Ne.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?Se&&na(Se.elementType)&&(cn=Pu):cn=lc;if(cn&&(cn=cn(s,Se))){by(Le,cn,h,Ie);break e}ot&&ot(s,Ae,Se),s==="focusout"&&Se&&Ae.type==="number"&&Se.memoizedProps.value!=null&&Bi(Ae,"number",Ae.value)}switch(ot=Se?br(Se):window,s){case"focusin":(ms(ot)||ot.contentEditable==="true")&&(_o=ot,ef=Se,Nu=null);break;case"focusout":Nu=ef=_o=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,Sy(Le,h,Ie);break;case"selectionchange":if(Jd)break;case"keydown":case"keyup":Sy(Le,h,Ie)}var It;if(Jt)e:{switch(s){case"compositionstart":var Ht="onCompositionStart";break e;case"compositionend":Ht="onCompositionEnd";break e;case"compositionupdate":Ht="onCompositionUpdate";break e}Ht=void 0}else ac?sl(s,h)&&(Ht="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Ht="onCompositionStart");Ht&&(_a&&h.locale!=="ko"&&(ac||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&ac&&(It=qe()):(zi=Ie,te="value"in zi?zi.value:zi.textContent,ac=!0)),ot=cv(Se,Ht),0<ot.length&&(Ht=new Ua(Ht,s,null,h,Ie),Le.push({event:Ht,listeners:ot}),It?Ht.data=It:(It=ol(h),It!==null&&(Ht.data=It)))),(It=xa?qa(s,h):sc(s,h))&&(Ht=cv(Se,"onBeforeInput"),0<Ht.length&&(ot=new Ua("onBeforeInput","beforeinput",null,h,Ie),Le.push({event:ot,listeners:Ht}),ot.data=It)),aW(Le,s,Se,h,Ie)}KR(Le,l)})}function $p(s,l,h){return{instance:s,listener:l,currentTarget:h}}function cv(s,l){for(var h=l+"Capture",v=[];s!==null;){var S=s,E=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||E===null||(S=wi(s,h),S!=null&&v.unshift($p(s,S,E)),S=wi(s,l),S!=null&&v.push($p(s,S,E))),s.tag===3)return v;s=s.return}return[]}function cW(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ZR(s,l,h,v,S){for(var E=l._reactName,F=[];h!==null&&h!==v;){var Y=h,ue=Y.alternate,Se=Y.stateNode;if(Y=Y.tag,ue!==null&&ue===v)break;Y!==5&&Y!==26&&Y!==27||Se===null||(ue=Se,S?(Se=wi(h,E),Se!=null&&F.unshift($p(h,Se,ue))):S||(Se=wi(h,E),Se!=null&&F.push($p(h,Se,ue)))),h=h.return}F.length!==0&&s.push({event:l,listeners:F})}var uW=/\r\n?/g,dW=/\u0000|\uFFFD/g;function YR(s){return(typeof s=="string"?s:""+s).replace(uW,`
`).replace(dW,"")}function XR(s,l){return l=YR(l),YR(s)===l}function An(s,l,h,v,S,E){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||rr(s,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&rr(s,""+v);break;case"className":Lt(s,"class",v);break;case"tabIndex":Lt(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Lt(s,h,v);break;case"style":qs(s,v,E);break;case"data":if(l!=="object"){Lt(s,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=ia(""+v),s.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(l!=="input"&&An(s,l,"name",S.name,S,null),An(s,l,"formEncType",S.formEncType,S,null),An(s,l,"formMethod",S.formMethod,S,null),An(s,l,"formTarget",S.formTarget,S,null)):(An(s,l,"encType",S.encType,S,null),An(s,l,"method",S.method,S,null),An(s,l,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=ia(""+v),s.setAttribute(h,v);break;case"onClick":v!=null&&(s.onclick=Fr);break;case"onScroll":v!=null&&Ft("scroll",s);break;case"onScrollEnd":v!=null&&Ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}h=ia(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""+v):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":v===!0?s.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,v):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(h,v):s.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(h):s.setAttribute(h,v);break;case"popover":Ft("beforetoggle",s),Ft("toggle",s),Dt(s,"popover",v);break;case"xlinkActuate":kn(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":kn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":kn(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":kn(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":kn(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":kn(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":kn(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":kn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":kn(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Dt(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Hs.get(h)||h,Dt(s,h,v))}}function Fw(s,l,h,v,S,E){switch(h){case"style":qs(s,v,E);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof v=="string"?rr(s,v):(typeof v=="number"||typeof v=="bigint")&&rr(s,""+v);break;case"onScroll":v!=null&&Ft("scroll",s);break;case"onScrollEnd":v!=null&&Ft("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),l=h.slice(2,S?h.length-7:void 0),E=s[Zn]||null,E=E!=null?E[h]:null,typeof E=="function"&&s.removeEventListener(l,E,S),typeof v=="function")){typeof E!="function"&&E!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,v,S);break e}h in s?s[h]=v:v===!0?s.setAttribute(h,""):Dt(s,h,v)}}}function Ai(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",s),Ft("load",s);var v=!1,S=!1,E;for(E in h)if(h.hasOwnProperty(E)){var F=h[E];if(F!=null)switch(E){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:An(s,l,E,F,h,null)}}S&&An(s,l,"srcSet",h.srcSet,h,null),v&&An(s,l,"src",h.src,h,null);return;case"input":Ft("invalid",s);var Y=E=F=S=null,ue=null,Se=null;for(v in h)if(h.hasOwnProperty(v)){var Ie=h[v];if(Ie!=null)switch(v){case"name":S=Ie;break;case"type":F=Ie;break;case"checked":ue=Ie;break;case"defaultChecked":Se=Ie;break;case"value":E=Ie;break;case"defaultValue":Y=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,l));break;default:An(s,l,v,Ie,h,null)}}go(s,E,Y,ue,Se,F,S,!1);return;case"select":Ft("invalid",s),v=F=E=null;for(S in h)if(h.hasOwnProperty(S)&&(Y=h[S],Y!=null))switch(S){case"value":E=Y;break;case"defaultValue":F=Y;break;case"multiple":v=Y;default:An(s,l,S,Y,h,null)}l=E,h=F,s.multiple=!!v,l!=null?mn(s,!!v,l,!1):h!=null&&mn(s,!!v,h,!0);return;case"textarea":Ft("invalid",s),E=S=v=null;for(F in h)if(h.hasOwnProperty(F)&&(Y=h[F],Y!=null))switch(F){case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":E=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:An(s,l,F,Y,h,null)}_i(s,v,S,E);return;case"option":for(ue in h)if(h.hasOwnProperty(ue)&&(v=h[ue],v!=null))switch(ue){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:An(s,l,ue,v,h,null)}return;case"dialog":Ft("beforetoggle",s),Ft("toggle",s),Ft("cancel",s),Ft("close",s);break;case"iframe":case"object":Ft("load",s);break;case"video":case"audio":for(v=0;v<Up.length;v++)Ft(Up[v],s);break;case"image":Ft("error",s),Ft("load",s);break;case"details":Ft("toggle",s);break;case"embed":case"source":case"link":Ft("error",s),Ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(v=h[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:An(s,l,Se,v,h,null)}return;default:if(na(l)){for(Ie in h)h.hasOwnProperty(Ie)&&(v=h[Ie],v!==void 0&&Fw(s,l,Ie,v,h,void 0));return}}for(Y in h)h.hasOwnProperty(Y)&&(v=h[Y],v!=null&&An(s,l,Y,v,h,null))}function fW(s,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,E=null,F=null,Y=null,ue=null,Se=null,Ie=null;for(Ne in h){var Le=h[Ne];if(h.hasOwnProperty(Ne)&&Le!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":ue=Le;default:v.hasOwnProperty(Ne)||An(s,l,Ne,null,v,Le)}}for(var Ae in v){var Ne=v[Ae];if(Le=h[Ae],v.hasOwnProperty(Ae)&&(Ne!=null||Le!=null))switch(Ae){case"type":E=Ne;break;case"name":S=Ne;break;case"checked":Se=Ne;break;case"defaultChecked":Ie=Ne;break;case"value":F=Ne;break;case"defaultValue":Y=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,l));break;default:Ne!==Le&&An(s,l,Ae,Ne,v,Le)}}Fs(s,F,Y,ue,Se,Ie,E,S);return;case"select":Ne=F=Y=Ae=null;for(E in h)if(ue=h[E],h.hasOwnProperty(E)&&ue!=null)switch(E){case"value":break;case"multiple":Ne=ue;default:v.hasOwnProperty(E)||An(s,l,E,null,v,ue)}for(S in v)if(E=v[S],ue=h[S],v.hasOwnProperty(S)&&(E!=null||ue!=null))switch(S){case"value":Ae=E;break;case"defaultValue":Y=E;break;case"multiple":F=E;default:E!==ue&&An(s,l,S,E,v,ue)}l=Y,h=F,v=Ne,Ae!=null?mn(s,!!h,Ae,!1):!!v!=!!h&&(l!=null?mn(s,!!h,l,!0):mn(s,!!h,h?[]:"",!1));return;case"textarea":Ne=Ae=null;for(Y in h)if(S=h[Y],h.hasOwnProperty(Y)&&S!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:An(s,l,Y,null,v,S)}for(F in v)if(S=v[F],E=h[F],v.hasOwnProperty(F)&&(S!=null||E!=null))switch(F){case"value":Ae=S;break;case"defaultValue":Ne=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==E&&An(s,l,F,S,v,E)}ta(s,Ae,Ne);return;case"option":for(var it in h)if(Ae=h[it],h.hasOwnProperty(it)&&Ae!=null&&!v.hasOwnProperty(it))switch(it){case"selected":s.selected=!1;break;default:An(s,l,it,null,v,Ae)}for(ue in v)if(Ae=v[ue],Ne=h[ue],v.hasOwnProperty(ue)&&Ae!==Ne&&(Ae!=null||Ne!=null))switch(ue){case"selected":s.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol";break;default:An(s,l,ue,Ae,v,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in h)Ae=h[gt],h.hasOwnProperty(gt)&&Ae!=null&&!v.hasOwnProperty(gt)&&An(s,l,gt,null,v,Ae);for(Se in v)if(Ae=v[Se],Ne=h[Se],v.hasOwnProperty(Se)&&Ae!==Ne&&(Ae!=null||Ne!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:An(s,l,Se,Ae,v,Ne)}return;default:if(na(l)){for(var En in h)Ae=h[En],h.hasOwnProperty(En)&&Ae!==void 0&&!v.hasOwnProperty(En)&&Fw(s,l,En,void 0,v,Ae);for(Ie in v)Ae=v[Ie],Ne=h[Ie],!v.hasOwnProperty(Ie)||Ae===Ne||Ae===void 0&&Ne===void 0||Fw(s,l,Ie,Ae,v,Ne);return}}for(var ge in h)Ae=h[ge],h.hasOwnProperty(ge)&&Ae!=null&&!v.hasOwnProperty(ge)&&An(s,l,ge,null,v,Ae);for(Le in v)Ae=v[Le],Ne=h[Le],!v.hasOwnProperty(Le)||Ae===Ne||Ae==null&&Ne==null||An(s,l,Le,Ae,v,Ne)}function QR(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hW(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var S=h[v],E=S.transferSize,F=S.initiatorType,Y=S.duration;if(E&&Y&&QR(F)){for(F=0,Y=S.responseEnd,v+=1;v<h.length;v++){var ue=h[v],Se=ue.startTime;if(Se>Y)break;var Ie=ue.transferSize,Le=ue.initiatorType;Ie&&QR(Le)&&(ue=ue.responseEnd,F+=Ie*(ue<Y?1:(Y-Se)/(ue-Se)))}if(--v,l+=8*(E+F)/(S.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qw=null,Hw=null;function uv(s){return s.nodeType===9?s:s.ownerDocument}function JR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eM(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Gw(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Kw=null;function pW(){var s=window.event;return s&&s.type==="popstate"?s===Kw?!1:(Kw=s,!0):(Kw=null,!1)}var tM=typeof setTimeout=="function"?setTimeout:void 0,mW=typeof clearTimeout=="function"?clearTimeout:void 0,nM=typeof Promise=="function"?Promise:void 0,gW=typeof queueMicrotask=="function"?queueMicrotask:typeof nM<"u"?function(s){return nM.resolve(null).then(s).catch(yW)}:tM;function yW(s){setTimeout(function(){throw s})}function Pc(s){return s==="head"}function rM(s,l){var h=l,v=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(v===0){s.removeChild(S),Pf(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")Fp(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Fp(h);for(var E=h.firstChild;E;){var F=E.nextSibling,Y=E.nodeName;E[ki]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=F}}else h==="body"&&Fp(s.ownerDocument.body);h=S}while(h);Pf(l)}function iM(s,l){var h=s;s=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=v}while(h)}function Ww(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Ww(h),us(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function vW(s,l,h,v){for(;s.nodeType===1;){var S=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[ki])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=_s(s.nextSibling),s===null)break}return null}function bW(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=_s(s.nextSibling),s===null))return null;return s}function aM(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=_s(s.nextSibling),s===null))return null;return s}function Zw(s){return s.data==="$?"||s.data==="$~"}function Yw(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function xW(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function _s(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Xw=null;function sM(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return _s(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function oM(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function lM(s,l,h){switch(l=uv(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Fp(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);us(s)}var ws=new Map,cM=new Set;function dv(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var wl=re.d;re.d={f:_W,r:wW,D:SW,C:TW,L:AW,m:EW,X:OW,S:PW,M:CW};function _W(){var s=wl.f(),l=nv();return s||l}function wW(s){var l=ii(s);l!==null&&l.tag===5&&l.type==="form"?EI(l):wl.r(s)}var Tf=typeof document>"u"?null:document;function uM(s,l,h){var v=Tf;if(v&&typeof l=="string"&&l){var S=Sn(l);S='link[rel="'+s+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),cM.has(S)||(cM.add(S),s={rel:s,crossOrigin:h,href:l},v.querySelector(S)===null&&(l=v.createElement("link"),Ai(l,"link",s),$n(l),v.head.appendChild(l)))}}function SW(s){wl.D(s),uM("dns-prefetch",s,null)}function TW(s,l){wl.C(s,l),uM("preconnect",s,l)}function AW(s,l,h){wl.L(s,l,h);var v=Tf;if(v&&s&&l){var S='link[rel="preload"][as="'+Sn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Sn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Sn(h.imageSizes)+'"]')):S+='[href="'+Sn(s)+'"]';var E=S;switch(l){case"style":E=Af(s);break;case"script":E=Ef(s)}ws.has(E)||(s=g({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),ws.set(E,s),v.querySelector(S)!==null||l==="style"&&v.querySelector(qp(E))||l==="script"&&v.querySelector(Hp(E))||(l=v.createElement("link"),Ai(l,"link",s),$n(l),v.head.appendChild(l)))}}function EW(s,l){wl.m(s,l);var h=Tf;if(h&&s){var v=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Sn(v)+'"][href="'+Sn(s)+'"]',E=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ef(s)}if(!ws.has(E)&&(s=g({rel:"modulepreload",href:s},l),ws.set(E,s),h.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Hp(E)))return}v=h.createElement("link"),Ai(v,"link",s),$n(v),h.head.appendChild(v)}}}function PW(s,l,h){wl.S(s,l,h);var v=Tf;if(v&&s){var S=bi(v).hoistableStyles,E=Af(s);l=l||"default";var F=S.get(E);if(!F){var Y={loading:0,preload:null};if(F=v.querySelector(qp(E)))Y.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},h),(h=ws.get(E))&&Qw(s,h);var ue=F=v.createElement("link");$n(ue),Ai(ue,"link",s),ue._p=new Promise(function(Se,Ie){ue.onload=Se,ue.onerror=Ie}),ue.addEventListener("load",function(){Y.loading|=1}),ue.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,fv(F,l,v)}F={type:"stylesheet",instance:F,count:1,state:Y},S.set(E,F)}}}function OW(s,l){wl.X(s,l);var h=Tf;if(h&&s){var v=bi(h).hoistableScripts,S=Ef(s),E=v.get(S);E||(E=h.querySelector(Hp(S)),E||(s=g({src:s,async:!0},l),(l=ws.get(S))&&Jw(s,l),E=h.createElement("script"),$n(E),Ai(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(S,E))}}function CW(s,l){wl.M(s,l);var h=Tf;if(h&&s){var v=bi(h).hoistableScripts,S=Ef(s),E=v.get(S);E||(E=h.querySelector(Hp(S)),E||(s=g({src:s,async:!0,type:"module"},l),(l=ws.get(S))&&Jw(s,l),E=h.createElement("script"),$n(E),Ai(E,"link",s),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(S,E))}}function dM(s,l,h,v){var S=(S=Ce.current)?dv(S):null;if(!S)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Af(h.href),h=bi(S).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Af(h.href);var E=bi(S).hoistableStyles,F=E.get(s);if(F||(S=S.ownerDocument||S,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,F),(E=S.querySelector(qp(s)))&&!E._p&&(F.instance=E,F.state.loading=5),ws.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ws.set(s,h),E||NW(S,s,h,F.state))),l&&v===null)throw Error(r(528,""));return F}if(l&&v!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ef(h),h=bi(S).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Af(s){return'href="'+Sn(s)+'"'}function qp(s){return'link[rel="stylesheet"]['+s+"]"}function fM(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function NW(s,l,h,v){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=s.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Ai(l,"link",h),$n(l),s.head.appendChild(l))}function Ef(s){return'[src="'+Sn(s)+'"]'}function Hp(s){return"script[async]"+s}function hM(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=s.querySelector('style[data-href~="'+Sn(h.href)+'"]');if(v)return l.instance=v,$n(v),v;var S=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),$n(v),Ai(v,"style",S),fv(v,h.precedence,s),l.instance=v;case"stylesheet":S=Af(h.href);var E=s.querySelector(qp(S));if(E)return l.state.loading|=4,l.instance=E,$n(E),E;v=fM(h),(S=ws.get(S))&&Qw(v,S),E=(s.ownerDocument||s).createElement("link"),$n(E);var F=E;return F._p=new Promise(function(Y,ue){F.onload=Y,F.onerror=ue}),Ai(E,"link",v),l.state.loading|=4,fv(E,h.precedence,s),l.instance=E;case"script":return E=Ef(h.src),(S=s.querySelector(Hp(E)))?(l.instance=S,$n(S),S):(v=h,(S=ws.get(E))&&(v=g({},h),Jw(v,S)),s=s.ownerDocument||s,S=s.createElement("script"),$n(S),Ai(S,"link",v),s.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,fv(v,h.precedence,s));return l.instance}function fv(s,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,E=S,F=0;F<v.length;F++){var Y=v[F];if(Y.dataset.precedence===l)E=Y;else if(E!==S)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function Qw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Jw(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var hv=null;function pM(s,l,h){if(hv===null){var v=new Map,S=hv=new Map;S.set(h,v)}else S=hv,v=S.get(h),v||(v=new Map,S.set(h,v));if(v.has(s))return v;for(v.set(s,null),h=h.getElementsByTagName(s),S=0;S<h.length;S++){var E=h[S];if(!(E[ki]||E[Cn]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var F=E.getAttribute(l)||"";F=s+F;var Y=v.get(F);Y?Y.push(E):v.set(F,[E])}}return v}function mM(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function jW(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function gM(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function IW(s,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=Af(v.href),E=l.querySelector(qp(S));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=pv.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=E,$n(E);return}E=l.ownerDocument||l,v=fM(v),(S=ws.get(S))&&Qw(v,S),E=E.createElement("link"),$n(E);var F=E;F._p=new Promise(function(Y,ue){F.onload=Y,F.onerror=ue}),Ai(E,"link",v),h.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=pv.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var e1=0;function RW(s,l){return s.stylesheets&&s.count===0&&gv(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var v=setTimeout(function(){if(s.stylesheets&&gv(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&e1===0&&(e1=62500*hW());var S=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&gv(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>e1?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function pv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mv=null;function gv(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mv=new Map,l.forEach(MW,s),mv=null,pv.call(s))}function MW(s,l){if(!(l.state.loading&4)){var h=mv.get(s);if(h)var v=h.get(null);else{h=new Map,mv.set(s,h);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<S.length;E++){var F=S[E];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(h.set(F.dataset.precedence,F),v=F)}v&&h.set(null,v)}S=l.instance,F=S.getAttribute("data-precedence"),E=h.get(F)||v,E===v&&h.set(null,S),h.set(F,S),this.count++,v=pv.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),E?E.parentNode.insertBefore(S,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),l.state.loading|=4}}var Gp={$$typeof:R,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function DW(s,l,h,v,S,E,F,Y,ue){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=E,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function yM(s,l,h,v,S,E,F,Y,ue,Se,Ie,Le){return s=new DW(s,l,h,F,ue,Se,Ie,Le,Y),l=1,E===!0&&(l|=24),E=Fi(3,null,null,l),s.current=E,E.stateNode=s,l=R_(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:v,isDehydrated:h,cache:l},L_(E),s}function vM(s){return s?(s=ll,s):ll}function bM(s,l,h,v,S,E){S=vM(S),v.context===null?v.context=S:v.pendingContext=S,v=gc(l),v.payload={element:h},E=E===void 0?null:E,E!==null&&(v.callback=E),h=yc(s,v,l),h!==null&&(Ca(h,s,l),Tp(h,s,l))}function xM(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function t1(s,l){xM(s,l),(s=s.alternate)&&xM(s,l)}function _M(s){if(s.tag===13||s.tag===31){var l=vs(s,67108864);l!==null&&Ca(l,s,67108864),t1(s,67108864)}}function wM(s){if(s.tag===13||s.tag===31){var l=Za();l=Dn(l);var h=vs(s,l);h!==null&&Ca(h,s,l),t1(s,l)}}var yv=!0;function kW(s,l,h,v){var S=X.T;X.T=null;var E=re.p;try{re.p=2,n1(s,l,h,v)}finally{re.p=E,X.T=S}}function LW(s,l,h,v){var S=X.T;X.T=null;var E=re.p;try{re.p=8,n1(s,l,h,v)}finally{re.p=E,X.T=S}}function n1(s,l,h,v){if(yv){var S=r1(v);if(S===null)$w(s,l,v,vv,h),TM(s,v);else if(BW(S,s,l,h,v))v.stopPropagation();else if(TM(s,v),l&4&&-1<VW.indexOf(s)){for(;S!==null;){var E=ii(S);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var F=Mi(E.pendingLanes);if(F!==0){var Y=E;for(Y.pendingLanes|=2,Y.entangledLanes|=2;F;){var ue=1<<31-tn(F);Y.entanglements[1]|=ue,F&=~ue}Co(E),(hn&6)===0&&(ev=_n()+500,zp(0))}}break;case 31:case 13:Y=vs(E,2),Y!==null&&Ca(Y,E,2),nv(),t1(E,2)}if(E=r1(v),E===null&&$w(s,l,v,vv,h),E===S)break;S=E}S!==null&&v.stopPropagation()}else $w(s,l,v,null,h)}}function r1(s){return s=ai(s),i1(s)}var vv=null;function i1(s){if(vv=null,s=Li(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return vv=s,null}function SM(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case Un:return 2;case Ii:return 8;case Rn:case ga:return 32;case ti:return 268435456;default:return 32}default:return 32}}var a1=!1,Oc=null,Cc=null,Nc=null,Kp=new Map,Wp=new Map,jc=[],VW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TM(s,l){switch(s){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Cc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Kp.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wp.delete(l.pointerId)}}function Zp(s,l,h,v,S,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:E,targetContainers:[S]},l!==null&&(l=ii(l),l!==null&&_M(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),s)}function BW(s,l,h,v,S){switch(l){case"focusin":return Oc=Zp(Oc,s,l,h,v,S),!0;case"dragenter":return Cc=Zp(Cc,s,l,h,v,S),!0;case"mouseover":return Nc=Zp(Nc,s,l,h,v,S),!0;case"pointerover":var E=S.pointerId;return Kp.set(E,Zp(Kp.get(E)||null,s,l,h,v,S)),!0;case"gotpointercapture":return E=S.pointerId,Wp.set(E,Zp(Wp.get(E)||null,s,l,h,v,S)),!0}return!1}function AM(s){var l=Li(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,ri(s.priority,function(){wM(h)});return}}else if(l===31){if(l=c(h),l!==null){s.blockedOn=l,ri(s.priority,function(){wM(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bv(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=r1(s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);La=v,h.target.dispatchEvent(v),La=null}else return l=ii(h),l!==null&&_M(l),s.blockedOn=h,!1;l.shift()}return!0}function EM(s,l,h){bv(s)&&h.delete(l)}function zW(){a1=!1,Oc!==null&&bv(Oc)&&(Oc=null),Cc!==null&&bv(Cc)&&(Cc=null),Nc!==null&&bv(Nc)&&(Nc=null),Kp.forEach(EM),Wp.forEach(EM)}function xv(s,l){s.blockedOn===l&&(s.blockedOn=null,a1||(a1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zW)))}var _v=null;function PM(s){_v!==s&&(_v=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){_v===s&&(_v=null);for(var l=0;l<s.length;l+=3){var h=s[l],v=s[l+1],S=s[l+2];if(typeof v!="function"){if(i1(v||h)===null)continue;break}var E=ii(h);E!==null&&(s.splice(l,3),l-=3,rw(E,{pending:!0,data:S,method:h.method,action:v},v,S))}}))}function Pf(s){function l(ue){return xv(ue,s)}Oc!==null&&xv(Oc,s),Cc!==null&&xv(Cc,s),Nc!==null&&xv(Nc,s),Kp.forEach(l),Wp.forEach(l);for(var h=0;h<jc.length;h++){var v=jc[h];v.blockedOn===s&&(v.blockedOn=null)}for(;0<jc.length&&(h=jc[0],h.blockedOn===null);)AM(h),h.blockedOn===null&&jc.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var S=h[v],E=h[v+1],F=S[Zn]||null;if(typeof E=="function")F||PM(h);else if(F){var Y=null;if(E&&E.hasAttribute("formAction")){if(S=E,F=E[Zn]||null)Y=F.formAction;else if(i1(S)!==null)continue}else Y=F.action;typeof Y=="function"?h[v+1]=Y:(h.splice(v,3),v-=3),PM(h)}}}function OM(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(F){return S=F})},focusReset:"manual",scroll:"manual"})}function l(){S!==null&&(S(),S=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),S!==null&&(S(),S=null)}}}function s1(s){this._internalRoot=s}wv.prototype.render=s1.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,v=Za();bM(h,v,s,l,null,null)},wv.prototype.unmount=s1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;bM(s.current,2,null,s,null,null),nv(),l[$r]=null}};function wv(s){this._internalRoot=s}wv.prototype.unstable_scheduleHydration=function(s){if(s){var l=ls();s={blockedOn:null,target:s,priority:l};for(var h=0;h<jc.length&&l!==0&&l<jc[h].priority;h++);jc.splice(h,0,s),h===0&&AM(s)}};var CM=e.version;if(CM!=="19.2.0")throw Error(r(527,CM,"19.2.0"));re.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var UW={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sv.isDisabled&&Sv.supportsFiber)try{vr=Sv.inject(UW),Mn=Sv}catch{}}return Xp.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,v="",S=kI,E=LI,F=VI;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError)),l=yM(s,1,!1,null,null,h,v,null,S,E,F,OM),s[$r]=l.current,Uw(s),new s1(l)},Xp.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var v=!1,S="",E=kI,F=LI,Y=VI,ue=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError),h.formState!==void 0&&(ue=h.formState)),l=yM(s,1,!0,l,h??null,v,S,ue,E,F,Y,OM),l.context=vM(null),h=l.current,v=Za(),v=Dn(v),S=gc(v),S.callback=null,yc(h,S,v),h=v,l.current.lanes=h,nn(l,h),Co(l),s[$r]=l.current,Uw(s),new wv(l)},Xp.version="19.2.0",Xp}var BM;function XW(){if(BM)return l1.exports;BM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l1.exports=YW(),l1.exports}var QW=XW();function JW(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],c="",d=t.split("/");for(d[0]||d.shift();i=d.shift();)n=i[0],n==="*"?(o.push(n),c+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),c+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(c+=(~r?"?":"")+"\\"+i.substring(a))):c+="/"+i;return{keys:o,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var k=ex();const ne=pn(k),eZ=FW({__proto__:null,default:ne},[k]);var h1={exports:{}},p1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM;function tZ(){if(zM)return p1;zM=1;var t=ex();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(g,b){var w=b(),P=r({inst:{value:w,getSnapshot:b}}),T=P[0].inst,A=P[1];return a(function(){T.value=w,T.getSnapshot=b,d(T)&&A({inst:T})},[g,w,b]),i(function(){return d(T)&&A({inst:T}),g(function(){d(T)&&A({inst:T})})},[g]),o(w),w}function d(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function f(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return p1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,p1}var UM;function nZ(){return UM||(UM=1,h1.exports=tZ()),h1.exports}var rZ=nZ();const iZ=eZ.useInsertionEffect,aZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sZ=aZ?k.useLayoutEffect:k.useEffect,oZ=iZ||sZ,yU=t=>{const e=k.useRef([t,(...n)=>e[0](...n)]).current;return oZ(()=>{e[0]=t}),e[1]},lZ="popstate",PC="pushState",OC="replaceState",cZ="hashchange",$M=[lZ,PC,OC,cZ],uZ=t=>{for(const e of $M)addEventListener(e,t);return()=>{for(const e of $M)removeEventListener(e,t)}},vU=(t,e)=>rZ.useSyncExternalStore(uZ,t,e),dZ=()=>location.search,fZ=({ssrSearch:t=""}={})=>vU(dZ,()=>t),FM=()=>location.pathname,hZ=({ssrPath:t}={})=>vU(FM,t?()=>t:FM),pZ=(t,{replace:e=!1,state:n=null}={})=>history[e?OC:PC](n,"",t),mZ=(t={})=>[hZ(t),pZ],qM=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[qM]>"u"){for(const t of[PC,OC]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,qM,{value:!0})}const gZ=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",bU=(t="")=>t==="/"?"":t,yZ=(t,e)=>t[0]==="~"?t.slice(1):bU(e)+t,vZ=(t="",e)=>gZ(HM(bU(t)),HM(e)),HM=t=>{try{return decodeURI(t)}catch{return t}},xU={hook:mZ,searchHook:fZ,parser:JW,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},_U=k.createContext(xU),Hh=()=>k.useContext(_U),wU={},SU=k.createContext(wU),bZ=()=>k.useContext(SU),tx=t=>{const[e,n]=t.hook(t);return[vZ(t.base,e),yU((r,i)=>n(yZ(r,t.base),i))]},ji=()=>tx(Hh()),CC=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[c,...d]=o;return c!==void 0?[!0,(()=>{const f=a!==!1?Object.fromEntries(a.map((g,b)=>[g,d[b]])):o.groups;let p={...d};return f&&Object.assign(p,f),p})(),...r?[c]:[]]:[!1,null]},xZ=t=>CC(Hh().parser,t,ji()[0]),TU=({children:t,...e})=>{const n=Hh(),r=e.hook?xU:n;let i=r;const[a,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let c=k.useRef({}),d=c.current,f=d;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];d===f&&g!==f[p]&&(c.current=f={...f}),f[p]=g,g!==r[p]&&(i=f)}return k.createElement(_U.Provider,{value:i,children:t})},GM=({children:t,component:e},n)=>e?k.createElement(e,{params:n}):typeof t=="function"?t(n):t,_Z=t=>{let e=k.useRef(wU),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},ca=({path:t,nest:e,match:n,...r})=>{const i=Hh(),[a]=tx(i),[o,c,d]=n??CC(i.parser,t,a,e),f=_Z({...bZ(),...c});if(!o)return null;const p=d?k.createElement(TU,{base:d},GM(r,f)):GM(r,f);return k.createElement(SU.Provider,{value:f,children:p})};k.forwardRef((t,e)=>{const n=Hh(),[r,i]=tx(n),{to:a="",href:o=a,onClick:c,asChild:d,children:f,className:p,replace:g,state:b,...w}=t,P=yU(A=>{A.ctrlKey||A.metaKey||A.altKey||A.shiftKey||A.button!==0||(c?.(A),A.defaultPrevented||(A.preventDefault(),i(o,t)))}),T=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return d&&k.isValidElement(f)?k.cloneElement(f,{onClick:P,href:T}):k.createElement("a",{...w,onClick:P,href:T,className:p?.call?p(r===o):p,children:f,ref:e})});const AU=t=>Array.isArray(t)?t.flatMap(e=>AU(e&&e.type===k.Fragment?e.props.children:e)):[t],wZ=({children:t,location:e})=>{const n=Hh(),[r]=tx(n);for(const i of AU(t)){let a=0;if(k.isValidElement(i)&&(a=CC(n.parser,i.props.path,e||r,i.props.nest))[0])return k.cloneElement(i,{match:a})}return null};var nx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rx=typeof window>"u"||"Deno"in globalThis;function no(){}function SZ(t,e){return typeof t=="function"?t(e):t}function TZ(t){return typeof t=="number"&&t>=0&&t!==1/0}function AZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function KM(t,e){return typeof t=="function"?t(e):t}function EZ(t,e){return typeof t=="function"?t(e):t}function WM(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==NC(o,e.options))return!1}else if(!Hm(e.queryKey,o))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||a&&!a(e))}function ZM(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(qm(e.options.mutationKey)!==qm(a))return!1}else if(!Hm(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function NC(t,e){return(e?.queryKeyHashFn||qm)(t)}function qm(t){return JSON.stringify(t,(e,n)=>QE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Hm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hm(t[n],e[n])):!1}function EU(t,e){if(t===e)return t;const n=YM(t)&&YM(e);if(n||QE(t)&&QE(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,c=n?[]:{};let d=0;for(let f=0;f<o;f++){const p=n?f:a[f];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(c[p]=void 0,d++):(c[p]=EU(t[p],e[p]),c[p]===t[p]&&t[p]!==void 0&&d++)}return i===o&&d===i?t:c}return e}function YM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function QE(t){if(!XM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!XM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XM(t){return Object.prototype.toString.call(t)==="[object Object]"}function PZ(t){return new Promise(e=>{setTimeout(e,t)})}function OZ(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?EU(t,e):e}function CZ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function NZ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var jC=Symbol();function PU(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===jC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jZ=class extends nx{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!rx&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},OU=new jZ,IZ=class extends nx{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!rx&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},bb=new IZ;function RZ(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function MZ(t){return Math.min(1e3*2**t,3e4)}function CU(t){return(t??"online")==="online"?bb.isOnline():!0}var NU=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function m1(t){return t instanceof NU}function jU(t){let e=!1,n=0,r=!1,i;const a=RZ(),o=T=>{r||(b(new NU(T)),t.abort?.())},c=()=>{e=!0},d=()=>{e=!1},f=()=>OU.isFocused()&&(t.networkMode==="always"||bb.isOnline())&&t.canRun(),p=()=>CU(t.networkMode)&&t.canRun(),g=T=>{r||(r=!0,t.onSuccess?.(T),i?.(),a.resolve(T))},b=T=>{r||(r=!0,t.onError?.(T),i?.(),a.reject(T))},w=()=>new Promise(T=>{i=A=>{(r||f())&&T(A)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),P=()=>{if(r)return;let T;const A=n===0?t.initialPromise:void 0;try{T=A??t.fn()}catch(C){T=Promise.reject(C)}Promise.resolve(T).then(g).catch(C=>{if(r)return;const D=t.retry??(rx?0:3),R=t.retryDelay??MZ,$=typeof R=="function"?R(n,C):R,I=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,C);if(e||!I){b(C);return}n++,t.onFail?.(n,C),PZ($).then(()=>f()?void 0:w()).then(()=>{e?b(C):P()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?P():w().then(P),a)}}function DZ(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const a=c=>{e?t.push(c):i(()=>{n(c)})},o=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var da=DZ(),IU=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TZ(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rx?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},kZ=class extends IU{#e;#t;#n;#r;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=VZ(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=OZ(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(no).catch(no):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>EZ(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!AZ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const d=PU(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),this.#a=!1,this.options.persister?this.options.persister(d,f,this):d(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta});const c=d=>{m1(d)&&d.silent||this.#i({type:"error",error:d}),m1(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=jU({initialPromise:n?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){c(f);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,f)=>{this.#i({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LZ(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return m1(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),da.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function LZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CU(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function VZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var BZ=class extends nx{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??NC(r,e);let a=this.get(i);return a||(a=new kZ({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){da.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>WM(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>WM(t,n)):e}notify(t){da.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){da.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){da.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zZ=class extends IU{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||UZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=jU({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(!n){this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),da.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function UZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $Z=class extends nx{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new zZ({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Av(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Av(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Av(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Av(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){da.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ZM(e,n))}findAll(t={}){return this.getAll().filter(e=>ZM(t,e))}notify(t){da.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return da.batch(()=>Promise.all(t.map(e=>e.continue().catch(no))))}};function Av(t){return t.options.scope?.id??String(t.mutationId)}function QM(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let p=!1;const g=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=PU(e.options,e.fetchOptions),w=async(P,T,A)=>{if(p)return Promise.reject();if(T==null&&P.pages.length)return Promise.resolve(P);const C={queryKey:e.queryKey,pageParam:T,direction:A?"backward":"forward",meta:e.options.meta};g(C);const D=await b(C),{maxPages:R}=e.options,$=A?NZ:CZ;return{pages:$(P.pages,D,R),pageParams:$(P.pageParams,T,R)}};if(i&&a.length){const P=i==="backward",T=P?FZ:JM,A={pages:a,pageParams:o},C=T(r,A);c=await w(A,C,P)}else{const P=t??a.length;do{const T=d===0?o[0]??r.initialPageParam:JM(r,c);if(d>0&&T==null)break;c=await w(c,T),d++}while(d<P)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function JM(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FZ(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var qZ=class{#e;#t;#n;#r;#s;#a;#i;#o;constructor(t={}){this.#e=t.queryCache||new BZ,this.#t=t.mutationCache||new $Z,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#i=OU.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=bb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(KM(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=SZ(e,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return da.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;da.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return da.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=da.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(no).catch(no)}invalidateQueries(t={},e={}){return da.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=da.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(no)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(no)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(KM(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(no).catch(no)}fetchInfiniteQuery(t){return t.behavior=QM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(no).catch(no)}ensureInfiniteQueryData(t){return t.behavior=QM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bb.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(qm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let n={};return e.forEach(r=>{Hm(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#s.set(qm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()];let n={};return e.forEach(r=>{Hm(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=NC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===jC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},HZ=k.createContext(void 0),GZ=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(HZ.Provider,{value:t,children:e}));async function KZ(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const WZ=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await KZ(n),await n.json()},ZZ=new qZ({defaultOptions:{queries:{queryFn:WZ({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var IC=gU();const RU=pn(IC);function YZ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const XZ=t=>{switch(t){case"success":return eY;case"info":return nY;case"warning":return tY;case"error":return rY;default:return null}},QZ=Array(12).fill(0),JZ=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},QZ.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),eY=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tY=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nY=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rY=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iY=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aY=()=>{const[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let JE=1;class sY{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:JE++,o=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,o;const c=i.then(async f=>{if(o=["resolve",f],ne.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(lY(f)&&!f.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,P=typeof g=="object"&&!ne.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...P})}else if(f instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,P=typeof g=="object"&&!ne.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...P})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,P=typeof g=="object"&&!ne.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:b,...P})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description,w=typeof p=="object"&&!ne.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...w})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>c.then(()=>o[0]==="reject"?p(o[1]):f(o[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||JE++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Na=new sY,oY=(t,e)=>{const n=e?.id||JE++;return Na.addToast({title:t,...e,id:n}),n},lY=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",cY=oY,uY=()=>Na.toasts,dY=()=>Na.getActiveToasts(),Ue=Object.assign(cY,{success:Na.success,info:Na.info,warning:Na.warning,error:Na.error,custom:Na.custom,message:Na.message,promise:Na.promise,dismiss:Na.dismiss,loading:Na.loading},{getHistory:uY,getToasts:dY});YZ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ev(t){return t.label!==void 0}const fY=3,hY="24px",pY="16px",eD=4e3,mY=356,gY=14,yY=45,vY=200;function No(...t){return t.filter(Boolean).join(" ")}function bY(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const xY=t=>{var e,n,r,i,a,o,c,d,f;const{invert:p,toast:g,unstyled:b,interacting:w,setHeights:P,visibleToasts:T,heights:A,index:C,toasts:D,expanded:R,removeToast:$,defaultRichColors:I,closeButton:B,style:N,cancelButtonStyle:j,actionButtonStyle:V,className:K="",descriptionClassName:q="",duration:H,position:z,gap:ie,expandByDefault:de,classNames:X,icons:re,closeButtonAriaLabel:ee="Close toast"}=t,[le,oe]=ne.useState(null),[Q,ae]=ne.useState(null),[ce,fe]=ne.useState(!1),[xe,Ce]=ne.useState(!1),[Oe,we]=ne.useState(!1),[pe,Be]=ne.useState(!1),[$e,be]=ne.useState(!1),[Me,Pe]=ne.useState(0),[je,Fe]=ne.useState(0),We=ne.useRef(g.duration||H||eD),ct=ne.useRef(null),He=ne.useRef(null),Ze=C===0,Ye=C+1<=T,mt=g.type,an=g.dismissible!==!1,_n=g.className||"",Vr=g.descriptionClassName||"",Un=ne.useMemo(()=>A.findIndex(dt=>dt.toastId===g.id)||0,[A,g.id]),Ii=ne.useMemo(()=>{var dt;return(dt=g.closeButton)!=null?dt:B},[g.closeButton,B]),Rn=ne.useMemo(()=>g.duration||H||eD,[g.duration,H]),ga=ne.useRef(0),ti=ne.useRef(0),ya=ne.useRef(0),Ri=ne.useRef(null),[vr,Mn]=z.split("-"),Ar=ne.useMemo(()=>A.reduce((dt,Xt,Gn)=>Gn>=Un?dt:dt+Xt.height,0),[A,Un]),tn=aY(),yi=g.invert||p,va=mt==="loading";ti.current=ne.useMemo(()=>Un*ie+Ar,[Un,Ar]),ne.useEffect(()=>{We.current=Rn},[Rn]),ne.useEffect(()=>{fe(!0)},[]),ne.useEffect(()=>{const dt=He.current;if(dt){const Xt=dt.getBoundingClientRect().height;return Fe(Xt),P(Gn=>[{toastId:g.id,height:Xt,position:g.position},...Gn]),()=>P(Gn=>Gn.filter(Kn=>Kn.toastId!==g.id))}},[P,g.id]),ne.useLayoutEffect(()=>{if(!ce)return;const dt=He.current,Xt=dt.style.height;dt.style.height="auto";const Gn=dt.getBoundingClientRect().height;dt.style.height=Xt,Fe(Gn),P(Kn=>Kn.find(nn=>nn.toastId===g.id)?Kn.map(nn=>nn.toastId===g.id?{...nn,height:Gn}:nn):[{toastId:g.id,height:Gn,position:g.position},...Kn])},[ce,g.title,g.description,P,g.id,g.jsx,g.action,g.cancel]);const Br=ne.useCallback(()=>{Ce(!0),Pe(ti.current),P(dt=>dt.filter(Xt=>Xt.toastId!==g.id)),setTimeout(()=>{$(g)},vY)},[g,$,P,ti]);ne.useEffect(()=>{if(g.promise&&mt==="loading"||g.duration===1/0||g.type==="loading")return;let dt;return R||w||tn?(()=>{if(ya.current<ga.current){const Kn=new Date().getTime()-ga.current;We.current=We.current-Kn}ya.current=new Date().getTime()})():(()=>{We.current!==1/0&&(ga.current=new Date().getTime(),dt=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Br()},We.current))})(),()=>clearTimeout(dt)},[R,w,g,mt,tn,Br]),ne.useEffect(()=>{g.delete&&(Br(),g.onDismiss==null||g.onDismiss.call(g,g))},[Br,g.delete]);function er(){var dt;if(re?.loading){var Xt;return ne.createElement("div",{className:No(X?.loader,g==null||(Xt=g.classNames)==null?void 0:Xt.loader,"sonner-loader"),"data-visible":mt==="loading"},re.loading)}return ne.createElement(JZ,{className:No(X?.loader,g==null||(dt=g.classNames)==null?void 0:dt.loader),visible:mt==="loading"})}const zr=g.icon||re?.[mt]||XZ(mt);var On,Mi;return ne.createElement("li",{tabIndex:0,ref:He,className:No(K,_n,X?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,X?.default,X?.[mt],g==null||(n=g.classNames)==null?void 0:n[mt]),"data-sonner-toast":"","data-rich-colors":(On=g.richColors)!=null?On:I,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":ce,"data-promise":!!g.promise,"data-swiped":$e,"data-removed":xe,"data-visible":Ye,"data-y-position":vr,"data-x-position":Mn,"data-index":C,"data-front":Ze,"data-swiping":Oe,"data-dismissible":an,"data-type":mt,"data-invert":yi,"data-swipe-out":pe,"data-swipe-direction":Q,"data-expanded":!!(R||de&&ce),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":D.length-C,"--offset":`${xe?Me:ti.current}px`,"--initial-height":de?"auto":`${je}px`,...N,...g.style},onDragEnd:()=>{we(!1),oe(null),Ri.current=null},onPointerDown:dt=>{dt.button!==2&&(va||!an||(ct.current=new Date,Pe(ti.current),dt.target.setPointerCapture(dt.pointerId),dt.target.tagName!=="BUTTON"&&(we(!0),Ri.current={x:dt.clientX,y:dt.clientY})))},onPointerUp:()=>{var dt,Xt,Gn;if(pe||!an)return;Ri.current=null;const Kn=Number(((dt=He.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ur=Number(((Xt=He.current)==null?void 0:Xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nn=new Date().getTime()-((Gn=ct.current)==null?void 0:Gn.getTime()),Er=le==="x"?Kn:Ur,ni=Math.abs(Er)/nn;if(Math.abs(Er)>=yY||ni>.11){Pe(ti.current),g.onDismiss==null||g.onDismiss.call(g,g),ae(le==="x"?Kn>0?"right":"left":Ur>0?"down":"up"),Br(),Be(!0);return}else{var Wn,tr;(Wn=He.current)==null||Wn.style.setProperty("--swipe-amount-x","0px"),(tr=He.current)==null||tr.style.setProperty("--swipe-amount-y","0px")}be(!1),we(!1),oe(null)},onPointerMove:dt=>{var Xt,Gn,Kn;if(!Ri.current||!an||((Xt=window.getSelection())==null?void 0:Xt.toString().length)>0)return;const nn=dt.clientY-Ri.current.y,Er=dt.clientX-Ri.current.x;var ni;const Wn=(ni=t.swipeDirections)!=null?ni:bY(z);!le&&(Math.abs(Er)>1||Math.abs(nn)>1)&&oe(Math.abs(Er)>Math.abs(nn)?"x":"y");let tr={x:0,y:0};const Dn=Qe=>1/(1.5+Math.abs(Qe)/20);if(le==="y"){if(Wn.includes("top")||Wn.includes("bottom"))if(Wn.includes("top")&&nn<0||Wn.includes("bottom")&&nn>0)tr.y=nn;else{const Qe=nn*Dn(nn);tr.y=Math.abs(Qe)<Math.abs(nn)?Qe:nn}}else if(le==="x"&&(Wn.includes("left")||Wn.includes("right")))if(Wn.includes("left")&&Er<0||Wn.includes("right")&&Er>0)tr.x=Er;else{const Qe=Er*Dn(Er);tr.x=Math.abs(Qe)<Math.abs(Er)?Qe:Er}(Math.abs(tr.x)>0||Math.abs(tr.y)>0)&&be(!0),(Gn=He.current)==null||Gn.style.setProperty("--swipe-amount-x",`${tr.x}px`),(Kn=He.current)==null||Kn.style.setProperty("--swipe-amount-y",`${tr.y}px`)}},Ii&&!g.jsx&&mt!=="loading"?ne.createElement("button",{"aria-label":ee,"data-disabled":va,"data-close-button":!0,onClick:va||!an?()=>{}:()=>{Br(),g.onDismiss==null||g.onDismiss.call(g,g)},className:No(X?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Mi=re?.close)!=null?Mi:iY):null,(mt||g.icon||g.promise)&&g.icon!==null&&(re?.[mt]!==null||g.icon)?ne.createElement("div",{"data-icon":"",className:No(X?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||er():null,g.type!=="loading"?zr:null):null,ne.createElement("div",{"data-content":"",className:No(X?.content,g==null||(a=g.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:No(X?.title,g==null||(o=g.classNames)==null?void 0:o.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ne.createElement("div",{"data-description":"",className:No(q,Vr,X?.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),ne.isValidElement(g.cancel)?g.cancel:g.cancel&&Ev(g.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||j,onClick:dt=>{Ev(g.cancel)&&an&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,dt),Br())},className:No(X?.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,ne.isValidElement(g.action)?g.action:g.action&&Ev(g.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||V,onClick:dt=>{Ev(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,dt),!dt.defaultPrevented&&Br())},className:No(X?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function tD(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function _Y(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",c=a?pY:hY;function d(f){["top","right","bottom","left"].forEach(p=>{n[`${o}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=c:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const wY=ne.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:g,theme:b="light",richColors:w,duration:P,style:T,visibleToasts:A=fY,toastOptions:C,dir:D=tD(),gap:R=gY,icons:$,containerAriaLabel:I="Notifications"}=e,[B,N]=ne.useState([]),j=ne.useMemo(()=>r?B.filter(ce=>ce.toasterId===r):B.filter(ce=>!ce.toasterId),[B,r]),V=ne.useMemo(()=>Array.from(new Set([a].concat(j.filter(ce=>ce.position).map(ce=>ce.position)))),[j,a]),[K,q]=ne.useState([]),[H,z]=ne.useState(!1),[ie,de]=ne.useState(!1),[X,re]=ne.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=ne.useRef(null),le=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=ne.useRef(null),Q=ne.useRef(!1),ae=ne.useCallback(ce=>{N(fe=>{var xe;return(xe=fe.find(Ce=>Ce.id===ce.id))!=null&&xe.delete||Na.dismiss(ce.id),fe.filter(({id:Ce})=>Ce!==ce.id)})},[]);return ne.useEffect(()=>Na.subscribe(ce=>{if(ce.dismiss){requestAnimationFrame(()=>{N(fe=>fe.map(xe=>xe.id===ce.id?{...xe,delete:!0}:xe))});return}setTimeout(()=>{RU.flushSync(()=>{N(fe=>{const xe=fe.findIndex(Ce=>Ce.id===ce.id);return xe!==-1?[...fe.slice(0,xe),{...fe[xe],...ce},...fe.slice(xe+1)]:[ce,...fe]})})})}),[B]),ne.useEffect(()=>{if(b!=="system"){re(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:fe})=>{re(fe?"dark":"light")})}catch{ce.addListener(({matches:xe})=>{try{re(xe?"dark":"light")}catch(Ce){console.error(Ce)}})}},[b]),ne.useEffect(()=>{B.length<=1&&z(!1)},[B]),ne.useEffect(()=>{const ce=fe=>{var xe;if(o.every(we=>fe[we]||fe.code===we)){var Oe;z(!0),(Oe=ee.current)==null||Oe.focus()}fe.code==="Escape"&&(document.activeElement===ee.current||(xe=ee.current)!=null&&xe.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[o]),ne.useEffect(()=>{if(ee.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,Q.current=!1)}},[ee.current]),ne.createElement("section",{ref:n,"aria-label":`${I} ${le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((ce,fe)=>{var xe;const[Ce,Oe]=ce.split("-");return j.length?ne.createElement("ol",{key:ce,dir:D==="auto"?tD():D,tabIndex:-1,ref:ee,className:f,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":Ce,"data-x-position":Oe,style:{"--front-toast-height":`${((xe=K[0])==null?void 0:xe.height)||0}px`,"--width":`${mY}px`,"--gap":`${R}px`,...T,..._Y(p,g)},onBlur:we=>{Q.current&&!we.currentTarget.contains(we.relatedTarget)&&(Q.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,oe.current=we.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{ie||z(!1)},onDragEnd:()=>z(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||de(!0)},onPointerUp:()=>de(!1)},j.filter(we=>!we.position&&fe===0||we.position===ce).map((we,pe)=>{var Be,$e;return ne.createElement(xY,{key:we.id,icons:$,index:pe,toast:we,defaultRichColors:w,duration:(Be=C?.duration)!=null?Be:P,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:i,visibleToasts:A,closeButton:($e=C?.closeButton)!=null?$e:d,interacting:ie,position:ce,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:ae,toasts:j.filter(be=>be.position==we.position),heights:K.filter(be=>be.position==we.position),setHeights:q,expandByDefault:c,gap:R,expanded:H,swipeDirections:e.swipeDirections})})):null}))});function Of(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function nD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MU(...t){return e=>{let n=!1;const r=t.map(i=>{const a=nD(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():nD(t[i],null)}}}}function Dd(...t){return k.useCallback(MU(...t),t)}function DU(t,e=[]){let n=[];function r(a,o){const c=k.createContext(o),d=n.length;n=[...n,o];const f=g=>{const{scope:b,children:w,...P}=g,T=b?.[t]?.[d]||c,A=k.useMemo(()=>P,Object.values(P));return m.jsx(T.Provider,{value:A,children:w})};f.displayName=a+"Provider";function p(g,b){const w=b?.[t]?.[d]||c,P=k.useContext(w);if(P)return P;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(o=>k.createContext(o));return function(c){const d=c?.[t]||a;return k.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,SY(i,...e)]}function SY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function g1(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function TY(t){const e=AY(t),n=k.forwardRef((r,i)=>{const{children:a,...o}=r,c=k.Children.toArray(a),d=c.find(PY);if(d){const f=d.props.children,p=c.map(g=>g===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...o,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,p):null})}return m.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function AY(t){const e=k.forwardRef((n,r)=>{const{children:i,...a}=n;if(k.isValidElement(i)){const o=CY(i),c=OY(a,i.props);return i.type!==k.Fragment&&(c.ref=r?MU(r,o):o),k.cloneElement(i,c)}return k.Children.count(i)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EY=Symbol("radix.slottable");function PY(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EY}function OY(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function CY(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lu=NY.reduce((t,e)=>{const n=TY(`Primitive.${e}`),r=k.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function jY(t,e){t&&IC.flushSync(()=>t.dispatchEvent(e))}function ix(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>e.current?.(...n),[])}function IY(t,e=globalThis?.document){const n=ix(t);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var RY="DismissableLayer",eP="dismissableLayer.update",MY="dismissableLayer.pointerDownOutside",DY="dismissableLayer.focusOutside",rD,kU=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LU=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=t,f=k.useContext(kU),[p,g]=k.useState(null),b=p?.ownerDocument??globalThis?.document,[,w]=k.useState({}),P=Dd(e,N=>g(N)),T=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=T.indexOf(A),D=p?T.indexOf(p):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,$=D>=C,I=VY(N=>{const j=N.target,V=[...f.branches].some(K=>K.contains(j));!$||V||(i?.(N),o?.(N),N.defaultPrevented||c?.())},b),B=BY(N=>{const j=N.target;[...f.branches].some(K=>K.contains(j))||(a?.(N),o?.(N),N.defaultPrevented||c?.())},b);return IY(N=>{D===f.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},b),k.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(rD=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),iD(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=rD)}},[p,b,n,f]),k.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),iD())},[p,f]),k.useEffect(()=>{const N=()=>w({});return document.addEventListener(eP,N),()=>document.removeEventListener(eP,N)},[]),m.jsx(lu.div,{...d,ref:P,style:{pointerEvents:R?$?"auto":"none":void 0,...t.style},onFocusCapture:g1(t.onFocusCapture,B.onFocusCapture),onBlurCapture:g1(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:g1(t.onPointerDownCapture,I.onPointerDownCapture)})});LU.displayName=RY;var kY="DismissableLayerBranch",LY=k.forwardRef((t,e)=>{const n=k.useContext(kU),r=k.useRef(null),i=Dd(e,r);return k.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),m.jsx(lu.div,{...t,ref:i})});LY.displayName=kY;function VY(t,e=globalThis?.document){const n=ix(t),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){VU(MY,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BY(t,e=globalThis?.document){const n=ix(t),r=k.useRef(!1);return k.useEffect(()=>{const i=a=>{a.target&&!r.current&&VU(DY,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function iD(){const t=new CustomEvent(eP);document.dispatchEvent(t)}function VU(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?jY(i,a):i.dispatchEvent(a)}var sh=globalThis?.document?k.useLayoutEffect:()=>{};const zY=["top","right","bottom","left"],Xc=Math.min,Ja=Math.max,xb=Math.round,Pv=Math.floor,Do=t=>({x:t,y:t}),UY={left:"right",right:"left",bottom:"top",top:"bottom"},$Y={start:"end",end:"start"};function tP(t,e,n){return Ja(t,Xc(e,n))}function Ll(t,e){return typeof t=="function"?t(e):t}function Vl(t){return t.split("-")[0]}function Gh(t){return t.split("-")[1]}function RC(t){return t==="x"?"y":"x"}function MC(t){return t==="y"?"height":"width"}const FY=new Set(["top","bottom"]);function Io(t){return FY.has(Vl(t))?"y":"x"}function DC(t){return RC(Io(t))}function qY(t,e,n){n===void 0&&(n=!1);const r=Gh(t),i=DC(t),a=MC(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=_b(o)),[o,_b(o)]}function HY(t){const e=_b(t);return[nP(t),e,nP(e)]}function nP(t){return t.replace(/start|end/g,e=>$Y[e])}const aD=["left","right"],sD=["right","left"],GY=["top","bottom"],KY=["bottom","top"];function WY(t,e,n){switch(t){case"top":case"bottom":return n?e?sD:aD:e?aD:sD;case"left":case"right":return e?GY:KY;default:return[]}}function ZY(t,e,n,r){const i=Gh(t);let a=WY(Vl(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(nP)))),a}function _b(t){return t.replace(/left|right|bottom|top/g,e=>UY[e])}function YY(t){return{top:0,right:0,bottom:0,left:0,...t}}function BU(t){return typeof t!="number"?YY(t):{top:t,right:t,bottom:t,left:t}}function wb(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function oD(t,e,n){let{reference:r,floating:i}=t;const a=Io(e),o=DC(e),c=MC(o),d=Vl(e),f=a==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[c]/2-i[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-i.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-i.width,y:g};break;default:w={x:r.x,y:r.y}}switch(Gh(e)){case"start":w[o]-=b*(n&&f?-1:1);break;case"end":w[o]+=b*(n&&f?-1:1);break}return w}const XY=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=oD(f,r,d),b=r,w={},P=0;for(let T=0;T<c.length;T++){const{name:A,fn:C}=c[T],{x:D,y:R,data:$,reset:I}=await C({x:p,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:w,rects:f,platform:o,elements:{reference:t,floating:e}});p=D??p,g=R??g,w={...w,[A]:{...w[A],...$}},I&&P<=50&&(P++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(f=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:p,y:g}=oD(f,b,d)),T=-1)}return{x:p,y:g,placement:b,strategy:i,middlewareData:w}};async function Gm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:w=0}=Ll(e,t),P=BU(w),A=c[b?g==="floating"?"reference":"floating":g],C=wb(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(A)))==null||n?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),D=g==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),$=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},I=wb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:R,strategy:d}):D);return{top:(C.top-I.top+P.top)/$.y,bottom:(I.bottom-C.bottom+P.bottom)/$.y,left:(C.left-I.left+P.left)/$.x,right:(I.right-C.right+P.right)/$.x}}const QY=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=Ll(t,e)||{};if(f==null)return{};const g=BU(p),b={x:n,y:r},w=DC(i),P=MC(w),T=await o.getDimensions(f),A=w==="y",C=A?"top":"left",D=A?"bottom":"right",R=A?"clientHeight":"clientWidth",$=a.reference[P]+a.reference[w]-b[w]-a.floating[P],I=b[w]-a.reference[w],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let N=B?B[R]:0;(!N||!await(o.isElement==null?void 0:o.isElement(B)))&&(N=c.floating[R]||a.floating[P]);const j=$/2-I/2,V=N/2-T[P]/2-1,K=Xc(g[C],V),q=Xc(g[D],V),H=K,z=N-T[P]-q,ie=N/2-T[P]/2+j,de=tP(H,ie,z),X=!d.arrow&&Gh(i)!=null&&ie!==de&&a.reference[P]/2-(ie<H?K:q)-T[P]/2<0,re=X?ie<H?ie-H:ie-z:0;return{[w]:b[w]+re,data:{[w]:de,centerOffset:ie-de-re,...X&&{alignmentOffset:re}},reset:X}}}),JY=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:T=!0,...A}=Ll(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const C=Vl(i),D=Io(c),R=Vl(c)===c,$=await(d.isRTL==null?void 0:d.isRTL(f.floating)),I=b||(R||!T?[_b(c)]:HY(c)),B=P!=="none";!b&&B&&I.push(...ZY(c,T,P,$));const N=[c,...I],j=await Gm(e,A),V=[];let K=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&V.push(j[C]),g){const ie=qY(i,o,$);V.push(j[ie[0]],j[ie[1]])}if(K=[...K,{placement:i,overflows:V}],!V.every(ie=>ie<=0)){var q,H;const ie=(((q=a.flip)==null?void 0:q.index)||0)+1,de=N[ie];if(de&&(!(g==="alignment"?D!==Io(de):!1)||K.every(ee=>Io(ee.placement)===D?ee.overflows[0]>0:!0)))return{data:{index:ie,overflows:K},reset:{placement:de}};let X=(H=K.filter(re=>re.overflows[0]<=0).sort((re,ee)=>re.overflows[1]-ee.overflows[1])[0])==null?void 0:H.placement;if(!X)switch(w){case"bestFit":{var z;const re=(z=K.filter(ee=>{if(B){const le=Io(ee.placement);return le===D||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,oe)=>le+oe,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:z[0];re&&(X=re);break}case"initialPlacement":X=c;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function lD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cD(t){return zY.some(e=>t[e]>=0)}const eX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ll(t,e);switch(r){case"referenceHidden":{const a=await Gm(e,{...i,elementContext:"reference"}),o=lD(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cD(o)}}}case"escaped":{const a=await Gm(e,{...i,altBoundary:!0}),o=lD(a,n.floating);return{data:{escapedOffsets:o,escaped:cD(o)}}}default:return{}}}}},zU=new Set(["left","top"]);async function tX(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Vl(n),c=Gh(n),d=Io(n)==="y",f=zU.has(o)?-1:1,p=a&&d?-1:1,g=Ll(e,t);let{mainAxis:b,crossAxis:w,alignmentAxis:P}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof P=="number"&&(w=c==="end"?P*-1:P),d?{x:w*p,y:b*f}:{x:b*f,y:w*p}}const nX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:c}=e,d=await tX(e,t);return o===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},rX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:A=>{let{x:C,y:D}=A;return{x:C,y:D}}},...d}=Ll(t,e),f={x:n,y:r},p=await Gm(e,d),g=Io(Vl(i)),b=RC(g);let w=f[b],P=f[g];if(a){const A=b==="y"?"top":"left",C=b==="y"?"bottom":"right",D=w+p[A],R=w-p[C];w=tP(D,w,R)}if(o){const A=g==="y"?"top":"left",C=g==="y"?"bottom":"right",D=P+p[A],R=P-p[C];P=tP(D,P,R)}const T=c.fn({...e,[b]:w,[g]:P});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[b]:a,[g]:o}}}}}},iX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=Ll(t,e),p={x:n,y:r},g=Io(i),b=RC(g);let w=p[b],P=p[g];const T=Ll(c,e),A=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(d){const R=b==="y"?"height":"width",$=a.reference[b]-a.floating[R]+A.mainAxis,I=a.reference[b]+a.reference[R]-A.mainAxis;w<$?w=$:w>I&&(w=I)}if(f){var C,D;const R=b==="y"?"width":"height",$=zU.has(Vl(i)),I=a.reference[g]-a.floating[R]+($&&((C=o.offset)==null?void 0:C[g])||0)+($?0:A.crossAxis),B=a.reference[g]+a.reference[R]+($?0:((D=o.offset)==null?void 0:D[g])||0)-($?A.crossAxis:0);P<I?P=I:P>B&&(P=B)}return{[b]:w,[g]:P}}}},aX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:c}=e,{apply:d=()=>{},...f}=Ll(t,e),p=await Gm(e,f),g=Vl(i),b=Gh(i),w=Io(i)==="y",{width:P,height:T}=a.floating;let A,C;g==="top"||g==="bottom"?(A=g,C=b===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(C=g,A=b==="end"?"top":"bottom");const D=T-p.top-p.bottom,R=P-p.left-p.right,$=Xc(T-p[A],D),I=Xc(P-p[C],R),B=!e.middlewareData.shift;let N=$,j=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=D),B&&!b){const K=Ja(p.left,0),q=Ja(p.right,0),H=Ja(p.top,0),z=Ja(p.bottom,0);w?j=P-2*(K!==0||q!==0?K+q:Ja(p.left,p.right)):N=T-2*(H!==0||z!==0?H+z:Ja(p.top,p.bottom))}await d({...e,availableWidth:j,availableHeight:N});const V=await o.getDimensions(c.floating);return P!==V.width||T!==V.height?{reset:{rects:!0}}:{}}}};function ax(){return typeof window<"u"}function Kh(t){return UU(t)?(t.nodeName||"").toLowerCase():"#document"}function as(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qo(t){var e;return(e=(UU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UU(t){return ax()?t instanceof Node||t instanceof as(t).Node:!1}function lo(t){return ax()?t instanceof Element||t instanceof as(t).Element:!1}function Ko(t){return ax()?t instanceof HTMLElement||t instanceof as(t).HTMLElement:!1}function uD(t){return!ax()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof as(t).ShadowRoot}const sX=new Set(["inline","contents"]);function qg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=co(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!sX.has(i)}const oX=new Set(["table","td","th"]);function lX(t){return oX.has(Kh(t))}const cX=[":popover-open",":modal"];function sx(t){return cX.some(e=>{try{return t.matches(e)}catch{return!1}})}const uX=["transform","translate","scale","rotate","perspective"],dX=["transform","translate","scale","rotate","perspective","filter"],fX=["paint","layout","strict","content"];function kC(t){const e=LC(),n=lo(t)?co(t):t;return uX.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||dX.some(r=>(n.willChange||"").includes(r))||fX.some(r=>(n.contain||"").includes(r))}function hX(t){let e=Qc(t);for(;Ko(e)&&!oh(e);){if(kC(e))return e;if(sx(e))return null;e=Qc(e)}return null}function LC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pX=new Set(["html","body","#document"]);function oh(t){return pX.has(Kh(t))}function co(t){return as(t).getComputedStyle(t)}function ox(t){return lo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qc(t){if(Kh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uD(t)&&t.host||Qo(t);return uD(e)?e.host:e}function $U(t){const e=Qc(t);return oh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ko(e)&&qg(e)?e:$U(e)}function Km(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=$U(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=as(i);if(a){const c=rP(o);return e.concat(o,o.visualViewport||[],qg(i)?i:[],c&&n?Km(c):[])}return e.concat(i,Km(i,[],n))}function rP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FU(t){const e=co(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ko(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,c=xb(n)!==a||xb(r)!==o;return c&&(n=a,r=o),{width:n,height:r,$:c}}function VC(t){return lo(t)?t:t.contextElement}function Yf(t){const e=VC(t);if(!Ko(e))return Do(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=FU(e);let o=(a?xb(n.width):n.width)/r,c=(a?xb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const mX=Do(0);function qU(t){const e=as(t);return!LC()||!e.visualViewport?mX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==as(t)?!1:e}function bd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=VC(t);let o=Do(1);e&&(r?lo(r)&&(o=Yf(r)):o=Yf(t));const c=gX(a,n,r)?qU(a):Do(0);let d=(i.left+c.x)/o.x,f=(i.top+c.y)/o.y,p=i.width/o.x,g=i.height/o.y;if(a){const b=as(a),w=r&&lo(r)?as(r):r;let P=b,T=rP(P);for(;T&&r&&w!==P;){const A=Yf(T),C=T.getBoundingClientRect(),D=co(T),R=C.left+(T.clientLeft+parseFloat(D.paddingLeft))*A.x,$=C.top+(T.clientTop+parseFloat(D.paddingTop))*A.y;d*=A.x,f*=A.y,p*=A.x,g*=A.y,d+=R,f+=$,P=as(T),T=rP(P)}}return wb({width:p,height:g,x:d,y:f})}function lx(t,e){const n=ox(t).scrollLeft;return e?e.left+n:bd(Qo(t)).left+n}function HU(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-lx(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function yX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Qo(r),c=e?sx(e.floating):!1;if(r===o||c&&a)return n;let d={scrollLeft:0,scrollTop:0},f=Do(1);const p=Do(0),g=Ko(r);if((g||!g&&!a)&&((Kh(r)!=="body"||qg(o))&&(d=ox(r)),Ko(r))){const w=bd(r);f=Yf(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const b=o&&!g&&!a?HU(o,d):Do(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+b.x,y:n.y*f.y-d.scrollTop*f.y+p.y+b.y}}function vX(t){return Array.from(t.getClientRects())}function bX(t){const e=Qo(t),n=ox(t),r=t.ownerDocument.body,i=Ja(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ja(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lx(t);const c=-n.scrollTop;return co(r).direction==="rtl"&&(o+=Ja(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}const dD=25;function xX(t,e){const n=as(t),r=Qo(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const p=LC();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=lx(r);if(f<=0){const p=r.ownerDocument,g=p.body,b=getComputedStyle(g),w=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,P=Math.abs(r.clientWidth-g.clientWidth-w);P<=dD&&(a-=P)}else f<=dD&&(a+=f);return{width:a,height:o,x:c,y:d}}const _X=new Set(["absolute","fixed"]);function wX(t,e){const n=bd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ko(t)?Yf(t):Do(1),o=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:o,height:c,x:d,y:f}}function fD(t,e,n){let r;if(e==="viewport")r=xX(t,n);else if(e==="document")r=bX(Qo(t));else if(lo(e))r=wX(e,n);else{const i=qU(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wb(r)}function GU(t,e){const n=Qc(t);return n===e||!lo(n)||oh(n)?!1:co(n).position==="fixed"||GU(n,e)}function SX(t,e){const n=e.get(t);if(n)return n;let r=Km(t,[],!1).filter(c=>lo(c)&&Kh(c)!=="body"),i=null;const a=co(t).position==="fixed";let o=a?Qc(t):t;for(;lo(o)&&!oh(o);){const c=co(o),d=kC(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&_X.has(i.position)||qg(o)&&!d&&GU(t,o))?r=r.filter(p=>p!==o):i=c,o=Qc(o)}return e.set(t,r),r}function TX(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?sx(e)?[]:SX(e,this._c):[].concat(n),r],c=o[0],d=o.reduce((f,p)=>{const g=fD(e,p,i);return f.top=Ja(g.top,f.top),f.right=Xc(g.right,f.right),f.bottom=Xc(g.bottom,f.bottom),f.left=Ja(g.left,f.left),f},fD(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function AX(t){const{width:e,height:n}=FU(t);return{width:e,height:n}}function EX(t,e,n){const r=Ko(e),i=Qo(e),a=n==="fixed",o=bd(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=Do(0);function f(){d.x=lx(i)}if(r||!r&&!a)if((Kh(e)!=="body"||qg(i))&&(c=ox(e)),r){const w=bd(e,!0,a,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?HU(i,c):Do(0),g=o.left+c.scrollLeft-d.x-p.x,b=o.top+c.scrollTop-d.y-p.y;return{x:g,y:b,width:o.width,height:o.height}}function y1(t){return co(t).position==="static"}function hD(t,e){if(!Ko(t)||co(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qo(t)===n&&(n=n.ownerDocument.body),n}function KU(t,e){const n=as(t);if(sx(t))return n;if(!Ko(t)){let i=Qc(t);for(;i&&!oh(i);){if(lo(i)&&!y1(i))return i;i=Qc(i)}return n}let r=hD(t,e);for(;r&&lX(r)&&y1(r);)r=hD(r,e);return r&&oh(r)&&y1(r)&&!kC(r)?n:r||hX(t)||n}const PX=async function(t){const e=this.getOffsetParent||KU,n=this.getDimensions,r=await n(t.floating);return{reference:EX(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OX(t){return co(t).direction==="rtl"}const CX={convertOffsetParentRelativeRectToViewportRelativeRect:yX,getDocumentElement:Qo,getClippingRect:TX,getOffsetParent:KU,getElementRects:PX,getClientRects:vX,getDimensions:AX,getScale:Yf,isElement:lo,isRTL:OX};function WU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NX(t,e){let n=null,r;const i=Qo(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=t.getBoundingClientRect(),{left:p,top:g,width:b,height:w}=f;if(c||e(),!b||!w)return;const P=Pv(g),T=Pv(i.clientWidth-(p+b)),A=Pv(i.clientHeight-(g+w)),C=Pv(p),R={rootMargin:-P+"px "+-T+"px "+-A+"px "+-C+"px",threshold:Ja(0,Xc(1,d))||1};let $=!0;function I(B){const N=B[0].intersectionRatio;if(N!==d){if(!$)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!WU(f,t.getBoundingClientRect())&&o(),$=!1}try{n=new IntersectionObserver(I,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,R)}n.observe(t)}return o(!0),a}function jX(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=VC(t),p=i||a?[...f?Km(f):[],...Km(e)]:[];p.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),a&&C.addEventListener("resize",n)});const g=f&&c?NX(f,n):null;let b=-1,w=null;o&&(w=new ResizeObserver(C=>{let[D]=C;D&&D.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=w)==null||R.observe(e)})),n()}),f&&!d&&w.observe(f),w.observe(e));let P,T=d?bd(t):null;d&&A();function A(){const C=bd(t);T&&!WU(T,C)&&n(),T=C,P=requestAnimationFrame(A)}return n(),()=>{var C;p.forEach(D=>{i&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),g?.(),(C=w)==null||C.disconnect(),w=null,d&&cancelAnimationFrame(P)}}const IX=nX,RX=rX,MX=JY,DX=aX,kX=eX,pD=QY,LX=iX,VX=(t,e,n)=>{const r=new Map,i={platform:CX,...n},a={...i.platform,_c:r};return XY(t,e,{...i,platform:a})};var BX=typeof document<"u",zX=function(){},tb=BX?k.useLayoutEffect:zX;function Sb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Sb(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Sb(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function ZU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mD(t,e){const n=ZU(t);return Math.round(e*n)/n}function v1(t){const e=k.useRef(t);return tb(()=>{e.current=t}),e}function UX(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[p,g]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=k.useState(r);Sb(b,r)||w(r);const[P,T]=k.useState(null),[A,C]=k.useState(null),D=k.useCallback(ee=>{ee!==B.current&&(B.current=ee,T(ee))},[]),R=k.useCallback(ee=>{ee!==N.current&&(N.current=ee,C(ee))},[]),$=a||P,I=o||A,B=k.useRef(null),N=k.useRef(null),j=k.useRef(p),V=d!=null,K=v1(d),q=v1(i),H=v1(f),z=k.useCallback(()=>{if(!B.current||!N.current)return;const ee={placement:e,strategy:n,middleware:b};q.current&&(ee.platform=q.current),VX(B.current,N.current,ee).then(le=>{const oe={...le,isPositioned:H.current!==!1};ie.current&&!Sb(j.current,oe)&&(j.current=oe,IC.flushSync(()=>{g(oe)}))})},[b,e,n,q,H]);tb(()=>{f===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[f]);const ie=k.useRef(!1);tb(()=>(ie.current=!0,()=>{ie.current=!1}),[]),tb(()=>{if($&&(B.current=$),I&&(N.current=I),$&&I){if(K.current)return K.current($,I,z);z()}},[$,I,z,K,V]);const de=k.useMemo(()=>({reference:B,floating:N,setReference:D,setFloating:R}),[D,R]),X=k.useMemo(()=>({reference:$,floating:I}),[$,I]),re=k.useMemo(()=>{const ee={position:n,left:0,top:0};if(!X.floating)return ee;const le=mD(X.floating,p.x),oe=mD(X.floating,p.y);return c?{...ee,transform:"translate("+le+"px, "+oe+"px)",...ZU(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:oe}},[n,c,X.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:z,refs:de,elements:X,floatingStyles:re}),[p,z,de,X,re])}const $X=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pD({element:r.current,padding:i}).fn(n):{}:r?pD({element:r,padding:i}).fn(n):{}}}},FX=(t,e)=>({...IX(t),options:[t,e]}),qX=(t,e)=>({...RX(t),options:[t,e]}),HX=(t,e)=>({...LX(t),options:[t,e]}),GX=(t,e)=>({...MX(t),options:[t,e]}),KX=(t,e)=>({...DX(t),options:[t,e]}),WX=(t,e)=>({...kX(t),options:[t,e]}),ZX=(t,e)=>({...$X(t),options:[t,e]});var YX="Arrow",YU=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return m.jsx(lu.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});YU.displayName=YX;var XX=YU;function QX(t){const[e,n]=k.useState(void 0);return sh(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,c=f.blockSize}else o=t.offsetWidth,c=t.offsetHeight;n({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var XU="Popper",[QU,JU]=DU(XU),[v2e,e$]=QU(XU),t$="PopperAnchor",n$=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=e$(t$,n),o=k.useRef(null),c=Dd(e,o),d=k.useRef(null);return k.useEffect(()=>{const f=d.current;d.current=r?.current||o.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:m.jsx(lu.div,{...i,ref:c})});n$.displayName=t$;var BC="PopperContent",[JX,eQ]=QU(BC),r$=k.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:P,...T}=t,A=e$(BC,n),[C,D]=k.useState(null),R=Dd(e,Oe=>D(Oe)),[$,I]=k.useState(null),B=QX($),N=B?.width??0,j=B?.height??0,V=r+(a!=="center"?"-"+a:""),K=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},q=Array.isArray(f)?f:[f],H=q.length>0,z={padding:K,boundary:q.filter(nQ),altBoundary:H},{refs:ie,floatingStyles:de,placement:X,isPositioned:re,middlewareData:ee}=UX({strategy:"fixed",placement:V,whileElementsMounted:(...Oe)=>jX(...Oe,{animationFrame:w==="always"}),elements:{reference:A.anchor},middleware:[FX({mainAxis:i+j,alignmentAxis:o}),d&&qX({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?HX():void 0,...z}),d&&GX({...z}),KX({...z,apply:({elements:Oe,rects:we,availableWidth:pe,availableHeight:Be})=>{const{width:$e,height:be}=we.reference,Me=Oe.floating.style;Me.setProperty("--radix-popper-available-width",`${pe}px`),Me.setProperty("--radix-popper-available-height",`${Be}px`),Me.setProperty("--radix-popper-anchor-width",`${$e}px`),Me.setProperty("--radix-popper-anchor-height",`${be}px`)}}),$&&ZX({element:$,padding:c}),rQ({arrowWidth:N,arrowHeight:j}),b&&WX({strategy:"referenceHidden",...z})]}),[le,oe]=s$(X),Q=ix(P);sh(()=>{re&&Q?.()},[re,Q]);const ae=ee.arrow?.x,ce=ee.arrow?.y,fe=ee.arrow?.centerOffset!==0,[xe,Ce]=k.useState();return sh(()=>{C&&Ce(window.getComputedStyle(C).zIndex)},[C]),m.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:re?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(JX,{scope:n,placedSide:le,onArrowChange:I,arrowX:ae,arrowY:ce,shouldHideArrow:fe,children:m.jsx(lu.div,{"data-side":le,"data-align":oe,...T,ref:R,style:{...T.style,animation:re?void 0:"none"}})})})});r$.displayName=BC;var i$="PopperArrow",tQ={top:"bottom",right:"left",bottom:"top",left:"right"},a$=k.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=eQ(i$,r),o=tQ[a.placedSide];return m.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:m.jsx(XX,{...i,ref:n,style:{...i.style,display:"block"}})})});a$.displayName=i$;function nQ(t){return t!==null}var rQ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[f,p]=s$(n),g={start:"0%",center:"50%",end:"100%"}[p],b=(i.arrow?.x??0)+c/2,w=(i.arrow?.y??0)+d/2;let P="",T="";return f==="bottom"?(P=o?g:`${b}px`,T=`${-d}px`):f==="top"?(P=o?g:`${b}px`,T=`${r.floating.height+d}px`):f==="right"?(P=`${-d}px`,T=o?g:`${w}px`):f==="left"&&(P=`${r.floating.width+d}px`,T=o?g:`${w}px`),{data:{x:P,y:T}}}});function s$(t){const[e,n="center"]=t.split("-");return[e,n]}var iQ=n$,aQ=r$,sQ=a$,oQ="Portal",o$=k.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=k.useState(!1);sh(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?RU.createPortal(m.jsx(lu.div,{...r,ref:e}),o):null});o$.displayName=oQ;function lQ(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var zC=t=>{const{present:e,children:n}=t,r=cQ(e),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),a=Dd(r.ref,uQ(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:a}):null};zC.displayName="Presence";function cQ(t){const[e,n]=k.useState(),r=k.useRef(null),i=k.useRef(t),a=k.useRef("none"),o=t?"mounted":"unmounted",[c,d]=lQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const f=Ov(r.current);a.current=c==="mounted"?f:"none"},[c]),sh(()=>{const f=r.current,p=i.current;if(p!==t){const b=a.current,w=Ov(f);t?d("MOUNT"):w==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&b!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),sh(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=w=>{const T=Ov(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&T&&(d("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},b=w=>{w.target===e&&(a.current=Ov(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:k.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Ov(t){return t?.animationName||"none"}function uQ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dQ=Symbol("radix.slottable");function fQ(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=dQ,e}var hQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pQ="VisuallyHidden",l$=k.forwardRef((t,e)=>m.jsx(lu.span,{...t,ref:e,style:{...hQ,...t.style}}));l$.displayName=pQ;var mQ=l$,[cx]=DU("Tooltip",[JU]),UC=JU(),c$="TooltipProvider",gQ=700,gD="tooltip.open",[yQ,u$]=cx(c$),d$=t=>{const{__scopeTooltip:e,delayDuration:n=gQ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=k.useRef(!0),c=k.useRef(!1),d=k.useRef(0);return k.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),m.jsx(yQ,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:k.useCallback(f=>{c.current=f},[]),disableHoverableContent:i,children:a})};d$.displayName=c$;var f$="Tooltip",[b2e,Hg]=cx(f$),iP="TooltipTrigger",vQ=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Hg(iP,n),a=u$(iP,n),o=UC(n),c=k.useRef(null),d=Dd(e,c,i.onTriggerChange),f=k.useRef(!1),p=k.useRef(!1),g=k.useCallback(()=>f.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),m.jsx(iQ,{asChild:!0,...o,children:m.jsx(lu.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Of(t.onPointerMove,b=>{b.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Of(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Of(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Of(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Of(t.onBlur,i.onClose),onClick:Of(t.onClick,i.onClose)})})});vQ.displayName=iP;var $C="TooltipPortal",[bQ,xQ]=cx($C,{forceMount:void 0}),h$=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,a=Hg($C,e);return m.jsx(bQ,{scope:e,forceMount:n,children:m.jsx(zC,{present:n||a.open,children:m.jsx(o$,{asChild:!0,container:i,children:r})})})};h$.displayName=$C;var lh="TooltipContent",p$=k.forwardRef((t,e)=>{const n=xQ(lh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=Hg(lh,t.__scopeTooltip);return m.jsx(zC,{present:r||o.open,children:o.disableHoverableContent?m.jsx(m$,{side:i,...a,ref:e}):m.jsx(_Q,{side:i,...a,ref:e})})}),_Q=k.forwardRef((t,e)=>{const n=Hg(lh,t.__scopeTooltip),r=u$(lh,t.__scopeTooltip),i=k.useRef(null),a=Dd(e,i),[o,c]=k.useState(null),{trigger:d,onClose:f}=n,p=i.current,{onPointerInTransitChange:g}=r,b=k.useCallback(()=>{c(null),g(!1)},[g]),w=k.useCallback((P,T)=>{const A=P.currentTarget,C={x:P.clientX,y:P.clientY},D=EQ(C,A.getBoundingClientRect()),R=PQ(C,D),$=OQ(T.getBoundingClientRect()),I=NQ([...R,...$]);c(I),g(!0)},[g]);return k.useEffect(()=>()=>b(),[b]),k.useEffect(()=>{if(d&&p){const P=A=>w(A,p),T=A=>w(A,d);return d.addEventListener("pointerleave",P),p.addEventListener("pointerleave",T),()=>{d.removeEventListener("pointerleave",P),p.removeEventListener("pointerleave",T)}}},[d,p,w,b]),k.useEffect(()=>{if(o){const P=T=>{const A=T.target,C={x:T.clientX,y:T.clientY},D=d?.contains(A)||p?.contains(A),R=!CQ(C,o);D?b():R&&(b(),f())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[d,p,o,f,b]),m.jsx(m$,{...t,ref:a})}),[wQ,SQ]=cx(f$,{isInside:!1}),TQ=fQ("TooltipContent"),m$=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=t,d=Hg(lh,n),f=UC(n),{onClose:p}=d;return k.useEffect(()=>(document.addEventListener(gD,p),()=>document.removeEventListener(gD,p)),[p]),k.useEffect(()=>{if(d.trigger){const g=b=>{b.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),m.jsx(LU,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:m.jsxs(aQ,{"data-state":d.stateAttribute,...f,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(TQ,{children:r}),m.jsx(wQ,{scope:n,isInside:!0,children:m.jsx(mQ,{id:d.contentId,role:"tooltip",children:i||r})})]})})});p$.displayName=lh;var g$="TooltipArrow",AQ=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=UC(n);return SQ(g$,n).isInside?null:m.jsx(sQ,{...i,...r,ref:e})});AQ.displayName=g$;function EQ(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function PQ(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function OQ(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function CQ(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const c=e[a],d=e[o],f=c.x,p=c.y,g=d.x,b=d.y;p>r!=b>r&&n<(g-f)*(r-p)/(b-p)+f&&(i=!i)}return i}function NQ(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jQ(e)}function jQ(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IQ=d$,RQ=h$,y$=p$;function v$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=v$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=v$(t))&&(r&&(r+=" "),r+=e);return r}const FC="-",MQ=t=>{const e=kQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const c=o.split(FC);return c[0]===""&&c.length!==1&&c.shift(),b$(c,e)||DQ(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},b$=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?b$(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(FC);return e.validators.find(({validator:o})=>o(a))?.classGroupId},yD=/^\[(.+)\]$/,DQ=t=>{if(yD.test(t)){const e=yD.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kQ=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)aP(n[i],r,i,e);return r},aP=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:vD(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(LQ(i)){aP(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{aP(o,vD(e,a),n,r)})})},vD=(t,e)=>{let n=t;return e.split(FC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},LQ=t=>t.isThemeGetter,VQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},sP="!",oP=":",BQ=oP.length,zQ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let o=0,c=0,d=0,f;for(let P=0;P<i.length;P++){let T=i[P];if(o===0&&c===0){if(T===oP){a.push(i.slice(d,P)),d=P+BQ;continue}if(T==="/"){f=P;continue}}T==="["?o++:T==="]"?o--:T==="("?c++:T===")"&&c--}const p=a.length===0?i:i.substring(d),g=UQ(p),b=g!==p,w=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:w}};if(e){const i=e+oP,a=r;r=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},UQ=t=>t.endsWith(sP)?t.substring(0,t.length-1):t.startsWith(sP)?t.substring(1):t,$Q=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},FQ=t=>({cache:VQ(t.cacheSize),parseClassName:zQ(t),sortModifiers:$Q(t),...MQ(t)}),qQ=/\s+/,HQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],c=t.trim().split(qQ);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:g,modifiers:b,hasImportantModifier:w,baseClassName:P,maybePostfixModifierPosition:T}=n(p);if(g){d=p+(d.length>0?" "+d:d);continue}let A=!!T,C=r(A?P.substring(0,T):P);if(!C){if(!A){d=p+(d.length>0?" "+d:d);continue}if(C=r(P),!C){d=p+(d.length>0?" "+d:d);continue}A=!1}const D=a(b).join(":"),R=w?D+sP:D,$=R+C;if(o.includes($))continue;o.push($);const I=i(C,A);for(let B=0;B<I.length;++B){const N=I[B];o.push(R+N)}d=p+(d.length>0?" "+d:d)}return d};function GQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=x$(e))&&(r&&(r+=" "),r+=n);return r}const x$=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=x$(t[r]))&&(n&&(n+=" "),n+=e);return n};function KQ(t,...e){let n,r,i,a=o;function o(d){const f=e.reduce((p,g)=>g(p),t());return n=FQ(f),r=n.cache.get,i=n.cache.set,a=c,c(d)}function c(d){const f=r(d);if(f)return f;const p=HQ(d,n);return i(d,p),p}return function(){return a(GQ.apply(null,arguments))}}const Kr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},_$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,w$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WQ=/^\d+\/\d+$/,ZQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cf=t=>WQ.test(t),Vt=t=>!!t&&!Number.isNaN(Number(t)),Rc=t=>!!t&&Number.isInteger(Number(t)),b1=t=>t.endsWith("%")&&Vt(t.slice(0,-1)),Sl=t=>ZQ.test(t),eJ=()=>!0,tJ=t=>YQ.test(t)&&!XQ.test(t),S$=()=>!1,nJ=t=>QQ.test(t),rJ=t=>JQ.test(t),iJ=t=>!at(t)&&!st(t),aJ=t=>Wh(t,E$,S$),at=t=>_$.test(t),Wu=t=>Wh(t,P$,tJ),x1=t=>Wh(t,uJ,Vt),bD=t=>Wh(t,T$,S$),sJ=t=>Wh(t,A$,rJ),Cv=t=>Wh(t,O$,nJ),st=t=>w$.test(t),Qp=t=>Zh(t,P$),oJ=t=>Zh(t,dJ),xD=t=>Zh(t,T$),lJ=t=>Zh(t,E$),cJ=t=>Zh(t,A$),Nv=t=>Zh(t,O$,!0),Wh=(t,e,n)=>{const r=_$.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Zh=(t,e,n=!1)=>{const r=w$.exec(t);return r?r[1]?e(r[1]):n:!1},T$=t=>t==="position"||t==="percentage",A$=t=>t==="image"||t==="url",E$=t=>t==="length"||t==="size"||t==="bg-size",P$=t=>t==="length",uJ=t=>t==="number",dJ=t=>t==="family-name",O$=t=>t==="shadow",fJ=()=>{const t=Kr("color"),e=Kr("font"),n=Kr("text"),r=Kr("font-weight"),i=Kr("tracking"),a=Kr("leading"),o=Kr("breakpoint"),c=Kr("container"),d=Kr("spacing"),f=Kr("radius"),p=Kr("shadow"),g=Kr("inset-shadow"),b=Kr("text-shadow"),w=Kr("drop-shadow"),P=Kr("blur"),T=Kr("perspective"),A=Kr("aspect"),C=Kr("ease"),D=Kr("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...$(),st,at],B=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],j=()=>[st,at,d],V=()=>[Cf,"full","auto",...j()],K=()=>[Rc,"none","subgrid",st,at],q=()=>["auto",{span:["full",Rc,st,at]},Rc,st,at],H=()=>[Rc,"auto",st,at],z=()=>["auto","min","max","fr",st,at],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...j()],re=()=>[Cf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],ee=()=>[t,st,at],le=()=>[...$(),xD,bD,{position:[st,at]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",lJ,aJ,{size:[st,at]}],ae=()=>[b1,Qp,Wu],ce=()=>["","none","full",f,st,at],fe=()=>["",Vt,Qp,Wu],xe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Vt,b1,xD,bD],we=()=>["","none",P,st,at],pe=()=>["none",Vt,st,at],Be=()=>["none",Vt,st,at],$e=()=>[Vt,st,at],be=()=>[Cf,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Sl],breakpoint:[Sl],color:[eJ],container:[Sl],"drop-shadow":[Sl],ease:["in","out","in-out"],font:[iJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Sl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Sl],shadow:[Sl],spacing:["px",Vt],text:[Sl],"text-shadow":[Sl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cf,at,st,A]}],container:["container"],columns:[{columns:[Vt,at,st,c]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Rc,"auto",st,at]}],basis:[{basis:[Cf,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vt,Cf,"auto","initial","none",at]}],grow:[{grow:["",Vt,st,at]}],shrink:[{shrink:["",Vt,st,at]}],order:[{order:[Rc,"first","last","none",st,at]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Qp,Wu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,st,x1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",b1,at]}],"font-family":[{font:[oJ,at,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,st,at]}],"line-clamp":[{"line-clamp":[Vt,"none",st,x1]}],leading:[{leading:[a,...j()]}],"list-image":[{"list-image":["none",st,at]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,at]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vt,"from-font","auto",st,Wu]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Vt,"auto",st,at]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rc,st,at],radial:["",st,at],conic:[Rc,st,at]},cJ,sJ]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vt,st,at]}],"outline-w":[{outline:["",Vt,Qp,Wu]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",p,Nv,Cv]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",g,Nv,Cv]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Vt,Wu]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",b,Nv,Cv]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Vt,st,at]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[st,at]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,at]}],filter:[{filter:["","none",st,at]}],blur:[{blur:we()}],brightness:[{brightness:[Vt,st,at]}],contrast:[{contrast:[Vt,st,at]}],"drop-shadow":[{"drop-shadow":["","none",w,Nv,Cv]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Vt,st,at]}],"hue-rotate":[{"hue-rotate":[Vt,st,at]}],invert:[{invert:["",Vt,st,at]}],saturate:[{saturate:[Vt,st,at]}],sepia:[{sepia:["",Vt,st,at]}],"backdrop-filter":[{"backdrop-filter":["","none",st,at]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Vt,st,at]}],"backdrop-contrast":[{"backdrop-contrast":[Vt,st,at]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vt,st,at]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vt,st,at]}],"backdrop-invert":[{"backdrop-invert":["",Vt,st,at]}],"backdrop-opacity":[{"backdrop-opacity":[Vt,st,at]}],"backdrop-saturate":[{"backdrop-saturate":[Vt,st,at]}],"backdrop-sepia":[{"backdrop-sepia":["",Vt,st,at]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,at]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vt,"initial",st,at]}],ease:[{ease:["linear","initial",C,st,at]}],delay:[{delay:[Vt,st,at]}],animate:[{animate:["none",D,st,at]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,st,at]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:Be()}],"scale-x":[{"scale-x":Be()}],"scale-y":[{"scale-y":Be()}],"scale-z":[{"scale-z":Be()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[st,at,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,at]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,at]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Vt,Qp,Wu,x1]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hJ=KQ(fJ);function Wo(...t){return hJ(Nt(t))}const pJ=IQ,mJ=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(RQ,{children:m.jsx(y$,{ref:r,sideOffset:e,className:Wo("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));mJ.displayName=y$.displayName;const C$={items:[],addItem:()=>{},removeItem:()=>{},updateQuantity:()=>{},clearCart:()=>{},total:0},N$=k.createContext(C$);function gJ({children:t}){const[e,n]=k.useState([]);k.useEffect(()=>{try{const d=localStorage.getItem("cart");d&&n(JSON.parse(d))}catch{}},[]),k.useEffect(()=>{try{localStorage.setItem("cart",JSON.stringify(e))}catch{}},[e]);const r=d=>{n(f=>f.find(b=>b._uniqueId===d._uniqueId)?f.map(b=>b._uniqueId===d._uniqueId?{...b,quantity:b.quantity+d.quantity}:b):[...f,d])},i=d=>{n(f=>f.filter(p=>p._uniqueId!==d))},a=(d,f)=>{f<=0?i(d):n(p=>p.map(g=>g._uniqueId===d?{...g,quantity:f}:g))},o=()=>{n([])},c=e.reduce((d,f)=>d+f.price*f.quantity,0);return m.jsx(N$.Provider,{value:{items:e,addItem:r,removeItem:i,updateQuantity:a,clearCart:o,total:c},children:t})}function Yh(){return k.useContext(N$)||C$}const yJ=()=>{};var _D={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},I$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let b=(c&15)<<2|f>>6,w=f&63;d||(w=64,o||(b=64)),r.push(n[p],n[g],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new bJ;const b=a<<2|c>>4;if(r.push(b),f!==64){const w=c<<4&240|f>>2;if(r.push(w),g!==64){const P=f<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xJ=function(t){const e=j$(t);return I$.encodeByteArray(e,!0)},Tb=function(t){return xJ(t).replace(/\./g,"")},R$=function(t){try{return I$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ=()=>_J().__FIREBASE_DEFAULTS__,SJ=()=>{if(typeof process>"u"||typeof _D>"u")return;const t=_D.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R$(t[1]);return e&&JSON.parse(e)},ux=()=>{try{return yJ()||wJ()||SJ()||TJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M$=t=>ux()?.emulatorHosts?.[t],D$=t=>{const e=M$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},k$=()=>ux()?.config,L$=t=>ux()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tb(JSON.stringify(n)),Tb(JSON.stringify(o)),""].join(".")}const Tm={};function EJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tm))Tm[e]?t.emulator.push(e):t.prod.push(e);return t}function PJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wD=!1;function HC(t,e){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Tm[t]===e||Tm[t]||wD)return;Tm[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=EJ().prod.length>0;function o(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{wD=!0,o()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=PJ(r),w=n("text"),P=document.getElementById(w)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const R=b.element;c(R),p(A,T);const $=f();d(D,C),R.append(D,P,A,$),document.body.appendChild(R)}a?(P.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function CJ(){const t=ux()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RJ(){const t=Qi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MJ(){return!CJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DJ(){try{return typeof indexedDB=="object"}catch{return!1}}function kJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ="FirebaseError";class Jo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LJ,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gg.prototype.create)}}class Gg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?VJ(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Jo(i,c,r)}}function VJ(t,e){return t.replace(BJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BJ=/\{\$([^}]+)}/g;function zJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(SD(a)&&SD(o)){if(!xd(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function SD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function um(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function dm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UJ(t,e){const n=new $J(t,e);return n.subscribe.bind(n)}class $J{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FJ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_1),i.error===void 0&&(i.error=_1),i.complete===void 0&&(i.complete=_1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FJ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class Jc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AJ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GJ(e))try{this.getOrInitializeService({instanceIdentifier:ed})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ed){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ed){return this.instances.has(e)}getOptions(e=ed){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ed){return this.component?this.component.multipleInstances?e:ed:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HJ(t){return t===ed?void 0:t}function GJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Gt||(Gt={}));const WJ={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},ZJ=Gt.INFO,YJ={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},XJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class GC{constructor(e){this.name=e,this._logLevel=ZJ,this._logHandler=XJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}}const QJ=(t,e)=>e.some(n=>t instanceof n);let TD,AD;function JJ(){return TD||(TD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eee(){return AD||(AD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B$=new WeakMap,lP=new WeakMap,z$=new WeakMap,w1=new WeakMap,KC=new WeakMap;function tee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Gc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&B$.set(n,t)}).catch(()=>{}),KC.set(e,t),e}function nee(t){if(lP.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});lP.set(t,e)}let cP={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lP.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ree(t){cP=t(cP)}function iee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(S1(this),e,...n);return z$.set(r,e.sort?e.sort():[e]),Gc(r)}:eee().includes(t)?function(...e){return t.apply(S1(this),e),Gc(B$.get(this))}:function(...e){return Gc(t.apply(S1(this),e))}}function aee(t){return typeof t=="function"?iee(t):(t instanceof IDBTransaction&&nee(t),QJ(t,JJ())?new Proxy(t,cP):t)}function Gc(t){if(t instanceof IDBRequest)return tee(t);if(w1.has(t))return w1.get(t);const e=aee(t);return e!==t&&(w1.set(t,e),KC.set(e,t)),e}const S1=t=>KC.get(t);function see(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=Gc(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Gc(o.result),d.oldVersion,d.newVersion,Gc(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const oee=["get","getKey","getAll","getAllKeys","count"],lee=["put","add","delete","clear"],T1=new Map;function ED(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(T1.get(e))return T1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oee.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return T1.set(e,a),a}ree(t=>({...t,get:(e,n,r)=>ED(e,n)||t.get(e,n,r),has:(e,n)=>!!ED(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uee(t){return t.getComponent()?.type==="VERSION"}const uP="@firebase/app",PD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new GC("@firebase/app"),dee="@firebase/app-compat",fee="@firebase/analytics-compat",hee="@firebase/analytics",pee="@firebase/app-check-compat",mee="@firebase/app-check",gee="@firebase/auth",yee="@firebase/auth-compat",vee="@firebase/database",bee="@firebase/data-connect",xee="@firebase/database-compat",_ee="@firebase/functions",wee="@firebase/functions-compat",See="@firebase/installations",Tee="@firebase/installations-compat",Aee="@firebase/messaging",Eee="@firebase/messaging-compat",Pee="@firebase/performance",Oee="@firebase/performance-compat",Cee="@firebase/remote-config",Nee="@firebase/remote-config-compat",jee="@firebase/storage",Iee="@firebase/storage-compat",Ree="@firebase/firestore",Mee="@firebase/ai",Dee="@firebase/firestore-compat",kee="firebase",Lee="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="[DEFAULT]",Vee={[uP]:"fire-core",[dee]:"fire-core-compat",[hee]:"fire-analytics",[fee]:"fire-analytics-compat",[mee]:"fire-app-check",[pee]:"fire-app-check-compat",[gee]:"fire-auth",[yee]:"fire-auth-compat",[vee]:"fire-rtdb",[bee]:"fire-data-connect",[xee]:"fire-rtdb-compat",[_ee]:"fire-fn",[wee]:"fire-fn-compat",[See]:"fire-iid",[Tee]:"fire-iid-compat",[Aee]:"fire-fcm",[Eee]:"fire-fcm-compat",[Pee]:"fire-perf",[Oee]:"fire-perf-compat",[Cee]:"fire-rc",[Nee]:"fire-rc-compat",[jee]:"fire-gcs",[Iee]:"fire-gcs-compat",[Ree]:"fire-fst",[Dee]:"fire-fst-compat",[Mee]:"fire-vertex","fire-js":"fire-js",[kee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,fP=new Map,hP=new Map;function OD(t,e){try{t.container.addComponent(e)}catch(n){Bl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wd(t){const e=t.name;if(hP.has(e))return Bl.debug(`There were multiple attempts to register component ${e}.`),!1;hP.set(e,t);for(const n of _d.values())OD(n,t);for(const n of fP.values())OD(n,t);return!0}function dx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ts(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kc=new Gg("app","Firebase",Bee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=Lee;function fx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dP,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Kc.create("bad-app-name",{appName:String(i)});if(n||(n=k$()),!n)throw Kc.create("no-options");const a=_d.get(i);if(a){if(xd(n,a.options)&&xd(r,a.config))return a;throw Kc.create("duplicate-app",{appName:i})}const o=new KJ(i);for(const d of hP.values())o.addComponent(d);const c=new zee(n,r,o);return _d.set(i,c),c}function WC(t=dP){const e=_d.get(t);if(!e&&t===dP&&k$())return fx();if(!e)throw Kc.create("no-app",{appName:t});return e}function ZC(){return Array.from(_d.values())}async function Uee(t){let e=!1;const n=t.name;_d.has(n)?(e=!0,_d.delete(n)):fP.has(n)&&t.decRefCount()<=0&&(fP.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function ko(t,e,n){let r=Vee[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bl.warn(o.join(" "));return}wd(new Jc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee="firebase-heartbeat-database",Fee=1,Wm="firebase-heartbeat-store";let A1=null;function U$(){return A1||(A1=see($ee,Fee,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kc.create("idb-open",{originalErrorMessage:t.message})})),A1}async function qee(t){try{const n=(await U$()).transaction(Wm),r=await n.objectStore(Wm).get($$(t));return await n.done,r}catch(e){if(e instanceof Jo)Bl.warn(e.message);else{const n=Kc.create("idb-get",{originalErrorMessage:e?.message});Bl.warn(n.message)}}}async function CD(t,e){try{const r=(await U$()).transaction(Wm,"readwrite");await r.objectStore(Wm).put(e,$$(t)),await r.done}catch(n){if(n instanceof Jo)Bl.warn(n.message);else{const r=Kc.create("idb-set",{originalErrorMessage:n?.message});Bl.warn(r.message)}}}function $$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee=1024,Gee=30;class Kee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ND();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Gee){const i=Yee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ND(),{heartbeatsToSend:n,unsentEntries:r}=Wee(this._heartbeatsCache.heartbeats),i=Tb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Bl.warn(e),""}}}function ND(){return new Date().toISOString().substring(0,10)}function Wee(t,e=Hee){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),jD(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DJ()?kJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qee(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return CD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return CD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jD(t){return Tb(JSON.stringify({version:2,heartbeats:t})).length}function Yee(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t){wd(new Jc("platform-logger",e=>new cee(e),"PRIVATE")),wd(new Jc("heartbeat",e=>new Kee(e),"PRIVATE")),ko(uP,PD,t),ko(uP,PD,"esm2020"),ko("fire-js","")}Xee("");var Qee="firebase",Jee="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(Qee,Jee,"app");function F$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ete=F$,q$=new Gg("auth","Firebase",F$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new GC("@firebase/auth");function tte(t,...e){Ab.logLevel<=Gt.WARN&&Ab.warn(`Auth (${kd}): ${t}`,...e)}function nb(t,...e){Ab.logLevel<=Gt.ERROR&&Ab.error(`Auth (${kd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,...e){throw YC(t,...e)}function Lo(t,...e){return YC(t,...e)}function H$(t,e,n){const r={...ete(),[e]:n};return new Gg("auth","Firebase",r).create(e,{appName:t.name})}function Il(t){return H$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q$.create(t,...e)}function bt(t,e,...n){if(!t)throw YC(e,...n)}function El(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nb(e),new Error(e)}function zl(t,e){t||El(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(){return typeof self<"u"&&self.location?.href||""}function nte(){return ID()==="http:"||ID()==="https:"}function ID(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nte()||jJ()||"connection"in navigator)?navigator.onLine:!0}function ite(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){this.shortDelay=e,this.longDelay=n,zl(n>e,"Short delay should be less than long delay!"),this.isMobile=OJ()||IJ()}get(){return rte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){zl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;El("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;El("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;El("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ote=new Wg(3e4,6e4);function Yl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xl(t,e,n,r,i={}){return K$(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=Kg({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return NJ()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&cu(t.emulatorConfig.host)&&(f.credentials="include"),G$.fetch()(await W$(t,t.config.apiHost,n,c),f)})}async function K$(t,e,n){t._canInitEmulator=!1;const r={...ate,...e};try{const i=new cte(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw jv(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw jv(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw jv(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw jv(t,"user-disabled",o);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw H$(t,p,f);uo(t,p)}}catch(i){if(i instanceof Jo)throw i;uo(t,"network-request-failed",{message:String(i)})}}async function Zg(t,e,n,r,i={}){const a=await Xl(t,e,n,r,i);return"mfaPendingCredential"in a&&uo(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function W$(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?XC(t.config,i):`${t.config.apiScheme}://${i}`;return ste.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function lte(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lo(this.auth,"network-request-failed")),ote.get())})}}function jv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lo(t,e,r);return i.customData._tokenResponse=n,i}function RD(t){return t!==void 0&&t.enterprise!==void 0}class ute{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lte(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dte(t,e){return Xl(t,"GET","/v2/recaptchaConfig",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fte(t,e){return Xl(t,"POST","/v1/accounts:delete",e)}async function Eb(t,e){return Xl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hte(t,e=!1){const n=sr(t),r=await n.getIdToken(e),i=QC(r);bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Am(E1(i.auth_time)),issuedAtTime:Am(E1(i.iat)),expirationTime:Am(E1(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function E1(t){return Number(t)*1e3}function QC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nb("JWT malformed, contained fewer than 3 sections"),null;try{const i=R$(n);return i?JSON.parse(i):(nb("Failed to decode base64 JWT payload"),null)}catch(i){return nb("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MD(t){const e=QC(t);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jo&&pte(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Am(this.lastLoginAt),this.creationTime=Am(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(t){const e=t.auth,n=await t.getIdToken(),r=await Zm(t,Eb(e,{idToken:n}));bt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Z$(i.providerUserInfo):[],o=yte(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!o?.length,f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mP(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function gte(t){const e=sr(t);await Pb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vte(t,e){const n=await K$(t,{},async()=>{const r=Kg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await W$(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&cu(t.emulatorConfig.host)&&(d.credentials="include"),G$.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bte(t,e){return Xl(t,"POST","/v2/accounts:revokeToken",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const n=MD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await vte(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Xf;return r&&(bt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(bt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xf,this.toJSON())}_performRefresh(){return El("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e){bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class so{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mP(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Zm(this,this.stsTokenManager.getToken(this.auth,e));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hte(this,e)}reload(){return gte(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new so({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(Il(this.auth));const e=await this.getIdToken();return await Zm(this,fte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:w,providerData:P,stsTokenManager:T}=n;bt(g&&T,e,"internal-error");const A=Xf.fromJSON(this.name,T);bt(typeof g=="string",e,"internal-error"),Mc(r,e.name),Mc(i,e.name),bt(typeof b=="boolean",e,"internal-error"),bt(typeof w=="boolean",e,"internal-error"),Mc(a,e.name),Mc(o,e.name),Mc(c,e.name),Mc(d,e.name),Mc(f,e.name),Mc(p,e.name);const C=new so({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:A,createdAt:f,lastLoginAt:p});return P&&Array.isArray(P)&&(C.providerData=P.map(D=>({...D}))),d&&(C._redirectEventId=d),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xf;i.updateFromServerResponse(n);const a=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pb(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];bt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Z$(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,c=new Xf;c.updateFromIdToken(r);const d=new so({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Map;function Pl(t){zl(t instanceof Function,"Expected a class definition");let e=DD.get(t);return e?(zl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y$.type="NONE";const kD=Y$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e,n){return`firebase:${t}:${e}:${n}`}class Qf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=rb(this.userKey,i.apiKey,a),this.fullPersistenceKey=rb("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eb(this.auth,{idToken:e}).catch(()=>{});return n?so._fromGetAccountInfoResponse(this.auth,n,e):null}return so._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qf(Pl(kD),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Pl(kD);const o=rb(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(o);if(p){let g;if(typeof p=="string"){const b=await Eb(e,{idToken:p}).catch(()=>{});if(!b)break;g=await so._fromGetAccountInfoResponse(e,b,p)}else g=so._fromJSON(e,p);f!==a&&(c=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Qf(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Qf(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nF(e))return"Blackberry";if(rF(e))return"Webos";if(Q$(e))return"Safari";if((e.includes("chrome/")||J$(e))&&!e.includes("edge/"))return"Chrome";if(tF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function X$(t=Qi()){return/firefox\//i.test(t)}function Q$(t=Qi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J$(t=Qi()){return/crios\//i.test(t)}function eF(t=Qi()){return/iemobile/i.test(t)}function tF(t=Qi()){return/android/i.test(t)}function nF(t=Qi()){return/blackberry/i.test(t)}function rF(t=Qi()){return/webos/i.test(t)}function JC(t=Qi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xte(t=Qi()){return JC(t)&&!!window.navigator?.standalone}function _te(){return RJ()&&document.documentMode===10}function iF(t=Qi()){return JC(t)||tF(t)||rF(t)||nF(t)||/windows phone/i.test(t)||eF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t,e=[]){let n;switch(t){case"Browser":n=LD(Qi());break;case"Worker":n=`${LD(Qi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ste(t,e={}){return Xl(t,"GET","/v2/passwordPolicy",Yl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=6;class Ate{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Tte,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VD(this),this.idTokenSubscription=new VD(this),this.beforeStateQueue=new wte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pl(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eb(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ts(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pb(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ite()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(Il(this));const n=e?sr(e):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(Il(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(Il(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ste(this),n=new Ate(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bte(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pl(e)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Qf.create(this,[Pl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tte(`Error while retrieving App Check token: ${e.error}`),e?.token}}function uu(t){return sr(t)}class VD{constructor(e){this.auth=e,this.observer=null,this.addObserver=UJ(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pte(t){hx=t}function sF(t){return hx.loadJS(t)}function Ote(){return hx.recaptchaEnterpriseScript}function Cte(){return hx.gapiScript}function Nte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jte{constructor(){this.enterprise=new Ite}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ite{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Rte="recaptcha-enterprise",oF="NO_RECAPTCHA";class Mte{constructor(e){this.type=Rte,this.auth=uu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{dte(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new ute(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;RD(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(oF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jte().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&RD(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Ote();d.length!==0&&(d+=c),sF(d).then(()=>{i(c,a,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function BD(t,e,n,r=!1,i=!1){const a=new Mte(t);let o;if(i)o=oF;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ob(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await BD(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await BD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(t,e){const n=dx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(xd(a,e??{}))return i;uo(i,"already-initialized")}return n.initialize({options:e})}function kte(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pl);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lte(t,e,n){const r=uu(t);bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=lF(e),{host:o,port:c}=Vte(e),d=c===null?"":`:${c}`,f={url:`${a}//${o}${d}/`},p=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),bt(xd(f,r.config.emulator)&&xd(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,cu(o)?(qC(`${a}//${o}${d}`),HC("Auth",!0)):Bte()}function lF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vte(t){const e=lF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:zD(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:zD(o)}}}function zD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return El("not implemented")}_getIdTokenResponse(e){return El("not implemented")}_linkToIdToken(e,n){return El("not implemented")}_getReauthenticationResolver(e){return El("not implemented")}}async function zte(t,e){return Xl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ute(t,e){return Zg(t,"POST","/v1/accounts:signInWithPassword",Yl(t,e))}async function $te(t,e){return Xl(t,"POST","/v1/accounts:sendOobCode",Yl(t,e))}async function Fte(t,e){return $te(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qte(t,e){return Zg(t,"POST","/v1/accounts:signInWithEmailLink",Yl(t,e))}async function Hte(t,e){return Zg(t,"POST","/v1/accounts:signInWithEmailLink",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends e2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ym(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ym(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ob(e,n,"signInWithPassword",Ute);case"emailLink":return qte(e,{email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ob(e,r,"signUpPassword",zte);case"emailLink":return Hte(e,{idToken:n,email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(t,e){return Zg(t,"POST","/v1/accounts:signInWithIdp",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gte="http://localhost";class Sd extends e2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):uo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new Sd(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Jf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jf(e,n)}buildRequest(){const e={requestUri:Gte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wte(t){const e=um(dm(t)).link,n=e?um(dm(e)).deep_link_id:null,r=um(dm(t)).deep_link_id;return(r?um(dm(r)).link:null)||r||n||e||t}class t2{constructor(e){const n=um(dm(e)),r=n.apiKey??null,i=n.oobCode??null,a=Kte(n.mode??null);bt(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Wte(e);try{return new t2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this.providerId=Xh.PROVIDER_ID}static credential(e,n){return Ym._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=t2.parseLink(n);return bt(r,"argument-error"),Ym._fromEmailAndCode(e,r.code,r.tenantId)}}Xh.PROVIDER_ID="password";Xh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends cF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Yg{constructor(){super("facebook.com")}static credential(e){return Sd._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lc.credential(e.oauthAccessToken)}catch{return null}}}Lc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Yg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sd._fromParams({providerId:Vc.PROVIDER_ID,signInMethod:Vc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vc.credentialFromTaggedObject(e)}static credentialFromError(e){return Vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vc.credential(n,r)}catch{return null}}}Vc.GOOGLE_SIGN_IN_METHOD="google.com";Vc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Yg{constructor(){super("github.com")}static credential(e){return Sd._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bc.credential(e.oauthAccessToken)}catch{return null}}}Bc.GITHUB_SIGN_IN_METHOD="github.com";Bc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Yg{constructor(){super("twitter.com")}static credential(e,n){return Sd._fromParams({providerId:zc.PROVIDER_ID,signInMethod:zc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zc.credentialFromTaggedObject(e)}static credentialFromError(e){return zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zc.credential(n,r)}catch{return null}}}zc.TWITTER_SIGN_IN_METHOD="twitter.com";zc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zte(t,e){return Zg(t,"POST","/v1/accounts:signUp",Yl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await so._fromIdTokenResponse(e,r,i),o=UD(r);return new Td({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=UD(r);return new Td({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function UD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Jo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cb(e,n,r,i)}}function uF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Cb._fromErrorAndOperation(t,a,e,r):a})}async function Yte(t,e,n=!1){const r=await Zm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Td._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xte(t,e,n=!1){const{auth:r}=t;if(ts(r.app))return Promise.reject(Il(r));const i="reauthenticate";try{const a=await Zm(t,uF(r,i,e,t),n);bt(a.idToken,r,"internal-error");const o=QC(a.idToken);bt(o,r,"internal-error");const{sub:c}=o;return bt(t.uid===c,r,"user-mismatch"),Td._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&uo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e,n=!1){if(ts(t.app))return Promise.reject(Il(t));const r="signIn",i=await uF(t,r,e),a=await Td._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Qte(t,e){return dF(uu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t){const e=uu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jte(t,e,n){const r=uu(t);await Ob(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Fte)}async function ene(t,e,n){if(ts(t.app))return Promise.reject(Il(t));const r=uu(t),o=await Ob(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zte).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&fF(t),d}),c=await Td._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function tne(t,e,n){return ts(t.app)?Promise.reject(Il(t)):Qte(sr(t),Xh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fF(t),r})}function nne(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function rne(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function ine(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function ane(t){return sr(t).signOut()}const Nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne=1e3,one=10;class pF extends hF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);_te()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,one):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pF.type="LOCAL";const lne=pF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF extends hF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mF.type="SESSION";const gF=mF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new px(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async f=>f(n.origin,a)),d=await cne(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}px.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const f=n2("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(){return window}function dne(t){Vo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(){return typeof Vo().WorkerGlobalScope<"u"&&typeof Vo().importScripts=="function"}async function fne(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hne(){return navigator?.serviceWorker?.controller||null}function pne(){return yF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebaseLocalStorageDb",mne=1,jb="firebaseLocalStorage",bF="fbase_key";class Xg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mx(t,e){return t.transaction([jb],e?"readwrite":"readonly").objectStore(jb)}function gne(){const t=indexedDB.deleteDatabase(vF);return new Xg(t).toPromise()}function gP(){const t=indexedDB.open(vF,mne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jb,{keyPath:bF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jb)?e(r):(r.close(),await gne(),e(await gP()))})})}async function $D(t,e,n){const r=mx(t,!0).put({[bF]:e,value:n});return new Xg(r).toPromise()}async function yne(t,e){const n=mx(t,!1).get(e),r=await new Xg(n).toPromise();return r===void 0?null:r.value}function FD(t,e){const n=mx(t,!0).delete(e);return new Xg(n).toPromise()}const vne=800,bne=3;class xF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gP(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=px._getInstance(pne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fne(),!this.activeServiceWorker)return;this.sender=new une(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gP();return await $D(e,Nb,"1"),await FD(e,Nb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$D(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=mx(i,!1).getAll();return new Xg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xF.type="LOCAL";const xne=xF;new Wg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ne(t,e){return e?Pl(e):(bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends e2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wne(t){return dF(t.auth,new r2(t),t.bypassAuthState)}function Sne(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),Xte(n,new r2(t),t.bypassAuthState)}async function Tne(t){const{auth:e,user:n}=t;return bt(n,e,"internal-error"),Yte(n,new r2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wne;case"linkViaPopup":case"linkViaRedirect":return Tne;case"reauthViaPopup":case"reauthViaRedirect":return Sne;default:uo(this.auth,"internal-error")}}resolve(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=new Wg(2e3,1e4);class Vf extends _F{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Vf.currentPopupAction&&Vf.currentPopupAction.cancel(),Vf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const e=n2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ane.get())};e()}}Vf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene="pendingRedirect",ib=new Map;class Pne extends _F{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ib.get(this.auth._key());if(!e){try{const r=await One(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ib.set(this.auth._key(),e)}return this.bypassAuthState||ib.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function One(t,e){const n=jne(e),r=Nne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Cne(t,e){ib.set(t._key(),e)}function Nne(t){return Pl(t._redirectPersistence)}function jne(t){return rb(Ene,t.config.apiKey,t.name)}async function Ine(t,e,n=!1){if(ts(t.app))return Promise.reject(Il(t));const r=uu(t),i=_ne(r,e),o=await new Pne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=600*1e3;class Mne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wF(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Lo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rne&&this.cachedEventUids.clear(),this.cachedEventUids.has(qD(e))}saveEventToCache(e){this.cachedEventUids.add(qD(e)),this.lastProcessedEventTime=Date.now()}}function qD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Dne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kne(t,e={}){return Xl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vne=/^https?/;async function Bne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kne(t);for(const n of e)try{if(zne(n))return}catch{}uo(t,"unauthorized-domain")}function zne(t){const e=pP(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Vne.test(n))return!1;if(Lne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Une=new Wg(3e4,6e4);function HD(){const t=Vo().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $ne(t){return new Promise((e,n)=>{function r(){HD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HD(),n(Lo(t,"network-request-failed"))},timeout:Une.get()})}if(Vo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vo().gapi?.load)r();else{const i=Nte("iframefcb");return Vo()[i]=()=>{gapi.load?r():n(Lo(t,"network-request-failed"))},sF(`${Cte()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw ab=null,e})}let ab=null;function Fne(t){return ab=ab||$ne(t),ab}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=new Wg(5e3,15e3),Hne="__/auth/iframe",Gne="emulator/auth/iframe",Kne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zne(t){const e=t.config;bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XC(e,Gne):`https://${t.config.authDomain}/${Hne}`,r={apiKey:e.apiKey,appName:t.name,v:kd},i=Wne.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Kg(r).slice(1)}`}async function Yne(t){const e=await Fne(t),n=Vo().gapi;return bt(n,t,"internal-error"),e.open({where:document.body,url:Zne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kne,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Lo(t,"network-request-failed"),c=Vo().setTimeout(()=>{a(o)},qne.get());function d(){Vo().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qne=500,Jne=600,ere="_blank",tre="http://localhost";class GD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nre(t,e,n,r=Qne,i=Jne){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...Xne,width:r.toString(),height:i.toString(),top:a,left:o},f=Qi().toLowerCase();n&&(c=J$(f)?ere:n),X$(f)&&(e=e||tre,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[w,P])=>`${b}${w}=${P},`,"");if(xte(f)&&c!=="_self")return rre(e||"",c),new GD(null);const g=window.open(e||"",c,p);bt(g,t,"popup-blocked");try{g.focus()}catch{}return new GD(g)}function rre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire="__/auth/handler",are="emulator/auth/handler",sre=encodeURIComponent("fac");async function KD(t,e,n,r,i,a){bt(t.config.authDomain,t,"auth-domain-config-required"),bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:kd,eventId:i};if(e instanceof cF){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zJ(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof Yg){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${sre}=${encodeURIComponent(d)}`:"";return`${ore(t)}?${Kg(c).slice(1)}${f}`}function ore({config:t}){return t.emulator?XC(t,are):`https://${t.authDomain}/${ire}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="webStorageSupport";class lre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gF,this._completeRedirectFn=Ine,this._overrideRedirectResult=Cne}async _openPopup(e,n,r,i){zl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await KD(e,n,r,pP(),i);return nre(e,a,n2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await KD(e,n,r,pP(),i);return dne(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(zl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Yne(e),r=new Mne(e);return n.register("authEvent",i=>(bt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(P1,{type:P1},i=>{const a=i?.[0]?.[P1];a!==void 0&&n(!!a),uo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iF()||Q$()||JC()}}const cre=lre;var WD="@firebase/auth",ZD="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fre(t){wd(new Jc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aF(t)},f=new Ete(r,i,a,d);return kte(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wd(new Jc("auth-internal",e=>{const n=uu(e.getProvider("auth").getImmediate());return(r=>new ure(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ko(WD,ZD,dre(t)),ko(WD,ZD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hre=300,pre=L$("authIdTokenMaxAge")||hre;let YD=null;const mre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pre)return;const i=n?.token;YD!==i&&(YD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yP(t=WC()){const e=dx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Dte(t,{popupRedirectResolver:cre,persistence:[xne,lne,gF]}),r=L$("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=mre(a.toString());rne(n,o,()=>o(n.currentUser)),nne(n,c=>o(c))}}const i=M$("auth");return i&&Lte(n,`http://${i}`),n}function gre(){return document.getElementsByTagName("head")?.[0]??document}Pte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Lo("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",gre().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fre("Browser");var XD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wc,SF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,j){function V(){}V.prototype=j.prototype,N.F=j.prototype,N.prototype=new V,N.prototype.constructor=N,N.D=function(K,q,H){for(var z=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)z[ie-2]=arguments[ie];return j.prototype[q].apply(K,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,V){V||(V=0);const K=Array(16);if(typeof j=="string")for(var q=0;q<16;++q)K[q]=j.charCodeAt(V++)|j.charCodeAt(V++)<<8|j.charCodeAt(V++)<<16|j.charCodeAt(V++)<<24;else for(q=0;q<16;++q)K[q]=j[V++]|j[V++]<<8|j[V++]<<16|j[V++]<<24;j=N.g[0],V=N.g[1],q=N.g[2];let H=N.g[3],z;z=j+(H^V&(q^H))+K[0]+3614090360&4294967295,j=V+(z<<7&4294967295|z>>>25),z=H+(q^j&(V^q))+K[1]+3905402710&4294967295,H=j+(z<<12&4294967295|z>>>20),z=q+(V^H&(j^V))+K[2]+606105819&4294967295,q=H+(z<<17&4294967295|z>>>15),z=V+(j^q&(H^j))+K[3]+3250441966&4294967295,V=q+(z<<22&4294967295|z>>>10),z=j+(H^V&(q^H))+K[4]+4118548399&4294967295,j=V+(z<<7&4294967295|z>>>25),z=H+(q^j&(V^q))+K[5]+1200080426&4294967295,H=j+(z<<12&4294967295|z>>>20),z=q+(V^H&(j^V))+K[6]+2821735955&4294967295,q=H+(z<<17&4294967295|z>>>15),z=V+(j^q&(H^j))+K[7]+4249261313&4294967295,V=q+(z<<22&4294967295|z>>>10),z=j+(H^V&(q^H))+K[8]+1770035416&4294967295,j=V+(z<<7&4294967295|z>>>25),z=H+(q^j&(V^q))+K[9]+2336552879&4294967295,H=j+(z<<12&4294967295|z>>>20),z=q+(V^H&(j^V))+K[10]+4294925233&4294967295,q=H+(z<<17&4294967295|z>>>15),z=V+(j^q&(H^j))+K[11]+2304563134&4294967295,V=q+(z<<22&4294967295|z>>>10),z=j+(H^V&(q^H))+K[12]+1804603682&4294967295,j=V+(z<<7&4294967295|z>>>25),z=H+(q^j&(V^q))+K[13]+4254626195&4294967295,H=j+(z<<12&4294967295|z>>>20),z=q+(V^H&(j^V))+K[14]+2792965006&4294967295,q=H+(z<<17&4294967295|z>>>15),z=V+(j^q&(H^j))+K[15]+1236535329&4294967295,V=q+(z<<22&4294967295|z>>>10),z=j+(q^H&(V^q))+K[1]+4129170786&4294967295,j=V+(z<<5&4294967295|z>>>27),z=H+(V^q&(j^V))+K[6]+3225465664&4294967295,H=j+(z<<9&4294967295|z>>>23),z=q+(j^V&(H^j))+K[11]+643717713&4294967295,q=H+(z<<14&4294967295|z>>>18),z=V+(H^j&(q^H))+K[0]+3921069994&4294967295,V=q+(z<<20&4294967295|z>>>12),z=j+(q^H&(V^q))+K[5]+3593408605&4294967295,j=V+(z<<5&4294967295|z>>>27),z=H+(V^q&(j^V))+K[10]+38016083&4294967295,H=j+(z<<9&4294967295|z>>>23),z=q+(j^V&(H^j))+K[15]+3634488961&4294967295,q=H+(z<<14&4294967295|z>>>18),z=V+(H^j&(q^H))+K[4]+3889429448&4294967295,V=q+(z<<20&4294967295|z>>>12),z=j+(q^H&(V^q))+K[9]+568446438&4294967295,j=V+(z<<5&4294967295|z>>>27),z=H+(V^q&(j^V))+K[14]+3275163606&4294967295,H=j+(z<<9&4294967295|z>>>23),z=q+(j^V&(H^j))+K[3]+4107603335&4294967295,q=H+(z<<14&4294967295|z>>>18),z=V+(H^j&(q^H))+K[8]+1163531501&4294967295,V=q+(z<<20&4294967295|z>>>12),z=j+(q^H&(V^q))+K[13]+2850285829&4294967295,j=V+(z<<5&4294967295|z>>>27),z=H+(V^q&(j^V))+K[2]+4243563512&4294967295,H=j+(z<<9&4294967295|z>>>23),z=q+(j^V&(H^j))+K[7]+1735328473&4294967295,q=H+(z<<14&4294967295|z>>>18),z=V+(H^j&(q^H))+K[12]+2368359562&4294967295,V=q+(z<<20&4294967295|z>>>12),z=j+(V^q^H)+K[5]+4294588738&4294967295,j=V+(z<<4&4294967295|z>>>28),z=H+(j^V^q)+K[8]+2272392833&4294967295,H=j+(z<<11&4294967295|z>>>21),z=q+(H^j^V)+K[11]+1839030562&4294967295,q=H+(z<<16&4294967295|z>>>16),z=V+(q^H^j)+K[14]+4259657740&4294967295,V=q+(z<<23&4294967295|z>>>9),z=j+(V^q^H)+K[1]+2763975236&4294967295,j=V+(z<<4&4294967295|z>>>28),z=H+(j^V^q)+K[4]+1272893353&4294967295,H=j+(z<<11&4294967295|z>>>21),z=q+(H^j^V)+K[7]+4139469664&4294967295,q=H+(z<<16&4294967295|z>>>16),z=V+(q^H^j)+K[10]+3200236656&4294967295,V=q+(z<<23&4294967295|z>>>9),z=j+(V^q^H)+K[13]+681279174&4294967295,j=V+(z<<4&4294967295|z>>>28),z=H+(j^V^q)+K[0]+3936430074&4294967295,H=j+(z<<11&4294967295|z>>>21),z=q+(H^j^V)+K[3]+3572445317&4294967295,q=H+(z<<16&4294967295|z>>>16),z=V+(q^H^j)+K[6]+76029189&4294967295,V=q+(z<<23&4294967295|z>>>9),z=j+(V^q^H)+K[9]+3654602809&4294967295,j=V+(z<<4&4294967295|z>>>28),z=H+(j^V^q)+K[12]+3873151461&4294967295,H=j+(z<<11&4294967295|z>>>21),z=q+(H^j^V)+K[15]+530742520&4294967295,q=H+(z<<16&4294967295|z>>>16),z=V+(q^H^j)+K[2]+3299628645&4294967295,V=q+(z<<23&4294967295|z>>>9),z=j+(q^(V|~H))+K[0]+4096336452&4294967295,j=V+(z<<6&4294967295|z>>>26),z=H+(V^(j|~q))+K[7]+1126891415&4294967295,H=j+(z<<10&4294967295|z>>>22),z=q+(j^(H|~V))+K[14]+2878612391&4294967295,q=H+(z<<15&4294967295|z>>>17),z=V+(H^(q|~j))+K[5]+4237533241&4294967295,V=q+(z<<21&4294967295|z>>>11),z=j+(q^(V|~H))+K[12]+1700485571&4294967295,j=V+(z<<6&4294967295|z>>>26),z=H+(V^(j|~q))+K[3]+2399980690&4294967295,H=j+(z<<10&4294967295|z>>>22),z=q+(j^(H|~V))+K[10]+4293915773&4294967295,q=H+(z<<15&4294967295|z>>>17),z=V+(H^(q|~j))+K[1]+2240044497&4294967295,V=q+(z<<21&4294967295|z>>>11),z=j+(q^(V|~H))+K[8]+1873313359&4294967295,j=V+(z<<6&4294967295|z>>>26),z=H+(V^(j|~q))+K[15]+4264355552&4294967295,H=j+(z<<10&4294967295|z>>>22),z=q+(j^(H|~V))+K[6]+2734768916&4294967295,q=H+(z<<15&4294967295|z>>>17),z=V+(H^(q|~j))+K[13]+1309151649&4294967295,V=q+(z<<21&4294967295|z>>>11),z=j+(q^(V|~H))+K[4]+4149444226&4294967295,j=V+(z<<6&4294967295|z>>>26),z=H+(V^(j|~q))+K[11]+3174756917&4294967295,H=j+(z<<10&4294967295|z>>>22),z=q+(j^(H|~V))+K[2]+718787259&4294967295,q=H+(z<<15&4294967295|z>>>17),z=V+(H^(q|~j))+K[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(q+(z<<21&4294967295|z>>>11))&4294967295,N.g[2]=N.g[2]+q&4294967295,N.g[3]=N.g[3]+H&4294967295}r.prototype.v=function(N,j){j===void 0&&(j=N.length);const V=j-this.blockSize,K=this.C;let q=this.h,H=0;for(;H<j;){if(q==0)for(;H<=V;)i(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<j;)if(K[q++]=N.charCodeAt(H++),q==this.blockSize){i(this,K),q=0;break}}else for(;H<j;)if(K[q++]=N[H++],q==this.blockSize){i(this,K),q=0;break}}this.h=q,this.o+=j},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;j=this.o*8;for(var V=N.length-8;V<N.length;++V)N[V]=j&255,j/=256;for(this.v(N),N=Array(16),j=0,V=0;V<4;++V)for(let K=0;K<32;K+=8)N[j++]=this.g[V]>>>K&255;return N};function a(N,j){var V=c;return Object.prototype.hasOwnProperty.call(V,N)?V[N]:V[N]=j(N)}function o(N,j){this.h=j;const V=[];let K=!0;for(let q=N.length-1;q>=0;q--){const H=N[q]|0;K&&H==j||(V[q]=H,K=!1)}this.g=V}var c={};function d(N){return-128<=N&&N<128?a(N,function(j){return new o([j|0],j<0?-1:0)}):new o([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return A(f(-N));const j=[];let V=1;for(let K=0;N>=V;K++)j[K]=N/V|0,V*=4294967296;return new o(j,0)}function p(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return A(p(N.substring(1),j));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(j,8));let K=g;for(let H=0;H<N.length;H+=8){var q=Math.min(8,N.length-H);const z=parseInt(N.substring(H,H+q),j);q<8?(q=f(Math.pow(j,q)),K=K.j(q).add(f(z))):(K=K.j(V),K=K.add(f(z)))}return K}var g=d(0),b=d(1),w=d(16777216);t=o.prototype,t.m=function(){if(T(this))return-A(this).m();let N=0,j=1;for(let V=0;V<this.g.length;V++){const K=this.i(V);N+=(K>=0?K:4294967296+K)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(T(this))return"-"+A(this).toString(N);const j=f(Math.pow(N,6));var V=this;let K="";for(;;){const q=$(V,j).g;V=C(V,q.j(j));let H=((V.g.length>0?V.g[0]:V.h)>>>0).toString(N);if(V=q,P(V))return H+K;for(;H.length<6;)H="0"+H;K=H+K}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(let j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function T(N){return N.h==-1}t.l=function(N){return N=C(this,N),T(N)?-1:P(N)?0:1};function A(N){const j=N.g.length,V=[];for(let K=0;K<j;K++)V[K]=~N.g[K];return new o(V,~N.h).add(b)}t.abs=function(){return T(this)?A(this):this},t.add=function(N){const j=Math.max(this.g.length,N.g.length),V=[];let K=0;for(let q=0;q<=j;q++){let H=K+(this.i(q)&65535)+(N.i(q)&65535),z=(H>>>16)+(this.i(q)>>>16)+(N.i(q)>>>16);K=z>>>16,H&=65535,z&=65535,V[q]=z<<16|H}return new o(V,V[V.length-1]&-2147483648?-1:0)};function C(N,j){return N.add(A(j))}t.j=function(N){if(P(this)||P(N))return g;if(T(this))return T(N)?A(this).j(A(N)):A(A(this).j(N));if(T(N))return A(this.j(A(N)));if(this.l(w)<0&&N.l(w)<0)return f(this.m()*N.m());const j=this.g.length+N.g.length,V=[];for(var K=0;K<2*j;K++)V[K]=0;for(K=0;K<this.g.length;K++)for(let q=0;q<N.g.length;q++){const H=this.i(K)>>>16,z=this.i(K)&65535,ie=N.i(q)>>>16,de=N.i(q)&65535;V[2*K+2*q]+=z*de,D(V,2*K+2*q),V[2*K+2*q+1]+=H*de,D(V,2*K+2*q+1),V[2*K+2*q+1]+=z*ie,D(V,2*K+2*q+1),V[2*K+2*q+2]+=H*ie,D(V,2*K+2*q+2)}for(N=0;N<j;N++)V[N]=V[2*N+1]<<16|V[2*N];for(N=j;N<2*j;N++)V[N]=0;return new o(V,0)};function D(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function R(N,j){this.g=N,this.h=j}function $(N,j){if(P(j))throw Error("division by zero");if(P(N))return new R(g,g);if(T(N))return j=$(A(N),j),new R(A(j.g),A(j.h));if(T(j))return j=$(N,A(j)),new R(A(j.g),j.h);if(N.g.length>30){if(T(N)||T(j))throw Error("slowDivide_ only works with positive integers.");for(var V=b,K=j;K.l(N)<=0;)V=I(V),K=I(K);var q=B(V,1),H=B(K,1);for(K=B(K,2),V=B(V,2);!P(K);){var z=H.add(K);z.l(N)<=0&&(q=q.add(V),H=z),K=B(K,1),V=B(V,1)}return j=C(N,q.j(j)),new R(q,j)}for(q=g;N.l(j)>=0;){for(V=Math.max(1,Math.floor(N.m()/j.m())),K=Math.ceil(Math.log(V)/Math.LN2),K=K<=48?1:Math.pow(2,K-48),H=f(V),z=H.j(j);T(z)||z.l(N)>0;)V-=K,H=f(V),z=H.j(j);P(H)&&(H=b),q=q.add(H),N=C(N,z)}return new R(q,N)}t.B=function(N){return $(this,N).h},t.and=function(N){const j=Math.max(this.g.length,N.g.length),V=[];for(let K=0;K<j;K++)V[K]=this.i(K)&N.i(K);return new o(V,this.h&N.h)},t.or=function(N){const j=Math.max(this.g.length,N.g.length),V=[];for(let K=0;K<j;K++)V[K]=this.i(K)|N.i(K);return new o(V,this.h|N.h)},t.xor=function(N){const j=Math.max(this.g.length,N.g.length),V=[];for(let K=0;K<j;K++)V[K]=this.i(K)^N.i(K);return new o(V,this.h^N.h)};function I(N){const j=N.g.length+1,V=[];for(let K=0;K<j;K++)V[K]=N.i(K)<<1|N.i(K-1)>>>31;return new o(V,N.h)}function B(N,j){const V=j>>5;j%=32;const K=N.g.length-V,q=[];for(let H=0;H<K;H++)q[H]=j>0?N.i(H+V)>>>j|N.i(H+V+1)<<32-j:N.i(H+V);return new o(q,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,SF=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,Wc=o}).apply(typeof XD<"u"?XD:typeof self<"u"?self:typeof window<"u"?window:{});var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TF,fm,AF,sb,vP,EF,PF,OF;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iv=="object"&&Iv];for(var M=0;M<x.length;++M){var G=x[M];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function i(x,M){if(M)e:{var G=r;x=x.split(".");for(var J=0;J<x.length-1;J++){var ve=x[J];if(!(ve in G))break e;G=G[ve]}x=x[x.length-1],J=G[x],M=M(J),M!=J&&M!=null&&e(G,x,{configurable:!0,writable:!0,value:M})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(M){var G=[],J;for(J in M)Object.prototype.hasOwnProperty.call(M,J)&&G.push([J,M[J]]);return G}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(x){var M=typeof x;return M=="object"&&x!=null||M=="function"}function d(x,M,G){return x.call.apply(x.bind,arguments)}function f(x,M,G){return f=d,f.apply(null,arguments)}function p(x,M){var G=Array.prototype.slice.call(arguments,1);return function(){var J=G.slice();return J.push.apply(J,arguments),x.apply(this,J)}}function g(x,M){function G(){}G.prototype=M.prototype,x.Z=M.prototype,x.prototype=new G,x.prototype.constructor=x,x.Ob=function(J,ve,Ee){for(var Ke=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Ke[_t-2]=arguments[_t];return M.prototype[ve].apply(J,Ke)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function w(x){const M=x.length;if(M>0){const G=Array(M);for(let J=0;J<M;J++)G[J]=x[J];return G}return[]}function P(x,M){for(let J=1;J<arguments.length;J++){const ve=arguments[J];var G=typeof ve;if(G=G!="object"?G:ve?Array.isArray(ve)?"array":G:"null",G=="array"||G=="object"&&typeof ve.length=="number"){G=x.length||0;const Ee=ve.length||0;x.length=G+Ee;for(let Ke=0;Ke<Ee;Ke++)x[G+Ke]=ve[Ke]}else x.push(ve)}}class T{constructor(M,G){this.i=M,this.j=G,this.h=0,this.g=null}get(){let M;return this.h>0?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function A(x){o.setTimeout(()=>{throw x},0)}function C(){var x=N;let M=null;return x.g&&(M=x.g,x.g=x.g.next,x.g||(x.h=null),M.next=null),M}class D{constructor(){this.h=this.g=null}add(M,G){const J=R.get();J.set(M,G),this.h?this.h.next=J:this.g=J,this.h=J}}var R=new T(()=>new $,x=>x.reset());class ${constructor(){this.next=this.g=this.h=null}set(M,G){this.h=M,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let I,B=!1,N=new D,j=()=>{const x=Promise.resolve(void 0);I=()=>{x.then(V)}};function V(){for(var x;x=C();){try{x.h.call(x.g)}catch(G){A(G)}var M=R;M.j(x),M.h<100&&(M.h++,x.next=M.g,M.g=x)}B=!1}function K(){this.u=this.u,this.C=this.C}K.prototype.u=!1,K.prototype.dispose=function(){this.u||(this.u=!0,this.N())},K.prototype[Symbol.dispose]=function(){this.dispose()},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(x,M){this.type=x,this.g=this.target=M,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,M=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const G=()=>{};o.addEventListener("test",G,M),o.removeEventListener("test",G,M)}catch{}return x})();function z(x){return/^[\s\xa0]*$/.test(x)}function ie(x,M){q.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,M)}g(ie,q),ie.prototype.init=function(x,M){const G=this.type=x.type,J=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=M,M=x.relatedTarget,M||(G=="mouseover"?M=x.fromElement:G=="mouseout"&&(M=x.toElement)),this.relatedTarget=M,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(x,M,G,J,ve){this.listener=x,this.proxy=null,this.src=M,this.type=G,this.capture=!!J,this.ha=ve,this.key=++X,this.da=this.fa=!1}function ee(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function le(x,M,G){for(const J in x)M.call(G,x[J],J,x)}function oe(x,M){for(const G in x)M.call(void 0,x[G],G,x)}function Q(x){const M={};for(const G in x)M[G]=x[G];return M}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(x,M){let G,J;for(let ve=1;ve<arguments.length;ve++){J=arguments[ve];for(G in J)x[G]=J[G];for(let Ee=0;Ee<ae.length;Ee++)G=ae[Ee],Object.prototype.hasOwnProperty.call(J,G)&&(x[G]=J[G])}}function fe(x){this.src=x,this.g={},this.h=0}fe.prototype.add=function(x,M,G,J,ve){const Ee=x.toString();x=this.g[Ee],x||(x=this.g[Ee]=[],this.h++);const Ke=Ce(x,M,J,ve);return Ke>-1?(M=x[Ke],G||(M.fa=!1)):(M=new re(M,this.src,Ee,!!J,ve),M.fa=G,x.push(M)),M};function xe(x,M){const G=M.type;if(G in x.g){var J=x.g[G],ve=Array.prototype.indexOf.call(J,M,void 0),Ee;(Ee=ve>=0)&&Array.prototype.splice.call(J,ve,1),Ee&&(ee(M),x.g[G].length==0&&(delete x.g[G],x.h--))}}function Ce(x,M,G,J){for(let ve=0;ve<x.length;++ve){const Ee=x[ve];if(!Ee.da&&Ee.listener==M&&Ee.capture==!!G&&Ee.ha==J)return ve}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),we={};function pe(x,M,G,J,ve){if(Array.isArray(M)){for(let Ee=0;Ee<M.length;Ee++)pe(x,M[Ee],G,J,ve);return null}return G=ct(G),x&&x[de]?x.J(M,G,c(J)?!!J.capture:!1,ve):Be(x,M,G,!1,J,ve)}function Be(x,M,G,J,ve,Ee){if(!M)throw Error("Invalid event type");const Ke=c(ve)?!!ve.capture:!!ve;let _t=Fe(x);if(_t||(x[Oe]=_t=new fe(x)),G=_t.add(M,G,J,Ke,Ee),G.proxy)return G;if(J=$e(),G.proxy=J,J.src=x,J.listener=G,x.addEventListener)H||(ve=Ke),ve===void 0&&(ve=!1),x.addEventListener(M.toString(),J,ve);else if(x.attachEvent)x.attachEvent(Pe(M.toString()),J);else if(x.addListener&&x.removeListener)x.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return G}function $e(){function x(G){return M.call(x.src,x.listener,G)}const M=je;return x}function be(x,M,G,J,ve){if(Array.isArray(M))for(var Ee=0;Ee<M.length;Ee++)be(x,M[Ee],G,J,ve);else J=c(J)?!!J.capture:!!J,G=ct(G),x&&x[de]?(x=x.i,Ee=String(M).toString(),Ee in x.g&&(M=x.g[Ee],G=Ce(M,G,J,ve),G>-1&&(ee(M[G]),Array.prototype.splice.call(M,G,1),M.length==0&&(delete x.g[Ee],x.h--)))):x&&(x=Fe(x))&&(M=x.g[M.toString()],x=-1,M&&(x=Ce(M,G,J,ve)),(G=x>-1?M[x]:null)&&Me(G))}function Me(x){if(typeof x!="number"&&x&&!x.da){var M=x.src;if(M&&M[de])xe(M.i,x);else{var G=x.type,J=x.proxy;M.removeEventListener?M.removeEventListener(G,J,x.capture):M.detachEvent?M.detachEvent(Pe(G),J):M.addListener&&M.removeListener&&M.removeListener(J),(G=Fe(M))?(xe(G,x),G.h==0&&(G.src=null,M[Oe]=null)):ee(x)}}}function Pe(x){return x in we?we[x]:we[x]="on"+x}function je(x,M){if(x.da)x=!0;else{M=new ie(M,this);const G=x.listener,J=x.ha||x.src;x.fa&&Me(x),x=G.call(J,M)}return x}function Fe(x){return x=x[Oe],x instanceof fe?x:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function ct(x){return typeof x=="function"?x:(x[We]||(x[We]=function(M){return x.handleEvent(M)}),x[We])}function He(){K.call(this),this.i=new fe(this),this.M=this,this.G=null}g(He,K),He.prototype[de]=!0,He.prototype.removeEventListener=function(x,M,G,J){be(this,x,M,G,J)};function Ze(x,M){var G,J=x.G;if(J)for(G=[];J;J=J.G)G.push(J);if(x=x.M,J=M.type||M,typeof M=="string")M=new q(M,x);else if(M instanceof q)M.target=M.target||x;else{var ve=M;M=new q(J,x),ce(M,ve)}ve=!0;let Ee,Ke;if(G)for(Ke=G.length-1;Ke>=0;Ke--)Ee=M.g=G[Ke],ve=Ye(Ee,J,!0,M)&&ve;if(Ee=M.g=x,ve=Ye(Ee,J,!0,M)&&ve,ve=Ye(Ee,J,!1,M)&&ve,G)for(Ke=0;Ke<G.length;Ke++)Ee=M.g=G[Ke],ve=Ye(Ee,J,!1,M)&&ve}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var x=this.i;for(const M in x.g){const G=x.g[M];for(let J=0;J<G.length;J++)ee(G[J]);delete x.g[M],x.h--}}this.G=null},He.prototype.J=function(x,M,G,J){return this.i.add(String(x),M,!1,G,J)},He.prototype.K=function(x,M,G,J){return this.i.add(String(x),M,!0,G,J)};function Ye(x,M,G,J){if(M=x.i.g[String(M)],!M)return!0;M=M.concat();let ve=!0;for(let Ee=0;Ee<M.length;++Ee){const Ke=M[Ee];if(Ke&&!Ke.da&&Ke.capture==G){const _t=Ke.listener,Qt=Ke.ha||Ke.src;Ke.fa&&xe(x.i,Ke),ve=_t.call(Qt,J)!==!1&&ve}}return ve&&!J.defaultPrevented}function mt(x,M){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(M)>2147483647?-1:o.setTimeout(x,M||0)}function an(x){x.g=mt(()=>{x.g=null,x.i&&(x.i=!1,an(x))},x.l);const M=x.h;x.h=null,x.m.apply(null,M)}class _n extends K{constructor(M,G){super(),this.m=M,this.l=G,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:an(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(x){K.call(this),this.h=x,this.g={}}g(Vr,K);var Un=[];function Ii(x){le(x.g,function(M,G){this.g.hasOwnProperty(G)&&Me(M)},x),x.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Ii(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=o.JSON.stringify,ga=o.JSON.parse,ti=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function ya(){}function Ri(){}var vr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mn(){q.call(this,"d")}g(Mn,q);function Ar(){q.call(this,"c")}g(Ar,q);var tn={},yi=null;function va(){return yi=yi||new He}tn.Ia="serverreachability";function Br(x){q.call(this,tn.Ia,x)}g(Br,q);function er(x){const M=va();Ze(M,new Br(M))}tn.STAT_EVENT="statevent";function zr(x,M){q.call(this,tn.STAT_EVENT,x),this.stat=M}g(zr,q);function On(x){const M=va();Ze(M,new zr(M,x))}tn.Ja="timingevent";function Mi(x,M){q.call(this,tn.Ja,x),this.size=M}g(Mi,q);function dt(x,M){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},M)}function Xt(){this.g=!0}Xt.prototype.ua=function(){this.g=!1};function Gn(x,M,G,J,ve,Ee){x.info(function(){if(x.g)if(Ee){var Ke="",_t=Ee.split("&");for(let Jt=0;Jt<_t.length;Jt++){var Qt=_t[Jt].split("=");if(Qt.length>1){const Nn=Qt[0];Qt=Qt[1];const xa=Nn.split("_");Ke=xa.length>=2&&xa[1]=="type"?Ke+(Nn+"="+Qt+"&"):Ke+(Nn+"=redacted&")}}}else Ke=null;else Ke=Ee;return"XMLHTTP REQ ("+J+") [attempt "+ve+"]: "+M+`
`+G+`
`+Ke})}function Kn(x,M,G,J,ve,Ee,Ke){x.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ve+"]: "+M+`
`+G+`
`+Ee+" "+Ke})}function Ur(x,M,G,J){x.info(function(){return"XMLHTTP TEXT ("+M+"): "+Er(x,G)+(J?" "+J:"")})}function nn(x,M){x.info(function(){return"TIMEOUT: "+M})}Xt.prototype.info=function(){};function Er(x,M){if(!x.g)return M;if(!M)return null;try{const Ee=JSON.parse(M);if(Ee){for(x=0;x<Ee.length;x++)if(Array.isArray(Ee[x])){var G=Ee[x];if(!(G.length<2)){var J=G[1];if(Array.isArray(J)&&!(J.length<1)){var ve=J[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(let Ke=1;Ke<J.length;Ke++)J[Ke]=""}}}}return Rn(Ee)}catch{return M}}var ni={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tr;function Dn(){}g(Dn,ya),Dn.prototype.g=function(){return new XMLHttpRequest},tr=new Dn;function Qe(x){return encodeURIComponent(String(x))}function ls(x){var M=1;x=x.split(":");const G=[];for(;M>0&&x.length;)G.push(x.shift()),M--;return x.length&&G.push(x.join(":")),G}function ri(x,M,G,J){this.j=x,this.i=M,this.l=G,this.S=J||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var Cn={},Zn={};function $r(x,M,G){x.M=1,x.A=sn(kn(M)),x.u=G,x.R=!0,vi(x,null)}function vi(x,M){x.F=Date.now(),ki(x),x.B=kn(x.A);var G=x.B,J=x.S;Array.isArray(J)||(J=[String(J)]),na(G.i,"t",J),x.C=0,G=x.j.L,x.h=new Di,x.g=wu(x.j,G?M:null,!x.u),x.P>0&&(x.O=new _n(f(x.Y,x,x.g),x.P)),M=x.V,G=x.g,J=x.ba;var ve="readystatechange";Array.isArray(ve)||(ve&&(Un[0]=ve.toString()),ve=Un);for(let Ee=0;Ee<ve.length;Ee++){const Ke=pe(G,ve[Ee],J||M.handleEvent,!1,M.h||M);if(!Ke)break;M.g[Ke.key]=Ke}M=x.J?Q(x.J):{},x.u?(x.v||(x.v="POST"),M["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,M)):(x.v="GET",x.g.ea(x.B,x.v,null,M)),er(),Gn(x.i,x.v,x.B,x.l,x.S,x.u)}ri.prototype.ba=function(x){x=x.target;const M=this.O;M&&At(x)==3?M.j():this.Y(x)},ri.prototype.Y=function(x){try{if(x==this.g)e:{const _t=At(this.g),Qt=this.g.ya(),Jt=this.g.ca();if(!(_t<3)&&(_t!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||_t!=4||Qt==7||(Qt==8||Jt<=0?er(3):er(2)),Li(this);var M=this.g.ca();this.X=M;var G=nr(this);if(this.o=M==200,Kn(this.i,this.v,this.B,this.l,this.S,_t,M),this.o){if(this.U&&!this.L){t:{if(this.g){var J,ve=this.g;if((J=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(J)){var Ee=J;break t}}Ee=null}if(x=Ee)Ur(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,x);else{this.o=!1,this.m=3,On(12),br(this),ii(this);break e}}if(this.R){x=!0;let Nn;for(;!this.K&&this.C<G.length;)if(Nn=cs(this,G),Nn==Zn){_t==4&&(this.m=4,On(14),x=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Cn){this.m=4,On(15),Ur(this.i,this.l,G,"[Invalid Chunk]"),x=!1;break}else Ur(this.i,this.l,Nn,null),bi(this,Nn);if(ba(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||G.length!=0||this.h.h||(this.m=1,On(16),x=!1),this.o=this.o&&x,!x)Ur(this.i,this.l,G,"[Invalid Chunked Response]"),br(this),ii(this);else if(G.length>0&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.aa&&!Ke.P&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),xu(Ke),Ke.P=!0,On(11))}}else Ur(this.i,this.l,G,null),bi(this,G);_t==4&&br(this),this.o&&!this.K&&(_t==4?aa(this.j,this):(this.o=!1,ki(this)))}else Yn(this.g),M==400&&G.indexOf("Unknown SID")>0?(this.m=3,On(12)):(this.m=0,On(13)),br(this),ii(this)}}}catch{}finally{}};function nr(x){if(!ba(x))return x.g.la();const M=rn(x.g);if(M==="")return"";let G="";const J=M.length,ve=At(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return br(x),ii(x),"";x.h.i=new o.TextDecoder}for(let Ee=0;Ee<J;Ee++)x.h.h=!0,G+=x.h.i.decode(M[Ee],{stream:!(ve&&Ee==J-1)});return M.length=0,x.h.g+=G,x.C=0,x.h.g}function ba(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function cs(x,M){var G=x.C,J=M.indexOf(`
`,G);return J==-1?Zn:(G=Number(M.substring(G,J)),isNaN(G)?Cn:(J+=1,J+G>M.length?Zn:(M=M.slice(J,J+G),x.C=J+G,M)))}ri.prototype.cancel=function(){this.K=!0,br(this)};function ki(x){x.T=Date.now()+x.H,us(x,x.H)}function us(x,M){if(x.D!=null)throw Error("WatchDog timer not null");x.D=dt(f(x.aa,x),M)}function Li(x){x.D&&(o.clearTimeout(x.D),x.D=null)}ri.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(nn(this.i,this.B),this.M!=2&&(er(),On(17)),br(this),this.m=2,ii(this)):us(this,this.T-x)};function ii(x){x.j.I==0||x.K||aa(x.j,x)}function br(x){Li(x);var M=x.O;M&&typeof M.dispose=="function"&&M.dispose(),x.O=null,Ii(x.V),x.g&&(M=x.g,x.g=null,M.abort(),M.dispose())}function bi(x,M){try{var G=x.j;if(G.I!=0&&(G.g==x||xi(G.h,x))){if(!x.L&&xi(G.h,x)&&G.I==3){try{var J=G.Ba.g.parse(M)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ve=J;if(ve[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<x.F)rc(G),vo(G);else break e;al(G),On(18)}}else G.xa=ve[1],0<G.xa-G.K&&ve[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=dt(f(G.Va,G),6e3));lr(G.h)<=1&&G.ta&&(G.ta=void 0)}else Ua(G,11)}else if((x.L||G.g==x)&&rc(G),!z(M))for(ve=G.Ba.g.parse(M),M=0;M<ve.length;M++){let Jt=ve[M];const Nn=Jt[0];if(!(Nn<=G.K))if(G.K=Nn,Jt=Jt[1],G.I==2)if(Jt[0]=="c"){G.M=Jt[1],G.ba=Jt[2];const xa=Jt[3];xa!=null&&(G.ka=xa,G.j.info("VER="+G.ka));const _a=Jt[4];_a!=null&&(G.za=_a,G.j.info("SVER="+G.za));const sa=Jt[5];sa!=null&&typeof sa=="number"&&sa>0&&(J=1.5*sa,G.O=J,G.j.info("backChannelRequestTimeoutMs_="+J)),J=G;const Fa=x.g;if(Fa){const sl=Fa.g?Fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var Ee=J.h;Ee.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(ds(Ee,Ee.h),Ee.h=null))}if(J.G){const ol=Fa.g?Fa.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(J.wa=ol,et(J.J,J.G,ol))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-x.F,G.j.info("Handshake RTT: "+G.T+"ms")),J=G;var Ke=x;if(J.na=_u(J,J.L?J.ba:null,J.W),Ke.L){mo(J.h,Ke);var _t=Ke,Qt=J.O;Qt&&(_t.H=Qt),_t.D&&(Li(_t),ki(_t)),J.g=Ke}else bu(J);G.i.length>0&&Ui(G)}else Jt[0]!="stop"&&Jt[0]!="close"||Ua(G,7);else G.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ua(G,7):kt(G):Jt[0]!="noop"&&G.l&&G.l.qa(Jt),G.A=0)}}er(4)}catch{}}var $n=class{constructor(x,M){this.g=x,this.map=M}};function $s(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function lr(x){return x.h?1:x.g?x.g.size:0}function xi(x,M){return x.h?x.h==M:x.g?x.g.has(M):!1}function ds(x,M){x.g?x.g.add(M):x.h=M}function mo(x,M){x.h&&x.h==M?x.h=null:x.g&&x.g.has(M)&&x.g.delete(M)}$s.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function rl(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let M=x.i;for(const G of x.g.values())M=M.concat(G.G);return M}return w(x.i)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dt(x,M){if(x){x=x.split("&");for(let G=0;G<x.length;G++){const J=x[G].indexOf("=");let ve,Ee=null;J>=0?(ve=x[G].substring(0,J),Ee=x[G].substring(J+1)):ve=x[G],M(ve,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function Lt(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let M;x instanceof Lt?(this.l=x.l,wn(this,x.j),this.o=x.o,this.g=x.g,Vi(this,x.u),this.h=x.h,hs(this,Hs(x.i)),this.m=x.m):x&&(M=String(x).match(fs))?(this.l=!1,wn(this,M[1]||"",!0),this.o=Ji(M[2]||""),this.g=Ji(M[3]||"",!0),Vi(this,M[4]),this.h=Ji(M[5]||"",!0),hs(this,M[6]||"",!0),this.m=Ji(M[7]||"")):(this.l=!1,this.i=new _i(null,this.l))}Lt.prototype.toString=function(){const x=[];var M=this.j;M&&x.push(ea(M,Fs,!0),":");var G=this.g;return(G||M=="file")&&(x.push("//"),(M=this.o)&&x.push(ea(M,Fs,!0),"@"),x.push(Qe(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&x.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&x.push("/"),x.push(ea(G,G.charAt(0)=="/"?Bi:go,!0))),(G=this.i.toString())&&x.push("?",G),(G=this.m)&&x.push("#",ea(G,ta)),x.join("")},Lt.prototype.resolve=function(x){const M=kn(this);let G=!!x.j;G?wn(M,x.j):G=!!x.o,G?M.o=x.o:G=!!x.g,G?M.g=x.g:G=x.u!=null;var J=x.h;if(G)Vi(M,x.u);else if(G=!!x.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var ve=M.h.lastIndexOf("/");ve!=-1&&(J=M.h.slice(0,ve+1)+J)}if(ve=J,ve==".."||ve==".")J="";else if(ve.indexOf("./")!=-1||ve.indexOf("/.")!=-1){J=ve.lastIndexOf("/",0)==0,ve=ve.split("/");const Ee=[];for(let Ke=0;Ke<ve.length;){const _t=ve[Ke++];_t=="."?J&&Ke==ve.length&&Ee.push(""):_t==".."?((Ee.length>1||Ee.length==1&&Ee[0]!="")&&Ee.pop(),J&&Ke==ve.length&&Ee.push("")):(Ee.push(_t),J=!0)}J=Ee.join("/")}else J=ve}return G?M.h=J:G=x.i.toString()!=="",G?hs(M,Hs(x.i)):G=!!x.m,G&&(M.m=x.m),M};function kn(x){return new Lt(x)}function wn(x,M,G){x.j=G?Ji(M,!0):M,x.j&&(x.j=x.j.replace(/:$/,""))}function Vi(x,M){if(M){if(M=Number(M),isNaN(M)||M<0)throw Error("Bad port number "+M);x.u=M}else x.u=null}function hs(x,M,G){M instanceof _i?(x.i=M,ia(x.i,x.l)):(G||(M=ea(M,mn)),x.i=new _i(M,x.l))}function et(x,M,G){x.i.set(M,G)}function sn(x){return et(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function Ji(x,M){return x?M?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function ea(x,M,G){return typeof x=="string"?(x=encodeURI(x).replace(M,Sn),G&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Sn(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Fs=/[#\/\?@]/g,go=/[#\?:]/g,Bi=/[#\?]/g,mn=/[#\?@]/g,ta=/#/g;function _i(x,M){this.h=this.g=null,this.i=x||null,this.j=!!M}function rr(x){x.g||(x.g=new Map,x.h=0,x.i&&Dt(x.i,function(M,G){x.add(decodeURIComponent(M.replace(/\+/g," ")),G)}))}t=_i.prototype,t.add=function(x,M){rr(this),this.i=null,x=ra(this,x);let G=this.g.get(x);return G||this.g.set(x,G=[]),G.push(M),this.h+=1,this};function yo(x,M){rr(x),M=ra(x,M),x.g.has(M)&&(x.i=null,x.h-=x.g.get(M).length,x.g.delete(M))}function xr(x,M){return rr(x),M=ra(x,M),x.g.has(M)}t.forEach=function(x,M){rr(this),this.g.forEach(function(G,J){G.forEach(function(ve){x.call(M,ve,J,this)},this)},this)};function qs(x,M){rr(x);let G=[];if(typeof M=="string")xr(x,M)&&(G=G.concat(x.g.get(ra(x,M))));else for(x=Array.from(x.g.values()),M=0;M<x.length;M++)G=G.concat(x[M]);return G}t.set=function(x,M){return rr(this),this.i=null,x=ra(this,x),xr(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[M]),this.h+=1,this},t.get=function(x,M){return x?(x=qs(this,x),x.length>0?String(x[0]):M):M};function na(x,M,G){yo(x,M),G.length>0&&(x.i=null,x.g.set(ra(x,M),w(G)),x.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],M=Array.from(this.g.keys());for(let J=0;J<M.length;J++){var G=M[J];const ve=Qe(G);G=qs(this,G);for(let Ee=0;Ee<G.length;Ee++){let Ke=ve;G[Ee]!==""&&(Ke+="="+Qe(G[Ee])),x.push(Ke)}}return this.i=x.join("&")};function Hs(x){const M=new _i;return M.i=x.i,x.g&&(M.g=new Map(x.g),M.h=x.h),M}function ra(x,M){return M=String(M),x.j&&(M=M.toLowerCase()),M}function ia(x,M){M&&!x.j&&(rr(x),x.i=null,x.g.forEach(function(G,J){const ve=J.toLowerCase();J!=ve&&(yo(this,J),na(this,ve,G))},x)),x.j=M}function Fr(x,M){const G=new Xt;if(o.Image){const J=new Image;J.onload=p(ai,G,"TestLoadImage: loaded",!0,M,J),J.onerror=p(ai,G,"TestLoadImage: error",!1,M,J),J.onabort=p(ai,G,"TestLoadImage: abort",!1,M,J),J.ontimeout=p(ai,G,"TestLoadImage: timeout",!1,M,J),o.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=x}else M(!1)}function La(x,M){const G=new Xt,J=new AbortController,ve=setTimeout(()=>{J.abort(),ai(G,"TestPingServer: timeout",!1,M)},1e4);fetch(x,{signal:J.signal}).then(Ee=>{clearTimeout(ve),Ee.ok?ai(G,"TestPingServer: ok",!0,M):ai(G,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(ve),ai(G,"TestPingServer: error",!1,M)})}function ai(x,M,G,J,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),J(G)}catch{}}function ps(){this.g=new ti}function ut(x){this.i=x.Sb||null,this.h=x.ab||!1}g(ut,ya),ut.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(x,M){He.call(this),this.H=x,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Pr,He),t=Pr.prototype,t.open=function(x,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=M,this.readyState=1,wi(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const M={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(M.body=x),(this.H||o).fetch(new Request(this.D,M)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zt(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zt(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var M=x.value?x.value:new Uint8Array(0);(M=this.B.decode(M,{stream:!x.done}))&&(this.response=this.responseText+=M)}x.done?Va(this):wi(this),this.readyState==3&&Zt(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,Va(this))},t.Na=function(x){this.g&&(this.response=x,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(x){x.readyState=4,x.l=null,x.j=null,x.B=null,wi(x)}t.setRequestHeader=function(x,M){this.A.append(x,M)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],M=this.h.entries();for(var G=M.next();!G.done;)G=G.value,x.push(G[0]+": "+G[1]),G=M.next();return x.join(`\r
`)};function wi(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function si(x){let M="";return le(x,function(G,J){M+=J,M+=":",M+=G,M+=`\r
`}),M}function Ba(x,M,G){e:{for(J in G){var J=!1;break e}J=!0}J||(G=si(G),typeof x=="string"?G!=null&&Qe(G):et(x,M,G))}function zt(x){He.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(zt,He);var zi=/^https?$/i,te=["POST","PUT"];t=zt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,M,G,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);M=M?M.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tr.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(M,String(x),!0),this.B=!1}catch(Ee){me(this,Ee);return}if(x=G||"",G=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ve in J)G.set(ve,J[ve]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ee of J.keys())G.set(Ee,J.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(G.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),ve=o.FormData&&x instanceof o.FormData,!(Array.prototype.indexOf.call(te,M,void 0)>=0)||J||ve||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Ke]of G)this.g.setRequestHeader(Ee,Ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Ee){me(this,Ee)}};function me(x,M){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=M,x.o=5,qe(x),yt(x)}function qe(x){x.A||(x.A=!0,Ze(x,"complete"),Ze(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,Ze(this,"complete"),Ze(this,"abort"),yt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yt(this,!0)),zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Je(this):this.Xa())},t.Xa=function(){Je(this)};function Je(x){if(x.h&&typeof a<"u"){if(x.v&&At(x)==4)setTimeout(x.Ca.bind(x),0);else if(Ze(x,"readystatechange"),At(x)==4){x.h=!1;try{const Ee=x.ca();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var G;if(!(G=M)){var J;if(J=Ee===0){let Ke=String(x.D).match(fs)[1]||null;!Ke&&o.self&&o.self.location&&(Ke=o.self.location.protocol.slice(0,-1)),J=!zi.test(Ke?Ke.toLowerCase():"")}G=J}if(G)Ze(x,"complete"),Ze(x,"success");else{x.o=6;try{var ve=At(x)>2?x.g.statusText:""}catch{ve=""}x.l=ve+" ["+x.ca()+"]",qe(x)}}finally{yt(x)}}}}function yt(x,M){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const G=x.g;x.g=null,M||Ze(x,"ready");try{G.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function At(x){return x.g?x.g.readyState:0}t.ca=function(){try{return At(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var M=this.g.responseText;return x&&M.indexOf(x)==0&&(M=M.substring(x.length)),ga(M)}};function rn(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Yn(x){const M={};x=(x.g&&At(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<x.length;J++){if(z(x[J]))continue;var G=ls(x[J]);const ve=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Ee=M[ve]||[];M[ve]=Ee,Ee.push(G)}oe(M,function(J){return J.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(x,M,G){return G&&G.internalChannelParams&&G.internalChannelParams[x]||M}function za(x){this.za=0,this.i=[],this.j=new Xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qr("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qr("baseRetryDelayMs",5e3,x),this.Za=qr("retryDelaySeedMs",1e4,x),this.Ta=qr("forwardChannelMaxRetries",2,x),this.va=qr("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new $s(x&&x.concurrentRequestLimit),this.Ba=new ps,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=za.prototype,t.ka=8,t.I=1,t.connect=function(x,M,G,J){On(0),this.W=x,this.H=M||{},G&&J!==void 0&&(this.H.OSID=G,this.H.OAID=J),this.F=this.X,this.J=_u(this,null,this.W),Ui(this)};function kt(x){if(oi(x),x.I==3){var M=x.V++,G=kn(x.J);if(et(G,"SID",x.M),et(G,"RID",M),et(G,"TYPE","terminate"),Gs(x,G),M=new ri(x,x.j,M),M.M=2,M.A=sn(kn(G)),G=!1,o.navigator&&o.navigator.sendBeacon)try{G=o.navigator.sendBeacon(M.A.toString(),"")}catch{}!G&&o.Image&&(new Image().src=M.A,G=!0),G||(M.g=wu(M.j,null),M.g.ea(M.A)),M.F=Date.now(),ki(M)}$a(x)}function vo(x){x.g&&(xu(x),x.g.cancel(),x.g=null)}function oi(x){vo(x),x.v&&(o.clearTimeout(x.v),x.v=null),rc(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&o.clearTimeout(x.m),x.m=null)}function Ui(x){if(!po(x.h)&&!x.m){x.m=!0;var M=x.Ea;I||j(),B||(I(),B=!0),N.add(M,x),x.D=0}}function il(x,M){return lr(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=M.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=dt(f(x.Ea,x,M),Wd(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const ve=new ri(this,this.j,x);let Ee=this.o;if(this.U&&(Ee?(Ee=Q(Ee),ce(Ee,this.U)):Ee=this.U),this.u!==null||this.R||(ve.J=Ee,Ee=null),this.S)e:{for(var M=0,G=0;G<this.i.length;G++){t:{var J=this.i[G];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(M+=J,M>4096){M=G;break e}if(M===4096||G===this.i.length-1){M=G+1;break e}}M=1e3}else M=1e3;M=Kd(this,ve,M),G=kn(this.J),et(G,"RID",x),et(G,"CVER",22),this.G&&et(G,"X-HTTP-Session-Id",this.G),Gs(this,G),Ee&&(this.R?M="headers="+Qe(si(Ee))+"&"+M:this.u&&Ba(G,this.u,Ee)),ds(this.h,ve),this.Ra&&et(G,"TYPE","init"),this.S?(et(G,"$req",M),et(G,"SID","null"),ve.U=!0,$r(ve,G,null)):$r(ve,G,M),this.I=2}}else this.I==3&&(x?vu(this,x):this.i.length==0||po(this.h)||vu(this))};function vu(x,M){var G;M?G=M.l:G=x.V++;const J=kn(x.J);et(J,"SID",x.M),et(J,"RID",G),et(J,"AID",x.K),Gs(x,J),x.u&&x.o&&Ba(J,x.u,x.o),G=new ri(x,x.j,G,x.D+1),x.u===null&&(G.J=x.o),M&&(x.i=M.G.concat(x.i)),M=Kd(x,G,1e3),G.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),ds(x.h,G),$r(G,J,M)}function Gs(x,M){x.H&&le(x.H,function(G,J){et(M,J,G)}),x.l&&le({},function(G,J){et(M,J,G)})}function Kd(x,M,G){G=Math.min(x.i.length,G);const J=x.l?f(x.l.Ka,x.l,x):null;e:{var ve=x.i;let _t=-1;for(;;){const Qt=["count="+G];_t==-1?G>0?(_t=ve[0].g,Qt.push("ofs="+_t)):_t=0:Qt.push("ofs="+_t);let Jt=!0;for(let Nn=0;Nn<G;Nn++){var Ee=ve[Nn].g;const xa=ve[Nn].map;if(Ee-=_t,Ee<0)_t=Math.max(0,ve[Nn].g-100),Jt=!1;else try{Ee="req"+Ee+"_"||"";try{var Ke=xa instanceof Map?xa:Object.entries(xa);for(const[_a,sa]of Ke){let Fa=sa;c(sa)&&(Fa=Rn(sa)),Qt.push(Ee+_a+"="+encodeURIComponent(Fa))}}catch(_a){throw Qt.push(Ee+"type="+encodeURIComponent("_badmap")),_a}}catch{J&&J(xa)}}if(Jt){Ke=Qt.join("&");break e}}Ke=void 0}return x=x.i.splice(0,G),M.G=x,Ke}function bu(x){if(!x.g&&!x.v){x.Y=1;var M=x.Da;I||j(),B||(I(),B=!0),N.add(M,x),x.A=0}}function al(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=dt(f(x.Da,x),Wd(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=dt(f(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,On(10),vo(this),nc(this))};function xu(x){x.B!=null&&(o.clearTimeout(x.B),x.B=null)}function nc(x){x.g=new ri(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var M=kn(x.na);et(M,"RID","rpc"),et(M,"SID",x.M),et(M,"AID",x.K),et(M,"CI",x.F?"0":"1"),!x.F&&x.ia&&et(M,"TO",x.ia),et(M,"TYPE","xmlhttp"),Gs(x,M),x.u&&x.o&&Ba(M,x.u,x.o),x.O&&(x.g.H=x.O);var G=x.g;x=x.ba,G.M=1,G.A=sn(kn(M)),G.u=null,G.R=!0,vi(G,x)}t.Va=function(){this.C!=null&&(this.C=null,vo(this),al(this),On(19))};function rc(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function aa(x,M){var G=null;if(x.g==M){rc(x),xu(x),x.g=null;var J=2}else if(xi(x.h,M))G=M.G,mo(x.h,M),J=1;else return;if(x.I!=0){if(M.o)if(J==1){G=M.u?M.u.length:0,M=Date.now()-M.F;var ve=x.D;J=va(),Ze(J,new Mi(J,G)),Ui(x)}else bu(x);else if(ve=M.m,ve==3||ve==0&&M.X>0||!(J==1&&il(x,M)||J==2&&al(x)))switch(G&&G.length>0&&(M=x.h,M.i=M.i.concat(G)),ve){case 1:Ua(x,5);break;case 4:Ua(x,10);break;case 3:Ua(x,6);break;default:Ua(x,2)}}}function Wd(x,M){let G=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(G*=2),G*M}function Ua(x,M){if(x.j.info("Error code "+M),M==2){var G=f(x.bb,x),J=x.Ua;const ve=!J;J=new Lt(J||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wn(J,"https"),sn(J),ve?Fr(J.toString(),G):La(J.toString(),G)}else On(2);x.I=0,x.l&&x.l.pa(M),$a(x),oi(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function $a(x){if(x.I=0,x.ja=[],x.l){const M=rl(x.h);(M.length!=0||x.i.length!=0)&&(P(x.ja,M),P(x.ja,x.i),x.h.i.length=0,w(x.i),x.i.length=0),x.l.oa()}}function _u(x,M,G){var J=G instanceof Lt?kn(G):new Lt(G);if(J.g!="")M&&(J.g=M+"."+J.g),Vi(J,J.u);else{var ve=o.location;J=ve.protocol,M=M?M+"."+ve.hostname:ve.hostname,ve=+ve.port;const Ee=new Lt(null);J&&wn(Ee,J),M&&(Ee.g=M),ve&&Vi(Ee,ve),G&&(Ee.h=G),J=Ee}return G=x.G,M=x.wa,G&&M&&et(J,G,M),et(J,"VER",x.ka),Gs(x,J),J}function wu(x,M,G){if(M&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return M=x.Aa&&!x.ma?new zt(new ut({ab:G})):new zt(x.ma),M.Fa(x.L),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}t=ic.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bo(){}bo.prototype.g=function(x,M){return new li(x,M)};function li(x,M){He.call(this),this.g=new za(M),this.l=x,this.h=M&&M.messageUrlParams||null,x=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(x?x["X-WebChannel-Content-Type"]=M.messageContentType:x={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.sa&&(x?x["X-WebChannel-Client-Profile"]=M.sa:x={"X-WebChannel-Client-Profile":M.sa}),this.g.U=x,(x=M&&M.Qb)&&!z(x)&&(this.g.u=x),this.A=M&&M.supportsCrossDomainXhr||!1,this.v=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!z(M)&&(this.g.G=M,x=this.h,x!==null&&M in x&&(x=this.h,M in x&&delete x[M])),this.j=new Ks(this)}g(li,He),li.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){kt(this.g)},li.prototype.o=function(x){var M=this.g;if(typeof x=="string"){var G={};G.__data__=x,x=G}else this.v&&(G={},G.__data__=Rn(x),x=G);M.i.push(new $n(M.Ya++,x)),M.I==3&&Ui(M)},li.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,li.Z.N.call(this)};function Su(x){Mn.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var M=x.__sm__;if(M){e:{for(const G in M){x=G;break e}x=void 0}(this.i=x)&&(x=this.i,M=M!==null&&x in M?M[x]:void 0),this.data=M}else this.data=x}g(Su,Mn);function Zd(){Ar.call(this),this.status=1}g(Zd,Ar);function Ks(x){this.g=x}g(Ks,ic),Ks.prototype.ra=function(){Ze(this.g,"a")},Ks.prototype.qa=function(x){Ze(this.g,new Su(x))},Ks.prototype.pa=function(x){Ze(this.g,new Zd)},Ks.prototype.oa=function(){Ze(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,OF=function(){return new bo},PF=function(){return va()},EF=tn,vP={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,sb=ni,Wn.COMPLETE="complete",AF=Wn,Ri.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",He.prototype.listen=He.prototype.J,fm=Ri,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,TF=zt}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});const QD="@firebase/firestore",JD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new GC("@firebase/firestore");function Mf(){return Ad.logLevel}function nt(t,...e){if(Ad.logLevel<=Gt.DEBUG){const n=e.map(i2);Ad.debug(`Firestore (${Qh}): ${t}`,...n)}}function Ul(t,...e){if(Ad.logLevel<=Gt.ERROR){const n=e.map(i2);Ad.error(`Firestore (${Qh}): ${t}`,...n)}}function ch(t,...e){if(Ad.logLevel<=Gt.WARN){const n=e.map(i2);Ad.warn(`Firestore (${Qh}): ${t}`,...n)}}function i2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,CF(t,r,n)}function CF(t,e,n){let r=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ul(r),new Error(r)}function vn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||CF(e,i,r)}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends Jo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ki.UNAUTHENTICATED)))}shutdown(){}}class vre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class bre{constructor(e){this.t=e,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vn(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Rl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rl,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rl)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vn(typeof r.accessToken=="string",31837,{l:r}),new NF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new Ki(e)}}class xre{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _re{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xre(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ki.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ek{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wre{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vn(this.o===void 0,3512);const r=a=>{a.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,nt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ek(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ek(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Sre(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Kt(t,e){return t<e?-1:t>e?1:0}function bP(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return O1(i)===O1(a)?Kt(i,a):O1(i)?1:-1}return Kt(t.length,e.length)}const Tre=55296,Are=57343;function O1(t){const e=t.charCodeAt(0);return e>=Tre&&e<=Are}function uh(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="__name__";class jo{constructor(e,n,r){n===void 0?n=0:n>e.length&&xt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jo?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=jo.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Kt(e.length,n.length)}static compareSegments(e,n){const r=jo.isNumericId(e),i=jo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?jo.extractNumericId(e).compare(jo.extractNumericId(n)):bP(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wc.fromString(e.substring(4,e.length-2))}}class Bn extends jo{construct(e,n,r){return new Bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Bn(n)}static emptyPath(){return new Bn([])}}const Ere=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends jo{construct(e,n,r){return new Ci(e,n,r)}static isValidIdentifier(e){return Ere.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tk}static keyField(){return new Ci([tk])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new tt(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new tt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new tt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new tt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(n)}static emptyPath(){return new Ci([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Bn.fromString(e))}static fromName(e){return new ht(Bn.fromString(e).popFirst(5))}static empty(){return new ht(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Bn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e,n){if(!n)throw new tt(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Pre(t,e,n,r){if(e===!0&&r===!0)throw new tt(Ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nk(t){if(!ht.isDocumentKey(t))throw new tt(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rk(t){if(ht.isDocumentKey(t))throw new tt(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xt(12329,{type:typeof t})}function Da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gx(t);throw new tt(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qg(t,e){if(!IF(t))throw new tt(Ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new tt(Ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=-62135596800,ak=1e6;class Hn{static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ak);return new Hn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new tt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new tt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ik)throw new tt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ak}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Hn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qg(e,Hn._jsonSchema))return new Hn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ik;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Hn._jsonSchemaVersion="firestore/timestamp/1.0",Hn._jsonSchema={type:kr("string",Hn._jsonSchemaVersion),seconds:kr("number"),nanoseconds:kr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Hn(0,0))}static max(){return new Tt(new Hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=-1;function Ore(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(r===1e9?new Hn(n+1,0):new Hn(n,r));return new eu(i,ht.empty(),e)}function Cre(t){return new eu(t.readTime,t.key,Xm)}class eu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eu(Tt.min(),ht.empty(),Xm)}static max(){return new eu(Tt.max(),ht.empty(),Xm)}}function Nre(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ire{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==jre)throw t;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ze.reject(n)}static resolve(e){return new ze(((n,r)=>{n(e)}))}static reject(e){return new ze(((n,r)=>{r(e)}))}static waitFor(e){return new ze(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next((i=>i?ze.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ze(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((p=>{o[f]=p,++c,c===a&&r(o)}),(p=>i(p)))}}))}static doWhile(e,n){return new ze(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Rre(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ep(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=-1;function vx(t){return t==null}function Ib(t){return t===0&&1/t==-1/0}function Mre(t){return typeof t=="number"&&Number.isInteger(t)&&!Ib(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="";function Dre(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sk(e)),e=kre(t.get(n),e);return sk(e)}function kre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case RF:n+="";break;default:n+=a}}return n}function sk(t){return t+RF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function du(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.comparator=e,this.root=n||Oi.EMPTY}insert(e,n){return new or(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rv(this.root,e,this.comparator,!0)}}class Rv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Oi.RED,this.left=i??Oi.EMPTY,this.right=a??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Oi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1;Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Oi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lk(this.data.getIterator())}getIteratorFrom(e){return new lk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class lk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.fields=e,e.sort(Ci.comparator)}static empty(){return new rs([])}unionWith(e){let n=new Jr(Ci.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DF("Invalid base64 string: "+a):a}})(e);return new Ni(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new Ni(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const Lre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(t){if(vn(!!t,39018),typeof t=="string"){let e=0;const n=Lre.exec(t);if(vn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(t.seconds),nanos:Tr(t.nanos)}}function Tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nu(t){return typeof t=="string"?Ni.fromBase64String(t):Ni.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="server_timestamp",LF="__type__",VF="__previous_value__",BF="__local_write_time__";function o2(t){return(t?.mapValue?.fields||{})[LF]?.stringValue===kF}function bx(t){const e=t.mapValue.fields[VF];return o2(e)?bx(e):e}function Qm(t){const e=tu(t.mapValue.fields[BF].timestampValue);return new Hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e,n,r,i,a,o,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Rb="(default)";class Jm{constructor(e,n){this.projectId=e,this.database=n||Rb}static empty(){return new Jm("","")}get isDefaultDatabase(){return this.database===Rb}isEqual(e){return e instanceof Jm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="__type__",Bre="__max__",Mv={mapValue:{}},UF="__vector__",Mb="value";function ru(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o2(t)?4:Ure(t)?9007199254740991:zre(t)?10:11:xt(28295,{value:t})}function Zo(t,e){if(t===e)return!0;const n=ru(t);if(n!==ru(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qm(t).isEqual(Qm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=tu(i.timestampValue),c=tu(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return nu(i.bytesValue).isEqual(nu(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Tr(i.geoPointValue.latitude)===Tr(a.geoPointValue.latitude)&&Tr(i.geoPointValue.longitude)===Tr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Tr(i.integerValue)===Tr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Tr(i.doubleValue),c=Tr(a.doubleValue);return o===c?Ib(o)===Ib(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return uh(t.arrayValue.values||[],e.arrayValue.values||[],Zo);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(ok(o)!==ok(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!Zo(o[d],c[d])))return!1;return!0})(t,e);default:return xt(52216,{left:t})}}function eg(t,e){return(t.values||[]).find((n=>Zo(n,e)))!==void 0}function dh(t,e){if(t===e)return 0;const n=ru(t),r=ru(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Tr(a.integerValue||a.doubleValue),d=Tr(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return ck(t.timestampValue,e.timestampValue);case 4:return ck(Qm(t),Qm(e));case 5:return bP(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=nu(a),d=nu(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=Kt(c[f],d[f]);if(p!==0)return p}return Kt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Kt(Tr(a.latitude),Tr(o.latitude));return c!==0?c:Kt(Tr(a.longitude),Tr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uk(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const c=a.fields||{},d=o.fields||{},f=c[Mb]?.arrayValue,p=d[Mb]?.arrayValue,g=Kt(f?.values?.length||0,p?.values?.length||0);return g!==0?g:uk(f,p)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Mv.mapValue&&o===Mv.mapValue)return 0;if(a===Mv.mapValue)return 1;if(o===Mv.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=o.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=bP(d[g],p[g]);if(b!==0)return b;const w=dh(c[d[g]],f[p[g]]);if(w!==0)return w}return Kt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw xt(23264,{he:n})}}function ck(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const n=tu(t),r=tu(e),i=Kt(n.seconds,r.seconds);return i!==0?i:Kt(n.nanos,r.nanos)}function uk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=dh(n[i],r[i]);if(a)return a}return Kt(n.length,r.length)}function fh(t){return xP(t)}function xP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=tu(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return nu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ht.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=xP(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${xP(n.fields[o])}`;return i+"}"})(t.mapValue):xt(61005,{value:t})}function ob(t){switch(ru(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bx(t);return e?16+ob(e):16;case 5:return 2*t.stringValue.length;case 6:return nu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ob(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return du(r.fields,((a,o)=>{i+=a.length+ob(o)})),i})(t.mapValue);default:throw xt(13486,{value:t})}}function dk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _P(t){return!!t&&"integerValue"in t}function l2(t){return!!t&&"arrayValue"in t}function fk(t){return!!t&&"nullValue"in t}function hk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lb(t){return!!t&&"mapValue"in t}function zre(t){return(t?.mapValue?.fields||{})[zF]?.stringValue===UF}function Em(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return du(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Em(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Em(t.arrayValue.values[n]);return e}return{...t}}function Ure(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Bre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.value=e}static empty(){return new Ia({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Em(n)}setAll(e){let n=Ci.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Em(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());lb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){du(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Ia(Em(this.value))}}function $F(t){const e=[];return du(t.fields,((n,r)=>{const i=new Ci([n]);if(lb(r)){const a=$F(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Wi(e,0,Tt.min(),Tt.min(),Tt.min(),Ia.empty(),0)}static newFoundDocument(e,n,r,i){return new Wi(e,1,n,Tt.min(),r,i,0)}static newNoDocument(e,n){return new Wi(e,2,n,Tt.min(),Tt.min(),Ia.empty(),0)}static newUnknownDocument(e,n){return new Wi(e,3,n,Tt.min(),Tt.min(),Ia.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ia.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ia.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.position=e,this.inclusive=n}}function pk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),n.key):r=dh(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function mk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n="asc"){this.field=e,this.dir=n}}function $re(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{}class Dr extends FF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qre(e,n,r):n==="array-contains"?new Kre(e,r):n==="in"?new Wre(e,r):n==="not-in"?new Zre(e,r):n==="array-contains-any"?new Yre(e,r):new Dr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hre(e,r):new Gre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dh(n,this.value)):n!==null&&ru(this.value)===ru(n)&&this.matchesComparison(dh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fo extends FF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fo(e,n)}matches(e){return qF(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qF(t){return t.op==="and"}function HF(t){return Fre(t)&&qF(t)}function Fre(t){for(const e of t.filters)if(e instanceof fo)return!1;return!0}function wP(t){if(t instanceof Dr)return t.field.canonicalString()+t.op.toString()+fh(t.value);if(HF(t))return t.filters.map((e=>wP(e))).join(",");{const e=t.filters.map((n=>wP(n))).join(",");return`${t.op}(${e})`}}function GF(t,e){return t instanceof Dr?(function(r,i){return i instanceof Dr&&r.op===i.op&&r.field.isEqual(i.field)&&Zo(r.value,i.value)})(t,e):t instanceof fo?(function(r,i){return i instanceof fo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&GF(o,i.filters[c])),!0):!1})(t,e):void xt(19439)}function KF(t){return t instanceof Dr?(function(n){return`${n.field.canonicalString()} ${n.op} ${fh(n.value)}`})(t):t instanceof fo?(function(n){return n.op.toString()+" {"+n.getFilters().map(KF).join(" ,")+"}"})(t):"Filter"}class qre extends Dr{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hre extends Dr{constructor(e,n){super(e,"in",n),this.keys=WF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Gre extends Dr{constructor(e,n){super(e,"not-in",n),this.keys=WF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function WF(t,e){return(e.arrayValue?.values||[]).map((n=>ht.fromName(n.referenceValue)))}class Kre extends Dr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l2(n)&&eg(n.arrayValue,this.value)}}class Wre extends Dr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eg(this.value.arrayValue,n)}}class Zre extends Dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eg(this.value.arrayValue,n)}}class Yre extends Dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l2(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>eg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function gk(t,e=null,n=[],r=[],i=null,a=null,o=null){return new Xre(t,e,n,r,i,a,o)}function c2(t){const e=Ot(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wP(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),vx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fh(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fh(r))).join(",")),e.Te=n}return e.Te}function u2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$re(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mk(t.startAt,e.startAt)&&mk(t.endAt,e.endAt)}function SP(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Qre(t,e,n,r,i,a,o,c){return new Jg(t,e,n,r,i,a,o,c)}function xx(t){return new Jg(t)}function yk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZF(t){return t.collectionGroup!==null}function Pm(t){const e=Ot(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Jr(Ci.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new kb(a,r))})),n.has(Ci.keyField().canonicalString())||e.Ie.push(new kb(Ci.keyField(),r))}return e.Ie}function Bo(t){const e=Ot(t);return e.Ee||(e.Ee=Jre(e,Pm(t))),e.Ee}function Jre(t,e){if(t.limitType==="F")return gk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new kb(i.field,a)}));const n=t.endAt?new Db(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Db(t.startAt.position,t.startAt.inclusive):null;return gk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function TP(t,e){const n=t.filters.concat([e]);return new Jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function AP(t,e,n){return new Jg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _x(t,e){return u2(Bo(t),Bo(e))&&t.limitType===e.limitType}function YF(t){return`${c2(Bo(t))}|lt:${t.limitType}`}function Df(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>KF(i))).join(", ")}]`),vx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>fh(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>fh(i))).join(",")),`Target(${r})`})(Bo(t))}; limitType=${t.limitType})`}function wx(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Pm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const f=pk(o,c,d);return o.inclusive?f<=0:f<0})(r.startAt,Pm(r),i)||r.endAt&&!(function(o,c,d){const f=pk(o,c,d);return o.inclusive?f>=0:f>0})(r.endAt,Pm(r),i))})(t,e)}function eie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XF(t){return(e,n)=>{let r=!1;for(const i of Pm(t)){const a=tie(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function tie(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),f=c.data.field(a);return d!==null&&f!==null?dh(d,f):xt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return MF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie=new or(ht.comparator);function $l(){return nie}const QF=new or(ht.comparator);function hm(...t){let e=QF;for(const n of t)e=e.insert(n.key,n);return e}function JF(t){let e=QF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ad(){return Om()}function e9(){return Om()}function Om(){return new Ld((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rie=new or(ht.comparator),iie=new Jr(ht.comparator);function Wt(...t){let e=iie;for(const n of t)e=e.add(n);return e}const aie=new Jr(Kt);function sie(){return aie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ib(e)?"-0":e}}function t9(t){return{integerValue:""+t}}function oie(t,e){return Mre(e)?t9(e):d2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._=void 0}}function lie(t,e,n){return t instanceof Lb?(function(i,a){const o={fields:{[LF]:{stringValue:kF},[BF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&o2(a)&&(a=bx(a)),a&&(o.fields[VF]=a),{mapValue:o}})(n,e):t instanceof tg?r9(t,e):t instanceof ng?i9(t,e):(function(i,a){const o=n9(i,a),c=vk(o)+vk(i.Ae);return _P(o)&&_P(i.Ae)?t9(c):d2(i.serializer,c)})(t,e)}function cie(t,e,n){return t instanceof tg?r9(t,e):t instanceof ng?i9(t,e):n}function n9(t,e){return t instanceof Vb?(function(r){return _P(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Lb extends Sx{}class tg extends Sx{constructor(e){super(),this.elements=e}}function r9(t,e){const n=a9(e);for(const r of t.elements)n.some((i=>Zo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ng extends Sx{constructor(e){super(),this.elements=e}}function i9(t,e){let n=a9(e);for(const r of t.elements)n=n.filter((i=>!Zo(i,r)));return{arrayValue:{values:n}}}class Vb extends Sx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vk(t){return Tr(t.integerValue||t.doubleValue)}function a9(t){return l2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uie(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof tg&&i instanceof tg||r instanceof ng&&i instanceof ng?uh(r.elements,i.elements,Zo):r instanceof Vb&&i instanceof Vb?Zo(r.Ae,i.Ae):r instanceof Lb&&i instanceof Lb})(t.transform,e.transform)}class die{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tx{}function s9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f2(t.key,ks.none()):new ey(t.key,t.data,ks.none());{const n=t.data,r=Ia.empty();let i=new Jr(Ci.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new fu(t.key,r,new rs(i.toArray()),ks.none())}}function fie(t,e,n){t instanceof ey?(function(i,a,o){const c=i.value.clone(),d=xk(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof fu?(function(i,a,o){if(!cb(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=xk(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(o9(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Cm(t,e,n,r){return t instanceof ey?(function(a,o,c,d){if(!cb(a.precondition,o))return c;const f=a.value.clone(),p=_k(a.fieldTransforms,d,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof fu?(function(a,o,c,d){if(!cb(a.precondition,o))return c;const f=_k(a.fieldTransforms,d,o),p=o.data;return p.setAll(o9(a)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,o,c){return cb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function hie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=n9(r.transform,i||null);a!=null&&(n===null&&(n=Ia.empty()),n.set(r.field,a))}return n||null}function bk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uh(r,i,((a,o)=>uie(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ey extends Tx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fu extends Tx{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function o9(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function xk(t,e,n){const r=new Map;vn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,cie(o,c,n[i]))}return r}function _k(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,lie(a,o,e))}return r}class f2 extends Tx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pie extends Tx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&fie(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e9();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=s9(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Wt())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,((n,r)=>bk(n,r)))&&uh(this.baseMutations,e.baseMutations,((n,r)=>bk(n,r)))}}class h2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return rie})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new h2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir,en;function vie(t){switch(t){case Ve.OK:return xt(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return xt(15467,{code:t})}}function l9(t){if(t===void 0)return Ul("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case Ir.OK:return Ve.OK;case Ir.CANCELLED:return Ve.CANCELLED;case Ir.UNKNOWN:return Ve.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return Ve.INTERNAL;case Ir.UNAVAILABLE:return Ve.UNAVAILABLE;case Ir.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Ir.NOT_FOUND:return Ve.NOT_FOUND;case Ir.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Ir.ABORTED:return Ve.ABORTED;case Ir.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Ir.DATA_LOSS:return Ve.DATA_LOSS;default:return xt(39323,{code:t})}}(en=Ir||(Ir={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie=new Wc([4294967295,4294967295],0);function wk(t){const e=bie().encode(t),n=new SF;return n.update(e),new Uint8Array(n.digest())}function Sk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wc([n,r],0),new Wc([i,a],0)]}class p2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pm(`Invalid padding: ${n}`);if(r<0)throw new pm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Wc.fromNumber(r)));return i.compare(xie)===1&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=wk(e),[r,i]=Sk(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new p2(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=wk(e),[r,i]=Sk(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ty.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ax(Tt.min(),i,new or(Kt),$l(),Wt())}}class ty{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ty(r,n,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class c9{constructor(e,n){this.targetId=e,this.Ce=n}}class u9{constructor(e,n,r=Ni.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tk{constructor(){this.ve=0,this.Fe=Ak(),this.Me=Ni.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Wt(),n=Wt(),r=Wt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt(38017,{changeType:a})}})),new ty(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ak()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _ie{constructor(e){this.Ge=e,this.ze=new Map,this.je=$l(),this.Je=Dv(),this.He=Dv(),this.Ye=new or(Kt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(SP(a))if(r===0){const o=new ht(a.path);this.et(n,o,Wi.newNoDocument(o,Tt.min()))}else vn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=nu(r).toUint8Array()}catch(d){if(d instanceof DF)return ch("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new p2(o,i,a)}catch(d){return ch(d instanceof pm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&SP(c.target)){const d=new ht(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,Wi.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Wt();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Ax(e,n,this.Ye,this.je,r);return this.je=$l(),this.Je=Dv(),this.He=Dv(),this.Ye=new or(Kt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Tk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jr(Kt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jr(Kt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tk),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dv(){return new or(ht.comparator)}function Ak(){return new or(ht.comparator)}const wie={asc:"ASCENDING",desc:"DESCENDING"},Sie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tie={and:"AND",or:"OR"};class Aie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function EP(t,e){return t.useProto3Json||vx(e)?e:{value:e}}function Bb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Eie(t,e){return Bb(t,e.toTimestamp())}function zo(t){return vn(!!t,49232),Tt.fromTimestamp((function(n){const r=tu(n);return new Hn(r.seconds,r.nanos)})(t))}function m2(t,e){return PP(t,e).canonicalString()}function PP(t,e){const n=(function(i){return new Bn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function f9(t){const e=Bn.fromString(t);return vn(y9(e),10190,{key:e.toString()}),e}function OP(t,e){return m2(t.databaseId,e.path)}function C1(t,e){const n=f9(e);if(n.get(1)!==t.databaseId.projectId)throw new tt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(p9(n))}function h9(t,e){return m2(t.databaseId,e)}function Pie(t){const e=f9(t);return e.length===4?Bn.emptyPath():p9(e)}function CP(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p9(t){return vn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ek(t,e,n){return{name:OP(t,e),fields:n.value.mapValue.fields}}function Oie(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:xt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(vn(p===void 0||typeof p=="string",58123),Ni.fromBase64String(p||"")):(vn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ni.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(f){const p=f.code===void 0?Ve.UNKNOWN:l9(f.code);return new tt(p,f.message||"")})(o);n=new u9(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=C1(t,r.document.name),a=zo(r.document.updateTime),o=r.document.createTime?zo(r.document.createTime):Tt.min(),c=new Ia({mapValue:{fields:r.document.fields}}),d=Wi.newFoundDocument(i,a,o,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new ub(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=C1(t,r.document),a=r.readTime?zo(r.readTime):Tt.min(),o=Wi.newNoDocument(i,a),c=r.removedTargetIds||[];n=new ub([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=C1(t,r.document),a=r.removedTargetIds||[];n=new ub([],a,i,null)}else{if(!("filter"in e))return xt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new yie(i,a),c=r.targetId;n=new c9(c,o)}}return n}function Cie(t,e){let n;if(e instanceof ey)n={update:Ek(t,e.key,e.value)};else if(e instanceof f2)n={delete:OP(t,e.key)};else if(e instanceof fu)n={update:Ek(t,e.key,e.data),updateMask:Vie(e.fieldMask)};else{if(!(e instanceof pie))return xt(16599,{Vt:e.type});n={verify:OP(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof Lb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof tg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ng)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vb)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw xt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Eie(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xt(27497)})(t,e.precondition)),n}function Nie(t,e){return t&&t.length>0?(vn(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?zo(i.updateTime):zo(a);return o.isEqual(Tt.min())&&(o=zo(a)),new die(o,i.transformResults||[])})(n,e)))):[]}function jie(t,e){return{documents:[h9(t,e.path)]}}function Iie(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=h9(t,i);const a=(function(f){if(f.length!==0)return g9(fo.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:kf(b.field),direction:Die(b.dir)}})(p)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=EP(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function Rie(t){let e=Pie(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vn(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const b=m9(g);return b instanceof fo&&HF(b)?b.getFilters():[b]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((b=>(function(P){return new kb(Lf(P.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let b;return b=typeof g=="object"?g.value:g,vx(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,w=g.values||[];return new Db(w,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const b=!g.before,w=g.values||[];return new Db(w,b)})(n.endAt)),Qre(e,i,o,a,c,"F",d,f)}function Mie(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m9(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lf(n.unaryFilter.field);return Dr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lf(n.unaryFilter.field);return Dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Lf(n.unaryFilter.field);return Dr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lf(n.unaryFilter.field);return Dr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Dr.create(Lf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fo.create(n.compositeFilter.filters.map((r=>m9(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt(1026)}})(n.compositeFilter.op))})(t):xt(30097,{filter:t})}function Die(t){return wie[t]}function kie(t){return Sie[t]}function Lie(t){return Tie[t]}function kf(t){return{fieldPath:t.canonicalString()}}function Lf(t){return Ci.fromServerFormat(t.fieldPath)}function g9(t){return t instanceof Dr?(function(n){if(n.op==="=="){if(hk(n.value))return{unaryFilter:{field:kf(n.field),op:"IS_NAN"}};if(fk(n.value))return{unaryFilter:{field:kf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hk(n.value))return{unaryFilter:{field:kf(n.field),op:"IS_NOT_NAN"}};if(fk(n.value))return{unaryFilter:{field:kf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(n.field),op:kie(n.op),value:n.value}}})(t):t instanceof fo?(function(n){const r=n.getFilters().map((i=>g9(i)));return r.length===1?r[0]:{compositeFilter:{op:Lie(n.op),filters:r}}})(t):xt(54877,{filter:t})}function Vie(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function y9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i,a=Tt.min(),o=Tt.min(),c=Ni.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(e){this.yt=e}}function zie(t){const e=Rie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?AP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(){this.Cn=new $ie}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(eu.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(eu.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class $ie{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jr(Bn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jr(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v9=41943040;class ja{static withCacheSize(e){return new ja(e,ja.DEFAULT_COLLECTION_PERCENTILE,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ja.DEFAULT_COLLECTION_PERCENTILE=10,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ja.DEFAULT=new ja(v9,ja.DEFAULT_COLLECTION_PERCENTILE,ja.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ja.DISABLED=new ja(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hh(0)}static cr(){return new hh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="LruGarbageCollector",Fie=1048576;function Ck([t,e],[n,r]){const i=Kt(t,n);return i===0?Kt(e,r):i}class qie{constructor(e){this.Ir=e,this.buffer=new Jr(Ck),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ck(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hie{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(Ok,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ep(n)?nt(Ok,"Ignoring IndexedDB error during garbage collection: ",n):await Jh(n)}await this.Vr(3e5)}))}}class Gie{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(yx.ce);const r=new qie(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(Pk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pk):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),Mf()<=Gt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function Kie(t,e){return new Gie(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(){this.changes=new Ld((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Cm(r.mutation,i,rs.empty(),Hn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Wt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Wt()){const i=ad();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=hm();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ad();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Wt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=$l();const o=Om(),c=(function(){return Om()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof fu)?a=a.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Cm(p.mutation,f,p.mutation.getFieldMask(),Hn.now())):o.set(f.key,rs.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,p)=>o.set(f,p))),n.forEach(((f,p)=>c.set(f,new Zie(p,o.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Om();let i=new or(((o,c)=>o-c)),a=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||rs.empty();p=c.applyToLocalView(f,p),r.set(d,p);const g=(i.get(c.batchId)||Wt()).add(d);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,g=e9();p.forEach((b=>{if(!a.has(b)){const w=s9(n.get(b),r.get(b));w!==null&&g.set(b,w),a=a.add(b)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ze.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ze.resolve(ad());let c=Xm,d=a;return o.next((f=>ze.forEach(f,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?ze.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,Wt()))).next((p=>({batchId:c,changes:JF(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next((r=>{let i=hm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=hm();return this.indexManager.getCollectionParents(e,a).next((c=>ze.forEach(c,(d=>{const f=(function(g,b){return new Jg(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((g,b)=>{o=o.insert(g,b)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,Wi.newInvalidDocument(p)))}));let c=hm();return o.forEach(((d,f)=>{const p=a.get(d);p!==void 0&&Cm(p.mutation,f,rs.empty(),Hn.now()),wx(n,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ze.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:zo(i.createTime)}})(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:zie(i.bundledQuery),readTime:zo(i.readTime)}})(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(){this.overlays=new or(ht.comparator),this.qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ad();return ze.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=ad(),a=n.length+1,o=new ht(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new or(((f,p)=>f-p));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=ad(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=ad(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return ze.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gie(n,r));let a=this.qr.get(n);a===void 0&&(a=Wt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(){this.sessionToken=Ni.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Qr=new Jr(fi.$r),this.Ur=new Jr(fi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new fi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new fi(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ht(new Bn([])),r=new fi(n,e),i=new fi(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ht(new Bn([])),r=new fi(n,e),i=new fi(n,e+1);let a=Wt();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new fi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fi{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ht.comparator(e.key,n.key)||Kt(e.Yr,n.Yr)}static Kr(e,n){return Kt(e.Yr,n.Yr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jr(fi.$r)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mie(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new fi(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ze.resolve(o)}lookupMutationBatch(e,n){return ze.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ze.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?s2:this.tr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fi(n,0),i=new fi(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),ze.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jr(Kt);return n.forEach((i=>{const a=new fi(i,0),o=new fi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),ze.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const o=new fi(new ht(a),0);let c=new Jr(Kt);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),o),ze.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){vn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ze.forEach(n.mutations,(i=>{const a=new fi(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new fi(n,0),i=this.Zr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e){this.ri=e,this.docs=(function(){return new or(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():Wi.newInvalidDocument(n))}getEntries(e,n){let r=$l();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wi.newInvalidDocument(i))})),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=$l();const o=n.path,c=new ht(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Nre(Cre(p),r)<=0||(i.has(p.key)||wx(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ze.resolve(a)}getAllFromCollectionGroup(e,n,r,i){xt(9500)}ii(e,n){return ze.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new nae(this)}getSize(e){return ze.resolve(this.size)}}class nae extends Wie{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ze.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(e){this.persistence=e,this.si=new Ld((n=>c2(n)),u2),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new g2,this.targetCount=0,this.ai=hh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ze.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new hh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Pr(n),ze.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ze.waitFor(a).next((()=>i))}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),ze.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this.ui={},this.overlays={},this.ci=new yx(0),this.li=!1,this.li=!0,this.hi=new Jie,this.referenceDelegate=e(this),this.Pi=new rae(this),this.indexManager=new Uie,this.remoteDocumentCache=(function(i){return new tae(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Bie(n),this.Ii=new Xie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qie,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eae(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){nt("MemoryPersistence","Starting transaction:",e);const i=new iae(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ze.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class iae extends Ire{constructor(e){super(),this.currentSequenceNumber=e}}class y2{constructor(e){this.persistence=e,this.Ri=new g2,this.Vi=null}static mi(e){return new y2(e)}get fi(){if(this.Vi)return this.Vi;throw xt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.fi,(r=>{const i=ht.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ze.or([()=>ze.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zb{constructor(e,n){this.persistence=e,this.pi=new Ld((r=>Dre(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Kie(this,n)}static mi(e,n){return new zb(e,n)}Ei(){}di(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ze.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ze.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,Tt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ze.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ob(e.data.value)),n}br(e,n,r){return ze.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Wt(),i=Wt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new v2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MJ()?8:Rre(Qi())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new aae;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Mf()<=Gt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Df(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ze.resolve()):(Mf()<=Gt.DEBUG&&nt("QueryEngine","Query:",Df(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Mf()<=Gt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Df(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bo(n))):ze.resolve())}ys(e,n){if(yk(n))return ze.resolve(null);let r=Bo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=AP(n,null,"F"),r=Bo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Wt(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,o,d.readTime)?this.ys(e,AP(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return yk(n)||i.isEqual(Tt.min())?ze.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ze.resolve(null):(Mf()<=Gt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Df(n)),this.vs(e,o,n,Ore(i,Xm)).next((c=>c)))}))}Ds(e,n){let r=new Jr(XF(e));return n.forEach(((i,a)=>{wx(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Mf()<=Gt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Df(n)),this.ps.getDocumentsMatchingQuery(e,n,eu.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="LocalStore",oae=3e8;class lae{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new or(Kt),this.xs=new Ld((a=>c2(a)),u2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yie(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cae(t,e,n,r){return new lae(t,e,n,r)}async function x9(t,e){const n=Ot(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Wt();for(const f of i){o.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:c})))}))}))}function uae(t,e){const n=Ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const g=f.batch,b=g.keys();let w=ze.resolve();return b.forEach((P=>{w=w.next((()=>p.getEntry(d,P))).next((T=>{const A=f.docVersions.get(P);vn(A!==null,48541),T.version.compareTo(A)<0&&(g.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),p.addEntry(T)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Wt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function _9(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dae(t,e){const n=Ot(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;c.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,g))));let w=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Ni.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),(function(T,A,C){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=oae?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(b,w,p)&&c.push(n.Pi.updateTargetData(a,w))}));let d=$l(),f=Wt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(fae(a,o,e.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!r.isEqual(Tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return ze.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function fae(t,e,n){let r=Wt(),i=Wt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=$l();return n.forEach(((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Tt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):nt(b2,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function hae(t,e){const n=Ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=s2),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pae(t,e){const n=Ot(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ze.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Fc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function NP(t,e,n){const r=Ot(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ep(o))throw o;nt(b2,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Nk(t,e,n){const r=Ot(t);let i=Tt.min(),a=Wt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,f,p){const g=Ot(d),b=g.xs.get(p);return b!==void 0?ze.resolve(g.Ms.get(b)):g.Pi.getTargetData(f,p)})(r,o,Bo(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Tt.min(),n?a:Wt()))).next((c=>(mae(r,eie(e),c),{documents:c,Qs:a})))))}function mae(t,e,n){let r=t.Os.get(e)||Tt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class jk{constructor(){this.activeTargetIds=sie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gae{constructor(){this.Mo=new jk,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="ConnectivityMonitor";class Rk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(Ik,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){nt(Ik,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv=null;function jP(){return kv===null?kv=(function(){return 268435456+Math.round(2147483648*Math.random())})():kv++,"0x"+kv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="RestConnection",vae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bae{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Rb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=jP(),c=this.zo(e,n.toUriEncodedString());nt(N1,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(c),p=cu(f);return this.Jo(e,c,d,r,p).then((g=>(nt(N1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw ch(N1,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=vae[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="WebChannelConnection";class _ae extends bae{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=jP();return new Promise(((c,d)=>{const f=new TF;f.setWithCredentials(!0),f.listenOnce(AF.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case sb.NO_ERROR:const g=f.getResponseJson();nt(Hi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case sb.TIMEOUT:nt(Hi,`RPC '${e}' ${o} timed out`),d(new tt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case sb.HTTP_ERROR:const b=f.getStatus();if(nt(Hi,`RPC '${e}' ${o} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w?.error;if(P&&P.status&&P.message){const T=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(D)>=0?D:Ve.UNKNOWN})(P.status);d(new tt(T,P.message))}else d(new tt(Ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new tt(Ve.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{nt(Hi,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(i);nt(Hi,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=jP(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OF(),c=PF(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=a.join("");nt(Hi,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=o.createWebChannel(p,d);this.I_(g);let b=!1,w=!1;const P=new xae({Yo:A=>{w?nt(Hi,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(b||(nt(Hi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),nt(Hi,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),T=(A,C,D)=>{A.listen(C,(R=>{try{D(R)}catch($){setTimeout((()=>{throw $}),0)}}))};return T(g,fm.EventType.OPEN,(()=>{w||(nt(Hi,`RPC '${e}' stream ${i} transport opened.`),P.o_())})),T(g,fm.EventType.CLOSE,(()=>{w||(w=!0,nt(Hi,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(g))})),T(g,fm.EventType.ERROR,(A=>{w||(w=!0,ch(Hi,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),P.a_(new tt(Ve.UNAVAILABLE,"The operation could not be completed")))})),T(g,fm.EventType.MESSAGE,(A=>{if(!w){const C=A.data[0];vn(!!C,16349);const D=C,R=D?.error||D[0]?.error;if(R){nt(Hi,`RPC '${e}' stream ${i} received error:`,R);const $=R.status;let I=(function(j){const V=Ir[j];if(V!==void 0)return l9(V)})($),B=R.message;I===void 0&&(I=Ve.INTERNAL,B="Unknown error status: "+$+" with message "+R.message),w=!0,P.a_(new tt(I,B)),g.close()}else nt(Hi,`RPC '${e}' stream ${i} received:`,C),P.u_(C)}})),T(c,EF.STAT_EVENT,(A=>{A.stat===vP.PROXY?nt(Hi,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===vP.NOPROXY&&nt(Hi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function j1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return new Aie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="PersistentStream";class S9{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w9(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ve.RESOURCE_EXHAUSTED?(Ul(n.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new tt(Ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return nt(Mk,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(nt(Mk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wae extends S9{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Oie(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Tt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?zo(o.readTime):Tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=CP(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=SP(d)?{documents:jie(a,d)}:{query:Iie(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=d9(a,o.resumeToken);const f=EP(a,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(Tt.min())>0){c.readTime=Bb(a,o.snapshotVersion.toTimestamp());const f=EP(a,o.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=Mie(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=CP(this.serializer),n.removeTarget=e,this.q_(n)}}class Sae extends S9{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Nie(e.writeResults,e.commitTime),r=zo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=CP(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Cie(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{}class Aae extends Tae{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new tt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,PP(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Ve.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,PP(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(Ve.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Eae{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ul(n),this.aa=!1):nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="RemoteStore";class Pae{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Vd(this)&&(nt(Ed,"Restarting streams for network reachability change."),await(async function(d){const f=Ot(d);f.Ea.add(4),await ny(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Px(f)})(this))}))})),this.Ra=new Eae(r,i)}}async function Px(t){if(Vd(t))for(const e of t.da)await e(!0)}async function ny(t){for(const e of t.da)await e(!1)}function T9(t,e){const n=Ot(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),S2(n)?w2(n):tp(n).O_()&&_2(n,e))}function x2(t,e){const n=Ot(t),r=tp(n);n.Ia.delete(e),r.O_()&&A9(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vd(n)&&n.Ra.set("Unknown"))}function _2(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tp(t).Y_(e)}function A9(t,e){t.Va.Ue(e),tp(t).Z_(e)}function w2(t){t.Va=new _ie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tp(t).start(),t.Ra.ua()}function S2(t){return Vd(t)&&!tp(t).x_()&&t.Ia.size>0}function Vd(t){return Ot(t).Ea.size===0}function E9(t){t.Va=void 0}async function Oae(t){t.Ra.set("Online")}async function Cae(t){t.Ia.forEach(((e,n)=>{_2(t,e)}))}async function Nae(t,e){E9(t),S2(t)?(t.Ra.ha(e),w2(t)):t.Ra.set("Unknown")}async function jae(t,e,n){if(t.Ra.set("Online"),e instanceof u9&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){nt(Ed,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ub(t,r)}else if(e instanceof ub?t.Va.Ze(e):e instanceof c9?t.Va.st(e):t.Va.tt(e),!n.isEqual(Tt.min()))try{const r=await _9(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,f)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(Ni.EMPTY_BYTE_STRING,p.snapshotVersion)),A9(a,d);const g=new Fc(p.target,d,f,p.sequenceNumber);_2(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){nt(Ed,"Failed to raise snapshot:",r),await Ub(t,r)}}async function Ub(t,e,n){if(!ep(e))throw e;t.Ea.add(1),await ny(t),t.Ra.set("Offline"),n||(n=()=>_9(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{nt(Ed,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Px(t)}))}function P9(t,e){return e().catch((n=>Ub(t,n,e)))}async function Ox(t){const e=Ot(t),n=iu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:s2;for(;Iae(e);)try{const i=await hae(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Rae(e,i)}catch(i){await Ub(e,i)}O9(e)&&C9(e)}function Iae(t){return Vd(t)&&t.Ta.length<10}function Rae(t,e){t.Ta.push(e);const n=iu(t);n.O_()&&n.X_&&n.ea(e.mutations)}function O9(t){return Vd(t)&&!iu(t).x_()&&t.Ta.length>0}function C9(t){iu(t).start()}async function Mae(t){iu(t).ra()}async function Dae(t){const e=iu(t);for(const n of t.Ta)e.ea(n.mutations)}async function kae(t,e,n){const r=t.Ta.shift(),i=h2.from(r,e,n);await P9(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ox(t)}async function Lae(t,e){e&&iu(t).X_&&await(async function(r,i){if((function(o){return vie(o)&&o!==Ve.ABORTED})(i.code)){const a=r.Ta.shift();iu(r).B_(),await P9(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ox(r)}})(t,e),O9(t)&&C9(t)}async function Dk(t,e){const n=Ot(t);n.asyncQueue.verifyOperationInProgress(),nt(Ed,"RemoteStore received new credentials");const r=Vd(n);n.Ea.add(3),await ny(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Px(n)}async function Vae(t,e){const n=Ot(t);e?(n.Ea.delete(2),await Px(n)):e||(n.Ea.add(2),await ny(n),n.Ra.set("Unknown"))}function tp(t){return t.ma||(t.ma=(function(n,r,i){const a=Ot(n);return a.sa(),new wae(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Oae.bind(null,t),t_:Cae.bind(null,t),r_:Nae.bind(null,t),H_:jae.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),S2(t)?w2(t):t.Ra.set("Unknown")):(await t.ma.stop(),E9(t))}))),t.ma}function iu(t){return t.fa||(t.fa=(function(n,r,i){const a=Ot(n);return a.sa(),new Sae(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mae.bind(null,t),r_:Lae.bind(null,t),ta:Dae.bind(null,t),na:kae.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ox(t)):(await t.fa.stop(),t.Ta.length>0&&(nt(Ed,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new T2(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new tt(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A2(t,e){if(Ul("AsyncQueue",`${e}: ${t}`),ep(t))return new tt(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{static emptySet(e){return new eh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=hm(),this.sortedSet=new or(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.ga=new or(ht.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ph{constructor(e,n,r,i,a,o,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new ph(e,n,eh.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_x(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zae{constructor(){this.queries=Lk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ot(n),a=i.queries;i.queries=Lk(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new tt(Ve.ABORTED,"Firestore shutting down"))}}function Lk(){return new Ld((t=>YF(t)),_x)}async function E2(t,e){const n=Ot(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Bae,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=A2(o,`Initialization of query '${Df(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&O2(n)}async function P2(t,e){const n=Ot(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Uae(t,e){const n=Ot(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&O2(n)}function $ae(t,e,n){const r=Ot(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function O2(t){t.Ca.forEach((e=>{e.next()}))}var IP,Vk;(Vk=IP||(IP={})).Ma="default",Vk.Cache="cache";class C2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ph(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ph.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==IP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.key=e}}class j9{constructor(e){this.key=e}}class Fae{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wt(),this.mutatedKeys=Wt(),this.eu=XF(e),this.tu=new eh(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kk,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),w=wx(this.query,g)?g:null,P=!!b&&this.mutatedKeys.has(b.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;b&&w?b.data.isEqual(w.data)?P!==T&&(r.track({type:3,doc:w}),A=!0):this.su(b,w)||(r.track({type:2,doc:w}),A=!0,(d&&this.eu(w,d)>0||f&&this.eu(w,f)<0)&&(c=!0)):!b&&w?(r.track({type:0,doc:w}),A=!0):b&&!w&&(r.track({type:1,doc:b}),A=!0,(d||f)&&(c=!0)),A&&(w?(o=o.add(w),a=T?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,g)=>(function(w,P){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Rt:A})}};return T(w)-T(P)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,o.length!==0||f?{snapshot:new ph(this.query,e.tu,a,o,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Wt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new j9(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new N9(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ph.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const N2="SyncEngine";class qae{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hae{constructor(e){this.key=e,this.hu=!1}}class Gae{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ld((c=>YF(c)),_x),this.Iu=new Map,this.Eu=new Set,this.du=new or(ht.comparator),this.Au=new Map,this.Ru=new g2,this.Vu={},this.mu=new Map,this.fu=hh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kae(t,e,n=!0){const r=L9(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await I9(r,e,n,!0),i}async function Wae(t,e){const n=L9(t);await I9(n,e,!0,!1)}async function I9(t,e,n,r){const i=await pae(t.localStore,Bo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await Zae(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&T9(t.remoteStore,i),c}async function Zae(t,e,n,r,i){t.pu=(g,b,w)=>(async function(T,A,C,D){let R=A.view.ru(C);R.Cs&&(R=await Nk(T.localStore,A.query,!1).then((({documents:N})=>A.view.ru(N,R))));const $=D&&D.targetChanges.get(A.targetId),I=D&&D.targetMismatches.get(A.targetId)!=null,B=A.view.applyChanges(R,T.isPrimaryClient,$,I);return zk(T,A.targetId,B.au),B.snapshot})(t,g,b,w);const a=await Nk(t.localStore,e,!0),o=new Fae(e,a.Qs),c=o.ru(a.documents),d=ty.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(c,t.isPrimaryClient,d);zk(t,n,f.au);const p=new qae(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function Yae(t,e,n){const r=Ot(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!_x(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await NP(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x2(r.remoteStore,i.targetId),RP(r,i.targetId)})).catch(Jh)):(RP(r,i.targetId),await NP(r.localStore,i.targetId,!0))}async function Xae(t,e){const n=Ot(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x2(n.remoteStore,r.targetId))}async function Qae(t,e,n){const r=ase(t);try{const i=await(function(o,c){const d=Ot(o),f=Hn.now(),p=c.reduce(((w,P)=>w.add(P.key)),Wt());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let P=$l(),T=Wt();return d.Ns.getEntries(w,p).next((A=>{P=A,P.forEach(((C,D)=>{D.isValidDocument()||(T=T.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,P))).next((A=>{g=A;const C=[];for(const D of c){const R=hie(D,g.get(D.key).overlayedDocument);R!=null&&C.push(new fu(D.key,R,$F(R.value.mapValue),ks.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,C,c)})).next((A=>{b=A;const C=A.applyToLocalDocumentSet(g,T);return d.documentOverlayCache.saveOverlays(w,A.batchId,C)}))})).then((()=>({batchId:b.batchId,changes:JF(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let f=o.Vu[o.currentUser.toKey()];f||(f=new or(Kt)),f=f.insert(c,d),o.Vu[o.currentUser.toKey()]=f})(r,i.batchId,n),await ry(r,i.changes),await Ox(r.remoteStore)}catch(i){const a=A2(i,"Failed to persist write");n.reject(a)}}async function R9(t,e){const n=Ot(t);try{const r=await dae(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?vn(o.hu,14607):i.removedDocuments.size>0&&(vn(o.hu,42227),o.hu=!1))})),await ry(n,r,e)}catch(r){await Jh(r)}}function Bk(t,e,n){const r=Ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=Ot(o);d.onlineState=c;let f=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(c)&&(f=!0)})),f&&O2(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Jae(t,e,n){const r=Ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new or(ht.comparator);o=o.insert(a,Wi.newNoDocument(a,Tt.min()));const c=Wt().add(a),d=new Ax(Tt.min(),new Map,new or(Kt),o,c);await R9(r,d),r.du=r.du.remove(a),r.Au.delete(e),j2(r)}else await NP(r.localStore,e,!1).then((()=>RP(r,e,n))).catch(Jh)}async function ese(t,e){const n=Ot(t),r=e.batch.batchId;try{const i=await uae(n.localStore,e);D9(n,r,null),M9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ry(n,i)}catch(i){await Jh(i)}}async function tse(t,e,n){const r=Ot(t);try{const i=await(function(o,c){const d=Ot(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((g=>(vn(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);D9(r,e,n),M9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ry(r,i)}catch(i){await Jh(i)}}function M9(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function D9(t,e,n){const r=Ot(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function RP(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||k9(t,r)}))}function k9(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(x2(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),j2(t))}function zk(t,e,n){for(const r of n)r instanceof N9?(t.Ru.addReference(r.key,e),nse(t,r)):r instanceof j9?(nt(N2,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||k9(t,r.key)):xt(19791,{wu:r})}function nse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(nt(N2,"New document in limbo: "+n),t.Eu.add(r),j2(t))}function j2(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ht(Bn.fromString(e)),r=t.fu.next();t.Au.set(r,new Hae(n)),t.du=t.du.insert(n,r),T9(t.remoteStore,new Fc(Bo(xx(n.path)),r,"TargetPurposeLimboResolution",yx.ce))}}async function ry(t,e,n){const r=Ot(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=v2.As(d.targetId,f);a.push(p)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,f){const p=Ot(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ze.forEach(f,(b=>ze.forEach(b.Es,(w=>p.persistence.referenceDelegate.addReference(g,b.targetId,w))).next((()=>ze.forEach(b.ds,(w=>p.persistence.referenceDelegate.removeReference(g,b.targetId,w)))))))))}catch(g){if(!ep(g))throw g;nt(b2,"Failed to update sequence numbers: "+g)}for(const g of f){const b=g.targetId;if(!g.fromCache){const w=p.Ms.get(b),P=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(P);p.Ms=p.Ms.insert(b,T)}}})(r.localStore,a))}async function rse(t,e){const n=Ot(t);if(!n.currentUser.isEqual(e)){nt(N2,"User change. New user:",e.toKey());const r=await x9(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new tt(Ve.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ry(n,r.Ls)}}function ise(t,e){const n=Ot(t),r=n.Au.get(e);if(r&&r.hu)return Wt().add(r.key);{let i=Wt();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function L9(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ise.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jae.bind(null,e),e.Pu.H_=Uae.bind(null,e.eventManager),e.Pu.yu=$ae.bind(null,e.eventManager),e}function ase(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ese.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tse.bind(null,e),e}class $b{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ex(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cae(this.persistence,new sae,e.initialUser,this.serializer)}Cu(e){return new b9(y2.mi,this.serializer)}Du(e){return new gae}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$b.provider={build:()=>new $b};class sse extends $b{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vn(this.persistence.referenceDelegate instanceof zb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Hie(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ja.withCacheSize(this.cacheSizeBytes):ja.DEFAULT;return new b9((r=>zb.mi(r,n)),this.serializer)}}class MP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rse.bind(null,this.syncEngine),await Vae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zae})()}createDatastore(e){const n=Ex(e.databaseInfo.databaseId),r=(function(a){return new _ae(a)})(e.databaseInfo);return(function(a,o,c,d){return new Aae(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new Pae(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bk(this.syncEngine,n,0)),(function(){return Rk.v()?new Rk:new yae})())}createSyncEngine(e,n){return(function(i,a,o,c,d,f,p){const g=new Gae(i,a,o,c,d,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ot(n);nt(Ed,"RemoteStore shutting down."),r.Ea.add(5),await ny(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}MP.provider={build:()=>new MP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="FirestoreClient";class ose{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ki.UNAUTHENTICATED,this.clientId=a2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{nt(au,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(nt(au,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=A2(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function I1(t,e){t.asyncQueue.verifyOperationInProgress(),nt(au,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await x9(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Uk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lse(t);nt(au,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Dk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Dk(e.remoteStore,i))),t._onlineComponents=e}async function lse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){nt(au,"Using user provided OfflineComponentProvider");try{await I1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ch("Error using user provided cache. Falling back to memory cache: "+n),await I1(t,new $b)}}else nt(au,"Using default OfflineComponentProvider"),await I1(t,new sse(void 0));return t._offlineComponents}async function V9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(nt(au,"Using user provided OnlineComponentProvider"),await Uk(t,t._uninitializedComponentsProvider._online)):(nt(au,"Using default OnlineComponentProvider"),await Uk(t,new MP))),t._onlineComponents}function cse(t){return V9(t).then((e=>e.syncEngine))}async function Fb(t){const e=await V9(t),n=e.eventManager;return n.onListen=Kae.bind(null,e.syncEngine),n.onUnlisten=Yae.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Wae.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Xae.bind(null,e.syncEngine),n}function use(t,e,n={}){const r=new Rl;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,f){const p=new I2({next:b=>{p.Nu(),o.enqueueAndForget((()=>P2(a,g)));const w=b.docs.has(c);!w&&b.fromCache?f.reject(new tt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&d&&d.source==="server"?f.reject(new tt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new C2(xx(c.path),p,{includeMetadataChanges:!0,qa:!0});return E2(a,g)})(await Fb(t),t.asyncQueue,e,n,r))),r.promise}function dse(t,e,n={}){const r=new Rl;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,f){const p=new I2({next:b=>{p.Nu(),o.enqueueAndForget((()=>P2(a,g))),b.fromCache&&d.source==="server"?f.reject(new tt(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new C2(c,p,{includeMetadataChanges:!0,qa:!0});return E2(a,g)})(await Fb(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="firestore.googleapis.com",Fk=!0;class qk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new tt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z9,this.ssl=Fk}else this.host=e.host,this.ssl=e.ssl??Fk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fie)throw new tt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B9(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new tt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new tt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new tt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new tt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yre;switch(r.type){case"firstParty":return new _re(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new tt(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=$k.get(n);r&&(nt("ComponentProvider","Removing Datastore"),$k.delete(n),r.terminate())})(this),Promise.resolve()}}function fse(t,e,n,r={}){t=Da(t,Cx);const i=cu(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(qC(`https://${c}`),HC("Firestore",!0)),a.host!==z9&&a.host!==c&&ch("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!xd(d,o)&&(t._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Ki.MOCK_USER;else{f=V$(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new tt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ki(g)}t._authCredentials=new vre(new NF(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bd(this.firestore,e,this._query)}}class pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}toJSON(){return{type:pr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qg(n,pr._jsonSchema))return new pr(e,r||null,new ht(Bn.fromString(n.referencePath)))}}pr._jsonSchemaVersion="firestore/documentReference/1.0",pr._jsonSchema={type:kr("string",pr._jsonSchemaVersion),referencePath:kr("string")};class Zc extends Bd{constructor(e,n,r){super(e,n,xx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new ht(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function Yr(t,e,...n){if(t=sr(t),jF("collection","path",e),t instanceof Cx){const r=Bn.fromString(e,...n);return rk(r),new Zc(t,null,r)}{if(!(t instanceof pr||t instanceof Zc))throw new tt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return rk(r),new Zc(t.firestore,null,r)}}function Bt(t,e,...n){if(t=sr(t),arguments.length===1&&(e=a2.newId()),jF("doc","path",e),t instanceof Cx){const r=Bn.fromString(e,...n);return nk(r),new pr(t,null,new ht(r))}{if(!(t instanceof pr||t instanceof Zc))throw new tt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return nk(r),new pr(t.firestore,t instanceof Zc?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="AsyncQueue";class Gk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w9(this,"async_queue_retry"),this._c=()=>{const r=j1();r&&nt(Hk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=j1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=j1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ep(e))throw e;nt(Hk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ul("INTERNAL UNHANDLED ERROR: ",Kk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=T2.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&xt(47125,{Pc:Kk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Kk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Fl extends Cx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gk(e),this._firestoreClient=void 0,await e}}}function Rt(t,e){const n=typeof t=="object"?t:WC(),r=typeof t=="string"?t:Rb,i=dx(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=D$("firestore");a&&fse(i,...a)}return i}function Nx(t){if(t._terminated)throw new tt(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hse(t),t._firestoreClient}function hse(t){const e=t._freezeSettings(),n=(function(i,a,o,c){return new Vre(i,a,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,B9(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ose(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(Ni.fromBase64String(e))}catch(n){throw new tt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:js._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qg(e,js._jsonSchema))return js.fromBase64String(e.bytes)}}js._jsonSchemaVersion="firestore/bytes/1.0",js._jsonSchema={type:kr("string",js._jsonSchemaVersion),bytes:kr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new tt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new tt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new tt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Uo._jsonSchemaVersion}}static fromJSON(e){if(Qg(e,Uo._jsonSchema))return new Uo(e.latitude,e.longitude)}}Uo._jsonSchemaVersion="firestore/geoPoint/1.0",Uo._jsonSchema={type:kr("string",Uo._jsonSchemaVersion),latitude:kr("number"),longitude:kr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$o._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qg(e,$o._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $o(e.vectorValues);throw new tt(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$o._jsonSchemaVersion="firestore/vectorValue/1.0",$o._jsonSchema={type:kr("string",$o._jsonSchemaVersion),vectorValues:kr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse=/^__.*__$/;class mse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ey(e,this.data,n,this.fieldTransforms)}}class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{Ac:t})}}class M2{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new M2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($9(this.Ac)&&pse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gse{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ex(e)}Cc(e,n,r,i=!1){return new M2({Ac:e,methodName:n,Dc:r,path:Ci.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ix(t){const e=t._freezeSettings(),n=Ex(t._databaseId);return new gse(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F9(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);D2("Data must be an object, but it was:",o,r);const c=q9(r,o);let d,f;if(a.merge)d=new rs(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const b=DP(e,g,n);if(!o.contains(b))throw new tt(Ve.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);G9(p,b)||p.push(b)}d=new rs(p),f=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=o.fieldTransforms;return new mse(new Ia(c),d,f)}class Rx extends R2{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rx}}function yse(t,e,n,r){const i=t.Cc(1,e,n);D2("Data must be an object, but it was:",i,r);const a=[],o=Ia.empty();du(r,((d,f)=>{const p=k2(e,d,n);f=sr(f);const g=i.yc(p);if(f instanceof Rx)a.push(p);else{const b=iy(f,g);b!=null&&(a.push(p),o.set(p,b))}}));const c=new rs(a);return new U9(o,c,i.fieldTransforms)}function vse(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[DP(e,r,n)],d=[i];if(a.length%2!=0)throw new tt(Ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)c.push(DP(e,a[b])),d.push(a[b+1]);const f=[],p=Ia.empty();for(let b=c.length-1;b>=0;--b)if(!G9(f,c[b])){const w=c[b];let P=d[b];P=sr(P);const T=o.yc(w);if(P instanceof Rx)f.push(w);else{const A=iy(P,T);A!=null&&(f.push(w),p.set(w,A))}}const g=new rs(f);return new U9(p,g,o.fieldTransforms)}function bse(t,e,n,r=!1){return iy(n,t.Cc(r?4:3,e))}function iy(t,e){if(H9(t=sr(t)))return D2("Unsupported field value:",e,t),q9(t,e);if(t instanceof R2)return(function(r,i){if(!$9(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=iy(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oie(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Hn.fromDate(r);return{timestampValue:Bb(i.serializer,a)}}if(r instanceof Hn){const a=new Hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bb(i.serializer,a)}}if(r instanceof Uo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof js)return{bytesValue:d9(i.serializer,r._byteString)};if(r instanceof pr){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:m2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $o)return(function(o,c){return{mapValue:{fields:{[zF]:{stringValue:UF},[Mb]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return d2(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${gx(r)}`)})(t,e)}function q9(t,e){const n={};return MF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):du(t,((r,i)=>{const a=iy(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function H9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Hn||t instanceof Uo||t instanceof js||t instanceof pr||t instanceof R2||t instanceof $o)}function D2(t,e,n){if(!H9(n)||!IF(n)){const r=gx(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function DP(t,e,n){if((e=sr(e))instanceof jx)return e._internalPath;if(typeof e=="string")return k2(t,e);throw qb("Field path arguments must be of type string or ",t,!1,void 0,n)}const xse=new RegExp("[~\\*/\\[\\]]");function k2(t,e,n){if(e.search(xse)>=0)throw qb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jx(...e.split("."))._internalPath}catch{throw qb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qb(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new tt(Ve.INVALID_ARGUMENT,c+t+d)}function G9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _se(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _se extends K9{data(){return super.data()}}function L2(t,e){return typeof e=="string"?k2(t,e):e instanceof jx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new tt(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{}class wse extends V2{}function B2(t,e,...n){let r=[];e instanceof V2&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof U2)).length,c=a.filter((d=>d instanceof Mx)).length;if(o>1||o>0&&c>0)throw new tt(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Mx extends wse{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mx(e,n,r)}_apply(e){const n=this._parse(e);return Z9(e._query,n),new Bd(e.firestore,e.converter,TP(e._query,n))}_parse(e){const n=Ix(e.firestore);return(function(a,o,c,d,f,p,g){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new tt(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Yk(g,p);const P=[];for(const T of g)P.push(Zk(d,a,T));b={arrayValue:{values:P}}}else b=Zk(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Yk(g,p),b=bse(c,o,g,p==="in"||p==="not-in");return Dr.create(f,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function z2(t,e,n){const r=e,i=L2("where",t);return Mx._create(i,r,n)}class U2 extends V2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U2(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)Z9(o,d),o=TP(o,d)})(e._query,n),new Bd(e.firestore,e.converter,TP(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zk(t,e,n){if(typeof(n=sr(n))=="string"){if(n==="")throw new tt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZF(e)&&n.indexOf("/")!==-1)throw new tt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bn.fromString(n));if(!ht.isDocumentKey(r))throw new tt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dk(t,new ht(r))}if(n instanceof pr)return dk(t,n._key);throw new tt(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gx(n)}.`)}function Yk(t,e){if(!Array.isArray(t)||t.length===0)throw new tt(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Z9(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new tt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new tt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Sse{convertValue(e,n="none"){switch(ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return du(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Mb].arrayValue?.values?.map((r=>Tr(r.doubleValue)));return new $o(n)}convertGeoPoint(e){return new Uo(Tr(e.latitude),Tr(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qm(e));default:return null}}convertTimestamp(e){const n=tu(e);return new Hn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bn.fromString(e);vn(y9(r),9688,{name:e});const i=new Jm(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return i.isEqual(n)||Ul(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends K9{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fd._jsonSchemaVersion="firestore/documentSnapshot/1.0",fd._jsonSchema={type:kr("string",fd._jsonSchemaVersion),bundleSource:kr("string","DocumentSnapshot"),bundleName:kr("string"),bundle:kr("string")};class db extends fd{data(e={}){return super.data(e)}}class hd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new db(this._firestore,this._userDataWriter,r.key,r,new mm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new tt(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new db(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new db(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:Tse(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new tt(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){t=Da(t,pr);const e=Da(t.firestore,Fl);return use(Nx(e),t._key).then((n=>X9(e,t,n)))}hd._jsonSchemaVersion="firestore/querySnapshot/1.0",hd._jsonSchema={type:kr("string",hd._jsonSchemaVersion),bundleSource:kr("string","QuerySnapshot"),bundleName:kr("string"),bundle:kr("string")};class $2 extends Sse{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,n)}}function Is(t){t=Da(t,Bd);const e=Da(t.firestore,Fl),n=Nx(e),r=new $2(e);return W9(t._query),dse(n,t._query).then((i=>new hd(e,r,t,i)))}function mh(t,e,n){t=Da(t,pr);const r=Da(t.firestore,Fl),i=Y9(t.converter,e,n);return Dx(r,[F9(Ix(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ks.none())])}function Cs(t,e,n,...r){t=Da(t,pr);const i=Da(t.firestore,Fl),a=Ix(i);let o;return o=typeof(e=sr(e))=="string"||e instanceof jx?vse(a,"updateDoc",t._key,e,n,r):yse(a,"updateDoc",t._key,e),Dx(i,[o.toMutation(t._key,ks.exists(!0))])}function gm(t){return Dx(Da(t.firestore,Fl),[new f2(t._key,ks.none())])}function ym(t,e){const n=Da(t.firestore,Fl),r=Bt(t),i=Y9(t.converter,e);return Dx(n,[F9(Ix(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ks.exists(!1))]).then((()=>r))}function np(t,...e){t=sr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Wk(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Wk(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let a,o,c;if(t instanceof pr)o=Da(t.firestore,Fl),c=xx(t._key.path),a={next:d=>{e[r]&&e[r](X9(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Da(t,Bd);o=Da(d.firestore,Fl),c=d._query;const f=new $2(o);a={next:p=>{e[r]&&e[r](new hd(o,f,d,p))},error:e[r+1],complete:e[r+2]},W9(t._query)}return(function(f,p,g,b){const w=new I2(b),P=new C2(p,w,g);return f.asyncQueue.enqueueAndForget((async()=>E2(await Fb(f),P))),()=>{w.Nu(),f.asyncQueue.enqueueAndForget((async()=>P2(await Fb(f),P)))}})(Nx(o),c,i,a)}function Dx(t,e){return(function(r,i){const a=new Rl;return r.asyncQueue.enqueueAndForget((async()=>Qae(await cse(r),i,a))),a.promise})(Nx(t),e)}function X9(t,e,n){const r=n.docs.get(e._key),i=new $2(t);return new fd(t,i,e._key,r,new mm(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Qh=i})(kd),wd(new Jc("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new Fl(new bre(r.getProvider("auth-internal")),new wre(o,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new tt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jm(f.options.projectId,p)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ko(QD,JD,e),ko(QD,JD,"esm2020")})();const Ase={apiKey:"AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI",authDomain:"myapp-d9024.firebaseapp.com",projectId:"myapp-d9024",storageBucket:"myapp-d9024.firebasestorage.app",appId:"1:985459317658:web:bee1f2fd2e4c16df74f823"};let vm=null;try{vm=fx(Ase)}catch(t){t.message?.includes("duplicate-app")}const Ese={user:null,signup:async()=>{},login:async()=>{},logout:async()=>{},updateUserProfile:async()=>{},isLoggedIn:!1,isLoading:!0},Q9=k.createContext(Ese);function Pse({children:t}){const[e,n]=k.useState(null),[r,i]=k.useState(!0),[a,o]=k.useState(null),[c,d]=k.useState(null);k.useEffect(()=>{try{const w=vm?yP(vm):yP(),P=vm?Rt(vm):Rt();o(w),d(P);let T=null;const A=ine(w,C=>{if(T&&(T(),T=null),C){const D=Bt(P,"users",C.uid);T=np(D,R=>{let $="user",I=C.email?.split("@")[0]||"user",B="",N="",j,V,K="",q="";if(R.exists()){const z=R.data();$=z.role||"user",I=z.username||I,B=z.phone||"",N=z.address||"",j=z.addressLat,V=z.addressLng,K=z.zoneId||"",q=z.zoneName||""}const H={id:C.uid,email:C.email||"",username:I,role:$,phone:B,address:N,addressLat:j,addressLng:V,zoneId:K,zoneName:q};n(H),localStorage.setItem("user",JSON.stringify(H)),i(!1)},R=>{const $=localStorage.getItem("user"),I=$?JSON.parse($):{},B={id:C.uid,email:C.email||"",username:I.username||C.email?.split("@")[0],role:I.role||"user",phone:I.phone||"",address:I.address||"",addressLat:I.addressLat,addressLng:I.addressLng,zoneId:I.zoneId||"",zoneName:I.zoneName||""};n(B),localStorage.setItem("user",JSON.stringify(B)),i(!1)})}else n(null),localStorage.removeItem("user"),i(!1)});return()=>{A(),T&&T()}}catch{i(!1)}},[]);const f=async(w,P,T)=>{if(!a)throw new Error("Firebase not configured");if(!c)throw new Error("Firestore not configured");const C=(await ene(a,w,P)).user;try{await mh(Bt(c,"users",C.uid),{email:C.email,username:T,role:"user",createdAt:new Date})}catch{}},p=async(w,P)=>{if(!a)throw new Error("Firebase not configured");await tne(a,w,P)},g=async()=>{if(!a)throw new Error("Firebase not configured");await ane(a)},b=async w=>{if(!e||!c)throw new Error("User not signed in or Firestore not configured");try{const P=Bt(c,"users",e.id),T={};w.phone!==void 0&&(T.phone=w.phone),w.address!==void 0&&(T.address=w.address),w.addressLat!==void 0&&(T.addressLat=w.addressLat),w.addressLng!==void 0&&(T.addressLng=w.addressLng),w.zoneId!==void 0&&(T.zoneId=w.zoneId),w.zoneName!==void 0&&(T.zoneName=w.zoneName),w.username!==void 0&&(T.username=w.username),await mh(P,T,{merge:!0}),n({...e,...w}),localStorage.setItem("user",JSON.stringify({...e,...w}))}catch(P){throw P}};return m.jsx(Q9.Provider,{value:{user:e,signup:f,login:p,logout:g,updateUserProfile:b,isLoggedIn:!!e,isLoading:r},children:t})}function zd(){return k.useContext(Q9)}const J9=k.createContext(void 0);function Ose({children:t}){const[e,n]=k.useState(()=>localStorage.getItem("app-language")||"en");k.useEffect(()=>{localStorage.setItem("app-language",e),document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e},[e]);const r=i=>{n(i)};return m.jsx(J9.Provider,{value:{language:e,setLanguage:r},children:t})}function mi(){const t=k.useContext(J9);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}const Hb={apiKey:"demo_api_key",authDomain:"demo.firebaseapp.com",projectId:"demo_project",storageBucket:"demo.appspot.com",messagingSenderId:"demo_sender",appId:"demo_app_id"};let qc=null,fb=!1,hb=!1;function Cse(){if(qc)return qc;const t={apiKey:"AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI",authDomain:"myapp-d9024.firebaseapp.com",projectId:"myapp-d9024",storageBucket:"myapp-d9024.firebasestorage.app",messagingSenderId:"985459317658",appId:"1:985459317658:web:bee1f2fd2e4c16df74f823"};return t.apiKey&&t.projectId&&t.appId?(qc=t,t):(qc=Hb,Hb)}function Xk(t){return t?.apiKey&&t?.projectId&&t?.appId&&t.apiKey.startsWith("AIza")&&t.projectId!==Hb.projectId&&t.appId.includes(":")}async function Nse(){try{const e=Rt(),n=Bt(e,"settings","firebase"),r=await Xi(n);if(r.exists()){const i=r.data();if(i.firebaseApiKey&&i.firebaseProjectId&&i.firebaseAppId&&Xk({apiKey:i.firebaseApiKey,projectId:i.firebaseProjectId,appId:i.firebaseAppId})){qc={apiKey:i.firebaseApiKey,authDomain:i.firebaseAuthDomain||"myapp-d9024.firebaseapp.com",projectId:i.firebaseProjectId,storageBucket:i.firebaseStorageBucket||"myapp-d9024.firebasestorage.app",messagingSenderId:i.firebaseMessagingSenderId||"985459317658",appId:i.firebaseAppId},hb=!0,fb=!0;return}}}catch{}const t={apiKey:"AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI",projectId:"myapp-d9024",appId:"1:985459317658:web:bee1f2fd2e4c16df74f823"};if(Xk(t)){qc={apiKey:t.apiKey,authDomain:"myapp-d9024.firebaseapp.com",projectId:t.projectId,storageBucket:"myapp-d9024.firebasestorage.app",messagingSenderId:"985459317658",appId:t.appId},hb=!0,fb=!0;return}qc=Hb,hb=!1,fb=!0}function el(){const t=Cse();return ZC().length||fx(t),Rt()}function jse(){const t=ZC();for(const e of t)Uee(e);qc=null,fb=!1,hb=!1}async function kx(){try{const t=el(),e=Yr(t,"products");return(await Is(e)).docs.map(r=>({id:r.id,...r.data()}))}catch{return[]}}async function Ise(t){try{const e=el(),n=Bt(e,"products",t),r=await Xi(n);return r.exists()?{id:r.id,...r.data()}:null}catch{return null}}async function Gb(t){try{const e=el(),n=Yr(e,"orders");if(t){const r=B2(n,z2("userId","==",t));return(await Is(r)).docs.map(a=>({id:a.id,...a.data()}))}else return(await Is(n)).docs.map(i=>({id:i.id,...i.data()}))}catch{return[]}}async function eq(t,e,n){try{const r=el(),i=Bt(r,"settings","store"),a=await Xi(i);if(!a.exists())return!1;const o=a.data(),c=o?.brevoApiKey,d=o?.brevoFromEmail,f=o?.brevoFromName||"Order System",p=o?.adminEmail;if(!c||!d)return!1;const g={pending:" ",confirmed:"",processing:" ",shipped:" ","in-transit":" ",completed:"",received:" ",cancelled:""},b=g[t.status]||t.status,w=g[n]||n,P=`
      <!DOCTYPE html>
      <html dir="rtl" style="margin:0; padding:0;">
      <head>
        <meta charset="UTF-8">
        <style>
          body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; line-height: 1.6; }
          .container { max-width: 700px; margin: 0 auto; background-color: #ffffff; padding: 0; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15); border-radius: 8px; overflow: hidden; }
          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
          .header h1 { margin: 0 0 8px 0; font-size: 28px; font-weight: bold; }
          .content { padding: 40px 30px; }
          .welcome { font-size: 16px; color: #333; margin: 0 0 25px 0; line-height: 1.8; font-weight: 500; }
          .status-box { background: linear-gradient(135deg, #f0f8ff 0%, #e8f4fb 100%); border-right: 4px solid #667eea; padding: 25px; border-radius: 8px; margin: 25px 0; }
          .status-label { font-size: 12px; color: #667eea; text-transform: uppercase; margin-bottom: 8px; font-weight: 700; letter-spacing: 0.5px; }
          .status-old { font-size: 14px; color: #999; margin-bottom: 10px; text-decoration: line-through; }
          .status-new { font-size: 20px; font-weight: bold; color: #667eea; }
          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
          .info-item { background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%); padding: 15px; border-radius: 8px; border-left: 3px solid #667eea; }
          .info-label { font-size: 10px; color: #667eea; text-transform: uppercase; margin-bottom: 5px; font-weight: 700; }
          .info-value { font-size: 14px; color: #333; font-weight: 600; }
          .next-steps { background: #fffacd; border-right: 4px solid #ffc107; padding: 15px; border-radius: 6px; margin: 20px 0; }
          .footer { background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%); padding: 25px 30px; text-align: center; font-size: 13px; color: #666; border-top: 1px solid #e8e8f0; }
        </style>
      </head>
      <body>
        <div class="container">
          <!-- Header -->
          <div class="header">
            <h1>   </h1>
            <p style="margin: 8px 0 0 0; font-size: 14px;">Order #${t.orderNumber||t.id}</p>
          </div>

          <!-- Content -->
          <div class="content">
            <!-- Welcome -->
            <p class="welcome">
               ${t.customerName||""}<br>
                 ! 
            </p>

            <!-- Status Update -->
            <div class="status-box">
              <div class="status-label">  </div>
              <div class="status-old">${w}</div>
              
              <div class="status-label" style="margin-top: 15px;">  </div>
              <div class="status-new">${b}</div>
            </div>

            <!-- Order Details -->
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">  </div>
                <div class="info-value">${new Date().toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</div>
              </div>
              <div class="info-item">
                <div class="info-label"> </div>
                <div class="info-value">L.E ${Number(t.total||0).toFixed(2)}</div>
              </div>
            </div>

            <!-- Next Steps -->
            <div class="next-steps">
              <strong>  :</strong><br>
                     .  ! 
            </div>
          </div>

          <!-- Footer -->
          <div class="footer">
            <p style="margin: 0;">       .</p>
          </div>
        </div>
      </body>
      </html>
    `,T={sender:{email:d,name:f},to:[{email:e},...p?[{email:p}]:[]],subject:`  : ${b} #${t.orderNumber||t.id}`,htmlContent:P};try{return(await fetch("https://api.brevo.com/v3/smtp/email",{method:"POST",headers:{"Content-Type":"application/json","api-key":c},body:JSON.stringify(T)})).ok,!0}catch{return!0}}catch{return!0}}async function Rse(t,e){try{const n=el(),r=Bt(n,"settings","store"),i=await Xi(r);if(!i.exists())return!1;const a=i.data(),o=a?.brevoApiKey,c=a?.brevoFromEmail,d=a?.brevoFromName||"Order System",f=a?.adminEmail;if(!o||!c)return!1;const p=(t.items||[]).map(A=>{let C="";if(A.selectedColor||A.selectedSize){if(C="<br>",A.selectedColor){let D=A.selectedColor,R="#9333ea";if(typeof A.selectedColor=="string"&&A.selectedColor.includes("|")){const $=A.selectedColor.split("|");D=$[0].trim(),R=$[1]?.trim()||"#9333ea"}C+=`<span style="background-color: ${R}; padding: 1px 8px; border-radius: 2px; font-size: 11px; color: white; font-weight: 500;">${D}</span>`}A.selectedSize&&(C+=`<br><span style="font-size: 11px; color: #666;"> ${A.selectedSize}</span>`)}return`
        <tr style="border-bottom: 1px solid #e0e0e0;">
          <td style="padding: 12px 10px; text-align: right; font-size: 14px;">
            <strong>${A.title}</strong>${C}
          </td>
          <td style="padding: 12px 10px; text-align: center; font-size: 14px;">${A.quantity}</td>
          <td style="padding: 12px 10px; text-align: center; font-size: 14px;">L.E ${Number(A.price).toFixed(2)}</td>
          <td style="padding: 12px 10px; text-align: left; font-size: 14px; font-weight: bold;">L.E ${(Number(A.price)*Number(A.quantity)).toFixed(2)}</td>
        </tr>
      `}).join(""),g=new Date(t.createdAt).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),w={pending:" ",shipped:" ",completed:"",cancelled:""}[t.status]||t.status,P=`
      <!DOCTYPE html>
      <html dir="rtl" style="margin:0; padding:0;">
      <head>
        <meta charset="UTF-8">
        <style>
          body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; line-height: 1.6; }
          .container { max-width: 700px; margin: 0 auto; background-color: #ffffff; padding: 0; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15); border-radius: 8px; overflow: hidden; }
          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
          .header h1 { margin: 0 0 8px 0; font-size: 32px; font-weight: bold; letter-spacing: -0.5px; }
          .order-number { font-size: 15px; opacity: 0.95; font-weight: 500; letter-spacing: 0.5px; }
          .content { padding: 40px 30px; }
          .welcome { font-size: 16px; color: #333; margin: 0 0 25px 0; line-height: 1.8; font-weight: 500; }
          .section-title { font-size: 17px; font-weight: bold; color: #333; margin: 28px 0 18px 0; border-bottom: 3px solid #667eea; padding-bottom: 10px; display: inline-block; }
          .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; margin: 20px 0 30px 0; }
          .info-item { background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%); padding: 16px; border-radius: 8px; border-left: 3px solid #667eea; }
          .info-label { font-size: 11px; color: #667eea; text-transform: uppercase; margin-bottom: 6px; font-weight: 700; letter-spacing: 0.5px; }
          .info-value { font-size: 15px; color: #333; font-weight: 600; }
          .status { display: inline-block; padding: 8px 16px; border-radius: 25px; font-size: 13px; font-weight: bold; margin: 10px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
          .status.pending { background-color: #fff3cd; color: #856404; }
          .status.shipped { background-color: #d1ecf1; color: #0c5460; }
          .status.completed { background-color: #d4edda; color: #155724; }
          .status.cancelled { background-color: #f8d7da; color: #721c24; }
          table { width: 100%; border-collapse: collapse; margin: 25px 0; border-radius: 6px; overflow: hidden; }
          th { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 14px; text-align: right; font-weight: bold; font-size: 13px; }
          td { padding: 14px; font-size: 14px; border-bottom: 1px solid #f0f0f0; }
          tbody tr:last-child td { border-bottom: none; }
          tbody tr { background-color: #fafbff; }
          tbody tr:hover { background-color: #f5f7ff; }
          .summary { background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%); padding: 25px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #667eea; }
          .summary-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #e8e8f0; font-size: 15px; }
          .summary-row.total { border-bottom: none; font-weight: bold; font-size: 18px; color: #667eea; padding: 16px 0; background: white; margin: 0 -25px -25px -25px; padding: 16px 25px; border-radius: 0 0 8px 8px; }
          .summary-label { color: #666; font-weight: 600; }
          .summary-value { color: #333; font-weight: 700; }
          .footer { background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%); padding: 25px 30px; text-align: center; font-size: 13px; color: #666; border-top: 1px solid #e8e8f0; }
          .shipping-box { background: linear-gradient(135deg, #e8f4f8 0%, #d9ecf7 100%); border-right: 4px solid #667eea; padding: 20px; border-radius: 8px; margin: 20px 0; }
          .shipping-box p { margin: 0; color: #333; font-weight: 600; font-size: 15px; }
          .next-steps { background: linear-gradient(135deg, #f0f8ff 0%, #e8f4fb 100%); padding: 18px; border-radius: 8px; margin: 25px 0; border-right: 4px solid #667eea; }
          .next-steps p { margin: 0; color: #333; font-size: 14px; line-height: 1.7; }
          .next-steps strong { color: #667eea; font-weight: 700; }
        </style>
      </head>
      <body>
        <div class="container">
          <!-- Header -->
          <div class="header">
            <h1>  </h1>
            <p class="order-number">Order #${t.orderNumber||t.id}</p>
          </div>

          <!-- Content -->
          <div class="content">
            <!-- Welcome -->
            <p class="welcome">
               ${t.customerName||""}<br>
                 !     
            </p>

            <!-- Order Status -->
            <div style="margin-bottom: 28px;">
              <span class="section-title"> </span>
              <div style="margin-top: 12px;">
                <span class="status ${t.status}">${w}</span>
              </div>
            </div>

            <!-- Order Details Grid -->
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label"> </div>
                <div class="info-value">${g}</div>
              </div>
              <div class="info-item">
                <div class="info-label"> </div>
                <div class="info-value">${t.shippingPhone||""}</div>
              </div>
              <div class="info-item">
                <div class="info-label"> </div>
                <div class="info-value">${t.paymentMethod||""}</div>
              </div>
              <div class="info-item">
                <div class="info-label">  </div>
                <div class="info-value">${t.items?.length||0} </div>
              </div>
            </div>

            <!-- Items Table -->
            <span class="section-title">  </span>
            <table style="width: 100%; border-collapse: collapse; margin: 15px -5px;">
              <thead>
                <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                  <th style="padding: 11px 8px; text-align: right; font-weight: bold; font-size: 13px;"></th>
                  <th style="padding: 11px 8px; text-align: center; font-weight: bold; font-size: 13px; width: 50px;"></th>
                  <th style="padding: 11px 8px; text-align: center; font-weight: bold; font-size: 13px;"></th>
                  <th style="padding: 11px 8px; text-align: left; font-weight: bold; font-size: 13px;"></th>
                </tr>
              </thead>
              <tbody>
                ${p}
              </tbody>
            </table>

            <!-- Price Summary -->
            <div class="summary">
              <div class="summary-row">
                <span class="summary-label"> :</span>
                <span class="summary-value">L.E ${Number(t.subtotal||0).toFixed(2)}</span>
              </div>
              ${t.discountAmount>0?`
                <div class="summary-row">
                  <span class="summary-label">:</span>
                  <span class="summary-value" style="color: #27ae60;">-L.E ${Number(t.discountAmount||0).toFixed(2)}</span>
                </div>
              `:""}
              <div class="summary-row">
                <span class="summary-label"> :</span>
                <span class="summary-value">L.E ${Number(t.shippingCost||0).toFixed(2)}</span>
              </div>
              <div class="summary-row total">
                <span class="summary-label"> :</span>
                <span class="summary-value">L.E ${Number(t.total||0).toFixed(2)}</span>
              </div>
            </div>

            <!-- Shipping Address -->
            <span class="section-title">  </span>
            <div class="shipping-box">
              <p style="margin: 0; color: #333; font-weight: 500;">
                ${t.shippingAddress||"   "}
              </p>
              ${t.shippingZone?`<p style="margin: 5px 0 0 0; color: #666; font-size: 13px;">: ${t.shippingZone}</p>`:""}
            </div>

            ${t.notes?`
            <!-- Order Notes -->
            <span class="section-title">  </span>
            <div style="background: #fffacd; border-right: 4px solid #ffc107; padding: 15px; border-radius: 6px; margin: 15px 0;">
              <p style="margin: 0; color: #333; font-size: 14px; line-height: 1.6;">${t.notes}</p>
            </div>
            `:""}

            <!-- Next Steps -->
            <div class="next-steps">
              <p>
                <strong>   </strong><br>
                     .       .
              </p>
            </div>
          </div>

          <!-- Footer -->
          <div class="footer">
            <p style="margin: 0 0 10px 0;">  ! </p>
            <p style="margin: 0; color: #999;">       .</p>
          </div>
        </div>
      </body>
      </html>
    `,T={sender:{email:c,name:d},to:[{email:e},...f?[{email:f}]:[]],subject:`Order Confirmation #${t.orderNumber||t.id}`,htmlContent:P};try{return(await fetch("https://api.brevo.com/v3/smtp/email",{method:"POST",headers:{"Content-Type":"application/json","api-key":o},body:JSON.stringify(T)})).ok,!0}catch{return!0}}catch{return!0}}async function Mse(t){try{if(!t?.userId||!t?.id||!t?.items?.length)throw new Error("Missing userId, id, or items");const e=el(),n={};Object.keys(t).forEach(i=>{const a=t[i];a!==void 0&&a!==""&&(n[i]=a)}),typeof n.deliveryLat=="number"&&(n.deliveryLat=n.deliveryLat),typeof n.deliveryLng=="number"&&(n.deliveryLng=n.deliveryLng),typeof n.driverLat=="number"&&(n.driverLat=n.driverLat),typeof n.driverLng=="number"&&(n.driverLng=n.driverLng),n.status||(n.status="pending"),n.paymentMethod||(n.paymentMethod=""),n.shippingType||(n.shippingType=""),n.shippingZone||(n.shippingZone=""),n.subtotal=Number(n.subtotal)||0,n.discountedTotal=Number(n.discountedTotal)||0,n.discountAmount=Number(n.discountAmount)||0,n.shippingCost=Number(n.shippingCost)||0,n.total=Number(n.total)||0,n.orderNumber=Number(n.orderNumber)||0,n.createdAt=new Date().toISOString(),await mh(Bt(e,"orders",t.id),n);const r=t.userEmail||t.customerEmail||t.email;return r&&await Rse(n,r).catch(i=>{}),t.id}catch{return null}}async function Dse(t,e){try{const n=el(),r=Bt(n,"orders",t);return(await Xi(r)).exists()?(await Cs(r,e),!0):!1}catch{return!1}}async function tq(){try{const t=el(),e=Bt(t,"settings","store"),n=await Xi(e);return n.exists()?n.data():null}catch{return null}}async function kse(){try{const t=el(),e=Yr(t,"shippingZones");return(await Is(e)).docs.map(i=>({id:i.id,...i.data()}))}catch{return[]}}async function Lse(){try{const t=el(),e=Yr(t,"discounts");return(await Is(e)).docs.map(r=>({id:r.id,...r.data()}))}catch{return[]}}const nq=k.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Wo("rounded-xl border bg-card text-card-foreground shadow",t),...e}));nq.displayName="Card";const Vse=k.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Wo("flex flex-col space-y-1.5 p-6",t),...e}));Vse.displayName="CardHeader";const Bse=k.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Wo("font-semibold leading-none tracking-tight",t),...e}));Bse.displayName="CardTitle";const zse=k.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Wo("text-sm text-muted-foreground",t),...e}));zse.displayName="CardDescription";const rq=k.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Wo("p-6 pt-0",t),...e}));rq.displayName="CardContent";const Use=k.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:Wo("flex items-center p-6 pt-0",t),...e}));Use.displayName="CardFooter";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fse=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Qk=t=>{const e=Fse(t);return e.charAt(0).toUpperCase()+e.slice(1)},iq=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),qse=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>k.createElement("svg",{ref:d,...Hse,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iq("lucide",i),...!a&&!qse(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,p])=>k.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(t,e)=>{const n=k.forwardRef(({className:r,...i},a)=>k.createElement(Gse,{ref:a,iconNode:e,className:iq(`lucide-${$se(Qk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Qk(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vs=Mt("arrow-left",Kse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kb=Mt("check",Wse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yse=Mt("chevron-down",Zse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aq=Mt("chevron-left",Xse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ps=Mt("chevron-right",Qse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eoe=Mt("chevron-up",Jse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sq=Mt("circle-alert",toe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],roe=Mt("copy",noe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],oq=Mt("credit-card",ioe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],soe=Mt("database",aoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],loe=Mt("facebook",ooe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Lx=Mt("file-text",coe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],doe=Mt("globe",uoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hoe=Mt("house",foe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],moe=Mt("list",poe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],F2=Mt("loader",goe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],voe=Mt("log-out",yoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ql=Mt("map-pin",boe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Jk=Mt("map",xoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],woe=Mt("message-circle",_oe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M5 12h14",key:"1ays0h"}]],Toe=Mt("minus",Soe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Eoe=Mt("navigation",Aoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lq=Mt("package",Poe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bf=Mt("pen",Ooe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Noe=Mt("phone",Coe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wb=Mt("plus",joe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Roe=Mt("save",Ioe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Doe=Mt("search",Moe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cq=Mt("settings",koe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Voe=Mt("share-2",Loe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kP=Mt("shopping-bag",Boe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],q2=Mt("shopping-cart",zoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],$oe=Mt("store",Uoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qoe=Mt("target",Foe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zb=Mt("trash-2",Hoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Koe=Mt("trending-up",Goe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],H2=Mt("truck",Woe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yoe=Mt("upload",Zoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],G2=Mt("user",Xoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nm=Mt("x",Qoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uq=Mt("zap",Joe);function ele(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(nq,{className:"w-full max-w-md mx-4",children:m.jsxs(rq,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(sq,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function mr({children:t,className:e}){return m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-background font-sans",children:m.jsx("div",{className:"relative w-full h-full bg-background overflow-hidden flex flex-col",children:m.jsx("div",{className:Wo("flex-1 flex flex-col h-full overflow-hidden w-full",e),children:t})})})}const dq=k.createContext({});function tle(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const K2=typeof window<"u",nle=K2?k.useLayoutEffect:k.useEffect,W2=k.createContext(null);function Z2(t,e){t.indexOf(e)===-1&&t.push(e)}function Y2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hl=(t,e,n)=>n>e?e:n<t?t:n;let X2=()=>{};const Gl={},fq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hq(t){return typeof t=="object"&&t!==null}const pq=t=>/^0[^.\s]+$/u.test(t);function Q2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ls=t=>t,rle=(t,e)=>n=>e(t(n)),ay=(...t)=>t.reduce(rle),rg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class J2{constructor(){this.subscriptions=[]}add(e){return Z2(this.subscriptions,e),()=>Y2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fo=t=>t*1e3,Ms=t=>t/1e3;function mq(t,e){return e?t*(1e3/e):0}const gq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ile=1e-7,ale=12;function sle(t,e,n,r,i){let a,o,c=0;do o=e+(n-e)/2,a=gq(o,r,i)-t,a>0?n=o:e=o;while(Math.abs(a)>ile&&++c<ale);return o}function sy(t,e,n,r){if(t===e&&n===r)return Ls;const i=a=>sle(a,0,1,t,n);return a=>a===0||a===1?a:gq(i(a),e,r)}const yq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vq=t=>e=>1-t(1-e),bq=sy(.33,1.53,.69,.99),eN=vq(bq),xq=yq(eN),_q=t=>(t*=2)<1?.5*eN(t):.5*(2-Math.pow(2,-10*(t-1))),tN=t=>1-Math.sin(Math.acos(t)),wq=vq(tN),Sq=yq(tN),ole=sy(.42,0,1,1),lle=sy(0,0,.58,1),Tq=sy(.42,0,.58,1),cle=t=>Array.isArray(t)&&typeof t[0]!="number",Aq=t=>Array.isArray(t)&&typeof t[0]=="number",ule={linear:Ls,easeIn:ole,easeInOut:Tq,easeOut:lle,circIn:tN,circInOut:Sq,circOut:wq,backIn:eN,backInOut:xq,backOut:bq,anticipate:_q},dle=t=>typeof t=="string",eL=t=>{if(Aq(t)){X2(t.length===4);const[e,n,r,i]=t;return sy(e,n,r,i)}else if(dle(t))return ule[t];return t},Lv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fle(t,e){let n=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){o.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,g=!1,b=!1)=>{const P=b&&i?n:r;return g&&o.add(p),P.has(p)||P.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,f.process(p))}};return f}const hle=40;function Eq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Lv.reduce((R,$)=>(R[$]=fle(a),R),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:g,preRender:b,render:w,postRender:P}=o,T=()=>{const R=Gl.useManualTiming?i.timestamp:performance.now();n=!1,Gl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,hle),1)),i.timestamp=R,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),b.process(i),w.process(i),P.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(T))},A=()=>{n=!0,r=!0,i.isProcessing||t(T)};return{schedule:Lv.reduce((R,$)=>{const I=o[$];return R[$]=(B,N=!1,j=!1)=>(n||A(),I.schedule(B,N,j)),R},{}),cancel:R=>{for(let $=0;$<Lv.length;$++)o[Lv[$]].cancel(R)},state:i,steps:o}}const{schedule:Qn,cancel:su,state:Pi,steps:R1}=Eq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ls,!0);let pb;function ple(){pb=void 0}const Ra={now:()=>(pb===void 0&&Ra.set(Pi.isProcessing||Gl.useManualTiming?Pi.timestamp:performance.now()),pb),set:t=>{pb=t,queueMicrotask(ple)}},Pq=t=>e=>typeof e=="string"&&e.startsWith(t),nN=Pq("--"),mle=Pq("var(--"),rN=t=>mle(t)?gle.test(t.split("/*")[0].trim()):!1,gle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ig={...rp,transform:t=>Hl(0,1,t)},Vv={...rp,default:1},jm=t=>Math.round(t*1e5)/1e5,iN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yle(t){return t==null}const vle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aN=(t,e)=>n=>!!(typeof n=="string"&&vle.test(n)&&n.startsWith(t)||e&&!yle(n)&&Object.prototype.hasOwnProperty.call(n,e)),Oq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(iN);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},ble=t=>Hl(0,255,t),M1={...rp,transform:t=>Math.round(ble(t))},sd={test:aN("rgb","red"),parse:Oq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+M1.transform(t)+", "+M1.transform(e)+", "+M1.transform(n)+", "+jm(ig.transform(r))+")"};function xle(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const LP={test:aN("#"),parse:xle,transform:sd.transform},oy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dc=oy("deg"),qo=oy("%"),wt=oy("px"),_le=oy("vh"),wle=oy("vw"),tL={...qo,parse:t=>qo.parse(t)/100,transform:t=>qo.transform(t*100)},zf={test:aN("hsl","hue"),parse:Oq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qo.transform(jm(e))+", "+qo.transform(jm(n))+", "+jm(ig.transform(r))+")"},Mr={test:t=>sd.test(t)||LP.test(t)||zf.test(t),parse:t=>sd.test(t)?sd.parse(t):zf.test(t)?zf.parse(t):LP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?sd.transform(t):zf.transform(t),getAnimatableNone:t=>{const e=Mr.parse(t);return e.alpha=0,Mr.transform(e)}},Sle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tle(t){return isNaN(t)&&typeof t=="string"&&(t.match(iN)?.length||0)+(t.match(Sle)?.length||0)>0}const Cq="number",Nq="color",Ale="var",Ele="var(",nL="${}",Ple=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ag(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(Ple,d=>(Mr.test(d)?(r.color.push(a),i.push(Nq),n.push(Mr.parse(d))):d.startsWith(Ele)?(r.var.push(a),i.push(Ale),n.push(d)):(r.number.push(a),i.push(Cq),n.push(parseFloat(d))),++a,nL)).split(nL);return{values:n,split:c,indexes:r,types:i}}function jq(t){return ag(t).values}function Iq(t){const{split:e,types:n}=ag(t),r=e.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],i[o]!==void 0){const c=n[o];c===Cq?a+=jm(i[o]):c===Nq?a+=Mr.transform(i[o]):a+=i[o]}return a}}const Ole=t=>typeof t=="number"?0:Mr.test(t)?Mr.getAnimatableNone(t):t;function Cle(t){const e=jq(t);return Iq(t)(e.map(Ole))}const ou={test:Tle,parse:jq,createTransformer:Iq,getAnimatableNone:Cle};function D1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nle({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,o=0;if(!e)i=a=o=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=D1(d,c,t+1/3),a=D1(d,c,t),o=D1(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Yb(t,e){return n=>n>0?e:t}const ar=(t,e,n)=>t+(e-t)*n,k1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},jle=[LP,sd,zf],Ile=t=>jle.find(e=>e.test(t));function rL(t){const e=Ile(t);if(!e)return!1;let n=e.parse(t);return e===zf&&(n=Nle(n)),n}const iL=(t,e)=>{const n=rL(t),r=rL(e);if(!n||!r)return Yb(t,e);const i={...n};return a=>(i.red=k1(n.red,r.red,a),i.green=k1(n.green,r.green,a),i.blue=k1(n.blue,r.blue,a),i.alpha=ar(n.alpha,r.alpha,a),sd.transform(i))},VP=new Set(["none","hidden"]);function Rle(t,e){return VP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Mle(t,e){return n=>ar(t,e,n)}function sN(t){return typeof t=="number"?Mle:typeof t=="string"?rN(t)?Yb:Mr.test(t)?iL:Lle:Array.isArray(t)?Rq:typeof t=="object"?Mr.test(t)?iL:Dle:Yb}function Rq(t,e){const n=[...t],r=n.length,i=t.map((a,o)=>sN(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function Dle(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=sN(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function kle(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][r[a]],c=t.values[o]??0;n[i]=c,r[a]++}return n}const Lle=(t,e)=>{const n=ou.createTransformer(e),r=ag(t),i=ag(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?VP.has(t)&&!i.values.length||VP.has(e)&&!r.values.length?Rle(t,e):ay(Rq(kle(r,i),i.values),n):Yb(t,e)};function Mq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ar(t,e,n):sN(t)(t,e)}const Vle=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qn.update(e,n),stop:()=>su(e),now:()=>Pi.isProcessing?Pi.timestamp:Ra.now()}},Dq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Xb=2e4;function oN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xb;)e+=n,r=t.next(e);return e>=Xb?1/0:e}function Ble(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(oN(r),Xb);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Ms(i)}}const zle=5;function kq(t,e,n){const r=Math.max(e-zle,0);return mq(n-t(r),e-r)}const fr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L1=.001;function Ule({duration:t=fr.duration,bounce:e=fr.bounce,velocity:n=fr.velocity,mass:r=fr.mass}){let i,a,o=1-e;o=Hl(fr.minDamping,fr.maxDamping,o),t=Hl(fr.minDuration,fr.maxDuration,Ms(t)),o<1?(i=f=>{const p=f*o,g=p*t,b=p-n,w=BP(f,o),P=Math.exp(-g);return L1-b/w*P},a=f=>{const g=f*o*t,b=g*n+n,w=Math.pow(o,2)*Math.pow(f,2)*t,P=Math.exp(-g),T=BP(Math.pow(f,2),o);return(-i(f)+L1>0?-1:1)*((b-w)*P)/T}):(i=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-L1+p*g},a=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const c=5/t,d=Fle(i,a,c);if(t=Fo(t),isNaN(d))return{stiffness:fr.stiffness,damping:fr.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:t}}}const $le=12;function Fle(t,e,n){let r=n;for(let i=1;i<$le;i++)r=r-t(r)/e(r);return r}function BP(t,e){return t*Math.sqrt(1-e*e)}const qle=["duration","bounce"],Hle=["stiffness","damping","mass"];function aL(t,e){return e.some(n=>t[n]!==void 0)}function Gle(t){let e={velocity:fr.velocity,stiffness:fr.stiffness,damping:fr.damping,mass:fr.mass,isResolvedFromDuration:!1,...t};if(!aL(t,Hle)&&aL(t,qle))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Hl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:fr.mass,stiffness:i,damping:a}}else{const n=Ule(t);e={...e,...n,mass:fr.mass},e.isResolvedFromDuration=!0}return e}function Qb(t=fr.visualDuration,e=fr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:p,duration:g,velocity:b,isResolvedFromDuration:w}=Gle({...n,velocity:-Ms(n.velocity||0)}),P=b||0,T=f/(2*Math.sqrt(d*p)),A=o-a,C=Ms(Math.sqrt(d/p)),D=Math.abs(A)<5;r||(r=D?fr.restSpeed.granular:fr.restSpeed.default),i||(i=D?fr.restDelta.granular:fr.restDelta.default);let R;if(T<1){const I=BP(C,T);R=B=>{const N=Math.exp(-T*C*B);return o-N*((P+T*C*A)/I*Math.sin(I*B)+A*Math.cos(I*B))}}else if(T===1)R=I=>o-Math.exp(-C*I)*(A+(P+C*A)*I);else{const I=C*Math.sqrt(T*T-1);R=B=>{const N=Math.exp(-T*C*B),j=Math.min(I*B,300);return o-N*((P+T*C*A)*Math.sinh(j)+I*A*Math.cosh(j))/I}}const $={calculatedDuration:w&&g||null,next:I=>{const B=R(I);if(w)c.done=I>=g;else{let N=I===0?P:0;T<1&&(N=I===0?Fo(P):kq(R,I,B));const j=Math.abs(N)<=r,V=Math.abs(o-B)<=i;c.done=j&&V}return c.value=c.done?o:B,c},toString:()=>{const I=Math.min(oN($),Xb),B=Dq(N=>$.next(I*N).value,I,30);return I+"ms "+B},toTransition:()=>{}};return $}Qb.applyToOptions=t=>{const e=Ble(t,100,Qb);return t.ease=e.ease,t.duration=Fo(e.duration),t.type="keyframes",t};function zP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:f=.5,restSpeed:p}){const g=t[0],b={done:!1,value:g},w=j=>c!==void 0&&j<c||d!==void 0&&j>d,P=j=>c===void 0?d:d===void 0||Math.abs(c-j)<Math.abs(d-j)?c:d;let T=n*e;const A=g+T,C=o===void 0?A:o(A);C!==A&&(T=C-g);const D=j=>-T*Math.exp(-j/r),R=j=>C+D(j),$=j=>{const V=D(j),K=R(j);b.done=Math.abs(V)<=f,b.value=b.done?C:K};let I,B;const N=j=>{w(b.value)&&(I=j,B=Qb({keyframes:[b.value,P(b.value)],velocity:kq(R,j,b.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return N(0),{calculatedDuration:null,next:j=>{let V=!1;return!B&&I===void 0&&(V=!0,$(j),N(j)),I!==void 0&&j>=I?B.next(j-I):(!V&&$(j),b)}}}function Kle(t,e,n){const r=[],i=n||Gl.mix||Mq,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||Ls:e;c=ay(d,c)}r.push(c)}return r}function Wle(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(X2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Kle(e,r,i),d=c.length,f=p=>{if(o&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const b=rg(t[g],t[g+1],p);return c[g](b)};return n?p=>f(Hl(t[0],t[a-1],p)):f}function Zle(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rg(0,e,r);t.push(ar(n,1,i))}}function Yle(t){const e=[0];return Zle(e,t.length-1),e}function Xle(t,e){return t.map(n=>n*e)}function Qle(t,e){return t.map(()=>e||Tq).splice(0,t.length-1)}function Im({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=cle(r)?r.map(eL):eL(r),a={done:!1,value:e[0]},o=Xle(n&&n.length===e.length?n:Yle(e),t),c=Wle(o,e,{ease:Array.isArray(i)?i:Qle(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const Jle=t=>t!==null;function lN(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(Jle),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const ece={decay:zP,inertia:zP,tween:Im,keyframes:Im,spring:Qb};function Lq(t){typeof t.type=="string"&&(t.type=ece[t.type])}class cN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const tce=t=>t/100;class uN extends cN{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ra.now()&&this.tick(Ra.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Lq(e);const{type:n=Im,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const d=n||Im;d!==Im&&typeof c[0]!="number"&&(this.mixKeyframes=ay(tce,Mq(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=oN(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:b,repeatDelay:w,type:P,onUpdate:T,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,$=r;if(g){const j=Math.min(this.currentTime,i)/c;let V=Math.floor(j),K=j%1;!K&&j>=1&&(K=1),K===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(b==="reverse"?(K=1-K,w&&(K-=w/c)):b==="mirror"&&($=o)),R=Hl(0,1,K)*c}const I=D?{done:!1,value:p[0]}:$.next(R);a&&(I.value=a(I.value));let{done:B}=I;!D&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return N&&P!==zP&&(I.value=lN(p,this.options,A,this.speed)),T&&T(I.value),N&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Ms(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ms(e)}get time(){return Ms(this.currentTime)}set time(e){e=Fo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ra.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ms(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Vle,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ra.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nce(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const od=t=>t*180/Math.PI,UP=t=>{const e=od(Math.atan2(t[1],t[0]));return $P(e)},rce={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:UP,rotateZ:UP,skewX:t=>od(Math.atan(t[1])),skewY:t=>od(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$P=t=>(t=t%360,t<0&&(t+=360),t),sL=UP,oL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ice={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oL,scaleY:lL,scale:t=>(oL(t)+lL(t))/2,rotateX:t=>$P(od(Math.atan2(t[6],t[5]))),rotateY:t=>$P(od(Math.atan2(-t[2],t[0]))),rotateZ:sL,rotate:sL,skewX:t=>od(Math.atan(t[4])),skewY:t=>od(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function FP(t){return t.includes("scale")?1:0}function qP(t,e){if(!t||t==="none")return FP(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=ice,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rce,i=c}if(!i)return FP(e);const a=r[e],o=i[1].split(",").map(sce);return typeof a=="function"?a(o):o[a]}const ace=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qP(n,e)};function sce(t){return parseFloat(t.trim())}const ip=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ap=new Set(ip),cL=t=>t===rp||t===wt,oce=new Set(["x","y","z"]),lce=ip.filter(t=>!oce.has(t));function cce(t){const e=[];return lce.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const pd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qP(e,"x"),y:(t,{transform:e})=>qP(e,"y")};pd.translateX=pd.x;pd.translateY=pd.y;const md=new Set;let HP=!1,GP=!1,KP=!1;function Vq(){if(GP){const t=Array.from(md).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=cce(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{r.getValue(a)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GP=!1,HP=!1,md.forEach(t=>t.complete(KP)),md.clear()}function Bq(){md.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GP=!0)})}function uce(){KP=!0,Bq(),Vq(),KP=!1}class dN{constructor(e,n,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(md.add(this),HP||(HP=!0,Qn.read(Bq),Qn.resolveKeyframes(Vq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}nce(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),md.delete(this)}cancel(){this.state==="scheduled"&&(md.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dce=t=>t.startsWith("--");function fce(t,e,n){dce(e)?t.style.setProperty(e,n):t.style[e]=n}const hce=Q2(()=>window.ScrollTimeline!==void 0),pce={};function mce(t,e){const n=Q2(t);return()=>pce[e]??n()}const zq=mce(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bm([0,.65,.55,1]),circOut:bm([.55,0,1,.45]),backIn:bm([.31,.01,.66,-.59]),backOut:bm([.33,1.53,.69,.99])};function Uq(t,e){if(t)return typeof t=="function"?zq()?Dq(t,e):"ease-out":Aq(t)?bm(t):Array.isArray(t)?t.map(n=>Uq(n,e)||uL.easeOut):uL[t]}function gce(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const g=Uq(c,i);Array.isArray(g)&&(p.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),t.animate(p,b)}function $q(t){return typeof t=="function"&&"applyToOptions"in t}function yce({type:t,...e}){return $q(t)&&zq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vce extends cN{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,X2(typeof e.type!="string");const f=yce(e);this.animation=gce(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=lN(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):fce(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ms(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ms(e)}get time(){return Ms(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&hce()?(this.animation.timeline=e,Ls):n(this)}}const Fq={anticipate:_q,backInOut:xq,circInOut:Sq};function bce(t){return t in Fq}function xce(t){typeof t.ease=="string"&&bce(t.ease)&&(t.ease=Fq[t.ease])}const dL=10;class _ce extends vce{constructor(e){xce(e),Lq(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new uN({...o,autoplay:!1}),d=Fo(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-dL).value,c.sample(d).value,dL),c.stop()}}const fL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ou.test(t)||t==="0")&&!t.startsWith("url("));function wce(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Sce(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=fL(i,e),c=fL(a,e);return!o||!c?!1:wce(t)||(n==="spring"||$q(n))&&r}function WP(t){t.duration=0,t.type="keyframes"}const Tce=new Set(["opacity","clipPath","filter","transform"]),Ace=Q2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ece(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return Ace()&&n&&Tce.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const Pce=40;class Oce extends cN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ra.now();const b={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:f,element:p,...g},w=p?.KeyframeResolver||dN;this.keyframeResolver=new w(c,(P,T,A)=>this.onKeyframesResolved(P,T,b,!A),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Ra.now(),Sce(e,a,o,c)||((Gl.instantAnimations||!d)&&p?.(lN(e,r,n)),e[0]=e[e.length-1],WP(r),r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Pce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!f&&Ece(b)?new _ce({...b,element:b.motionValue.owner.current}):new uN(b);w.finished.then(()=>this.notifyFinished()).catch(Ls),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),uce()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Cce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nce(t){const e=Cce.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function qq(t,e,n=1){const[r,i]=Nce(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return fq(o)?parseFloat(o):o}return rN(i)?qq(i,e,n+1):i}function fN(t,e){return t?.[e]??t?.default??t}const Hq=new Set(["width","height","top","left","right","bottom",...ip]),jce={test:t=>t==="auto",parse:t=>t},Gq=t=>e=>e.test(t),Kq=[rp,wt,qo,Dc,wle,_le,jce],hL=t=>Kq.find(Gq(t));function Ice(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pq(t):!0}const Rce=new Set(["brightness","contrast","saturate","opacity"]);function Mce(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(iN)||[];if(!r)return t;const i=n.replace(r,"");let a=Rce.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Dce=/\b([a-z-]*)\(.*?\)/gu,ZP={...ou,getAnimatableNone:t=>{const e=t.match(Dce);return e?e.map(Mce).join(" "):t}},pL={...rp,transform:Math.round},kce={rotate:Dc,rotateX:Dc,rotateY:Dc,rotateZ:Dc,scale:Vv,scaleX:Vv,scaleY:Vv,scaleZ:Vv,skew:Dc,skewX:Dc,skewY:Dc,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:ig,originX:tL,originY:tL,originZ:wt},hN={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...kce,zIndex:pL,fillOpacity:ig,strokeOpacity:ig,numOctaves:pL},Lce={...hN,color:Mr,backgroundColor:Mr,outlineColor:Mr,fill:Mr,stroke:Mr,borderColor:Mr,borderTopColor:Mr,borderRightColor:Mr,borderBottomColor:Mr,borderLeftColor:Mr,filter:ZP,WebkitFilter:ZP},Wq=t=>Lce[t];function Zq(t,e){let n=Wq(t);return n!==ZP&&(n=ou),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Vce=new Set(["auto","none","0"]);function Bce(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Vce.has(a)&&ag(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=Zq(n,i)}class zce extends dN{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),rN(f))){const p=qq(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Hq.has(r)||e.length!==2)return;const[i,a]=e,o=hL(i),c=hL(a);if(o!==c)if(cL(o)&&cL(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else pd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Ice(e[i]))&&r.push(i);r.length&&Bce(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=pd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Uce(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Yq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $ce(t){return hq(t)&&"offsetHeight"in t}const mL=30,Fce=t=>!isNaN(parseFloat(t));class qce{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ra.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ra.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Fce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J2);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mL);return mq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gh(t,e){return new qce(t,e)}const{schedule:pN}=Eq(queueMicrotask,!1),to={x:!1,y:!1};function Xq(){return to.x||to.y}function Hce(t){return t==="x"||t==="y"?to[t]?null:(to[t]=!0,()=>{to[t]=!1}):to.x||to.y?null:(to.x=to.y=!0,()=>{to.x=to.y=!1})}function Qq(t,e){const n=Uce(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function gL(t){return!(t.pointerType==="touch"||Xq())}function Gce(t,e,n={}){const[r,i,a]=Qq(t,n),o=c=>{if(!gL(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=g=>{gL(g)&&(f(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const Jq=(t,e)=>e?t===e?!0:Jq(t,e.parentElement):!1,mN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wce(t){return Kce.has(t.tagName)||t.tabIndex!==-1}const mb=new WeakSet;function yL(t){return e=>{e.key==="Enter"&&t(e)}}function V1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Zce=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=yL(()=>{if(mb.has(n))return;V1(n,"down");const i=yL(()=>{V1(n,"up")}),a=()=>V1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function vL(t){return mN(t)&&!Xq()}function Yce(t,e,n={}){const[r,i,a]=Qq(t,n),o=c=>{const d=c.currentTarget;if(!vL(c))return;mb.add(d);const f=e(d,c),p=(w,P)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),mb.has(d)&&mb.delete(d),vL(w)&&typeof f=="function"&&f(w,{success:P})},g=w=>{p(w,d===window||d===document||n.useGlobalTarget||Jq(d,w.target))},b=w=>{p(w,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),$ce(c)&&(c.addEventListener("focus",f=>Zce(f,i)),!Wce(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function e8(t){return hq(t)&&"ownerSVGElement"in t}function Xce(t){return e8(t)&&t.tagName==="svg"}const Yi=t=>!!(t&&t.getVelocity),Qce=[...Kq,Mr,ou],Jce=t=>Qce.find(Gq(t)),t8=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function eue(t=!0){const e=k.useContext(W2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=k.useId();k.useEffect(()=>{if(t)return i(a)},[t]);const o=k.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,o]:[!0]}const n8=k.createContext({strict:!1}),bL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yh={};for(const t in bL)yh[t]={isEnabled:e=>bL[t].some(n=>!!e[n])};function tue(t){for(const e in t)yh[e]={...yh[e],...t[e]}}const nue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nue.has(t)}let r8=t=>!Jb(t);function rue(t){typeof t=="function"&&(r8=e=>e.startsWith("on")?!Jb(e):t(e))}try{rue(require("@emotion/is-prop-valid").default)}catch{}function iue(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(r8(i)||n===!0&&Jb(i)||!e&&!Jb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Vx=k.createContext({});function Bx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sg(t){return typeof t=="string"||Array.isArray(t)}const gN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yN=["initial",...gN];function zx(t){return Bx(t.animate)||yN.some(e=>sg(t[e]))}function i8(t){return!!(zx(t)||t.variants)}function aue(t,e){if(zx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sg(n)?n:void 0,animate:sg(r)?r:void 0}}return t.inherit!==!1?e:{}}function sue(t){const{initial:e,animate:n}=aue(t,k.useContext(Vx));return k.useMemo(()=>({initial:e,animate:n}),[xL(e),xL(n)])}function xL(t){return Array.isArray(t)?t.join(" "):t}const og={};function oue(t){for(const e in t)og[e]=t[e],nN(e)&&(og[e].isCSSVariable=!0)}function a8(t,{layout:e,layoutId:n}){return ap.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!og[t]||t==="opacity")}const lue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cue=ip.length;function uue(t,e,n){let r="",i=!0;for(let a=0;a<cue;a++){const o=ip[a],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=Yq(c,hN[o]);if(!d){i=!1;const p=lue[o]||o;r+=`${p}(${f}) `}n&&(e[o]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function vN(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const d in e){const f=e[d];if(ap.has(d)){o=!0;continue}else if(nN(d)){i[d]=f;continue}else{const p=Yq(f,hN[d]);d.startsWith("origin")?(c=!0,a[d]=p):r[d]=p}}if(e.transform||(o||n?r.transform=uue(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;r.transformOrigin=`${d} ${f} ${p}`}}const bN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s8(t,e,n){for(const r in e)!Yi(e[r])&&!a8(r,n)&&(t[r]=e[r])}function due({transformTemplate:t},e){return k.useMemo(()=>{const n=bN();return vN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fue(t,e){const n=t.style||{},r={};return s8(r,n,t),Object.assign(r,due(t,e)),r}function hue(t,e){const n={},r=fue(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const pue={offset:"stroke-dashoffset",array:"stroke-dasharray"},mue={offset:"strokeDashoffset",array:"strokeDasharray"};function gue(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?pue:mue;t[a.offset]=wt.transform(-r);const o=wt.transform(e),c=wt.transform(n);t[a.array]=`${o} ${c}`}function o8(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,f,p){if(vN(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b}=t;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&gue(g,i,a,o,!1)}const l8=()=>({...bN(),attrs:{}}),c8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yue(t,e,n,r){const i=k.useMemo(()=>{const a=l8();return o8(a,e,c8(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};s8(a,t.style,t),i.style={...a,...i.style}}return i}const vue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xN(t){return typeof t!="string"||t.includes("-")?!1:!!(vue.indexOf(t)>-1||/[A-Z]/u.test(t))}function bue(t,e,n,{latestValues:r},i,a=!1){const c=(xN(t)?yue:hue)(e,r,i,t),d=iue(e,typeof t=="string",a),f=t!==k.Fragment?{...d,...c,ref:n}:{},{children:p}=e,g=k.useMemo(()=>Yi(p)?p.get():p,[p]);return k.createElement(t,{...f,children:g})}function _L(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _N(t,e,n,r){if(typeof e=="function"){const[i,a]=_L(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=_L(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function gb(t){return Yi(t)?t.get():t}function xue({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_ue(n,r,i,t),renderState:e()}}function _ue(t,e,n,r){const i={},a=r(t,{});for(const b in a)i[b]=gb(a[b]);let{initial:o,animate:c}=t;const d=zx(t),f=i8(t);e&&f&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const g=p?c:o;if(g&&typeof g!="boolean"&&!Bx(g)){const b=Array.isArray(g)?g:[g];for(let w=0;w<b.length;w++){const P=_N(t,b[w]);if(P){const{transitionEnd:T,transition:A,...C}=P;for(const D in C){let R=C[D];if(Array.isArray(R)){const $=p?R.length-1:0;R=R[$]}R!==null&&(i[D]=R)}for(const D in T)i[D]=T[D]}}}return i}const u8=t=>(e,n)=>{const r=k.useContext(Vx),i=k.useContext(W2),a=()=>xue(t,e,r,i);return n?a():tle(a)};function wN(t,e,n){const{style:r}=t,i={};for(const a in r)(Yi(r[a])||e.style&&Yi(e.style[a])||a8(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const wue=u8({scrapeMotionValuesFromProps:wN,createRenderState:bN});function d8(t,e,n){const r=wN(t,e,n);for(const i in t)if(Yi(t[i])||Yi(e[i])){const a=ip.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const Sue=u8({scrapeMotionValuesFromProps:d8,createRenderState:l8}),Tue=Symbol.for("motionComponentSymbol");function Uf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Aue(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Uf(n)&&(n.current=r))},[e])}const SN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Eue="framerAppearId",f8="data-"+SN(Eue),h8=k.createContext({});function Pue(t,e,n,r,i){const{visualElement:a}=k.useContext(Vx),o=k.useContext(n8),c=k.useContext(W2),d=k.useContext(t8).reducedMotion,f=k.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=k.useContext(h8);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Oue(f.current,n,i,g);const b=k.useRef(!1);k.useInsertionEffect(()=>{p&&b.current&&p.update(n,c)});const w=n[f8],P=k.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return nle(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),P.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!P.current&&p.animationState&&p.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),P.current=!1),p.enteringChildren=void 0)}),p}function Oue(t,e,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p8(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Uf(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function p8(t){if(t)return t.options.allowProjection!==!1?t.projection:p8(t.parent)}function B1(t,{forwardMotionProps:e=!1}={},n,r){n&&tue(n);const i=xN(t)?Sue:wue;function a(c,d){let f;const p={...k.useContext(t8),...c,layoutId:Cue(c)},{isStatic:g}=p,b=sue(c),w=i(c,g);if(!g&&K2){Nue();const P=jue(p);f=P.MeasureLayout,b.visualElement=Pue(t,w,p,r,P.ProjectionNode)}return m.jsxs(Vx.Provider,{value:b,children:[f&&b.visualElement?m.jsx(f,{visualElement:b.visualElement,...p}):null,bue(t,c,Aue(w,b.visualElement,d),w,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=k.forwardRef(a);return o[Tue]=t,o}function Cue({layoutId:t}){const e=k.useContext(dq).id;return e&&t!==void 0?e+"-"+t:t}function Nue(t,e){k.useContext(n8).strict}function jue(t){const{drag:e,layout:n}=yh;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Iue(t,e){if(typeof Proxy>"u")return B1;const n=new Map,r=(a,o)=>B1(a,o,t,e),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(n.has(o)||n.set(o,B1(o,void 0,t,e)),n.get(o))})}function m8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Rue({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mue(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function z1(t){return t===void 0||t===1}function YP({scale:t,scaleX:e,scaleY:n}){return!z1(t)||!z1(e)||!z1(n)}function td(t){return YP(t)||g8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g8(t){return wL(t.x)||wL(t.y)}function wL(t){return t&&t!=="0%"}function e0(t,e,n){const r=t-n,i=e*r;return n+i}function SL(t,e,n,r,i){return i!==void 0&&(t=e0(t,i,r)),e0(t,n,r)+e}function XP(t,e=0,n=1,r,i){t.min=SL(t.min,e,n,r,i),t.max=SL(t.max,e,n,r,i)}function y8(t,{x:e,y:n}){XP(t.x,e.translate,e.scale,e.originPoint),XP(t.y,n.translate,n.scale,n.originPoint)}const TL=.999999999999,AL=1.0000000000001;function Due(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=n[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ff(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,y8(t,o)),r&&td(a.latestValues)&&Ff(t,a.latestValues))}e.x<AL&&e.x>TL&&(e.x=1),e.y<AL&&e.y>TL&&(e.y=1)}function $f(t,e){t.min=t.min+e,t.max=t.max+e}function EL(t,e,n,r,i=.5){const a=ar(t.min,t.max,i);XP(t,e,n,a,r)}function Ff(t,e){EL(t.x,e.x,e.scaleX,e.scale,e.originX),EL(t.y,e.y,e.scaleY,e.scale,e.originY)}function v8(t,e){return m8(Mue(t.getBoundingClientRect(),e))}function kue(t,e,n){const r=v8(t,n),{scroll:i}=e;return i&&($f(r.x,i.offset.x),$f(r.y,i.offset.y)),r}const PL=()=>({translate:0,scale:1,origin:0,originPoint:0}),qf=()=>({x:PL(),y:PL()}),OL=()=>({min:0,max:0}),Sr=()=>({x:OL(),y:OL()}),QP={current:null},b8={current:!1};function Lue(){if(b8.current=!0,!!K2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>QP.current=t.matches;t.addEventListener("change",e),e()}else QP.current=!1}const Vue=new WeakMap;function Bue(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Yi(i))t.addValue(r,i);else if(Yi(a))t.addValue(r,gh(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,gh(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zue{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ra.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Qn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=zx(n),this.isVariantNode=i8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const w=g[b];d[b]!==void 0&&Yi(w)&&w.set(d[b])}}mount(e){this.current=e,Vue.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b8.current||Lue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QP.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),su(this.notifyUpdate),su(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ap.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yh){const n=yh[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CL.length;r++){const i=CL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Bue(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=gh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fq(r)||pq(r))?r=parseFloat(r):!Jce(r)&&ou.test(n)&&(r=Zq(e,n)),this.setBaseTarget(e,Yi(r)?r.get():r)),Yi(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=_N(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Yi(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pN.render(this.render)}}class x8 extends zue{constructor(){super(...arguments),this.KeyframeResolver=zce}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _8(t,{style:e,vars:n},r,i){const a=t.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,r);for(o in n)a.setProperty(o,n[o])}function Uue(t){return window.getComputedStyle(t)}class $ue extends x8{constructor(){super(...arguments),this.type="html",this.renderInstance=_8}readValueFromInstance(e,n){if(ap.has(n))return this.projection?.isProjecting?FP(n):ace(e,n);{const r=Uue(e),i=(nN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return v8(e,n)}build(e,n,r){vN(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wN(e,n,r)}}const w8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fue(t,e,n,r){_8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(w8.has(i)?i:SN(i),e.attrs[i])}class que extends x8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ap.has(n)){const r=Wq(n);return r&&r.default||0}return n=w8.has(n)?n:SN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return d8(e,n,r)}build(e,n,r){o8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Fue(e,n,r,i)}mount(e){this.isSVGTag=c8(e.tagName),super.mount(e)}}const Hue=(t,e)=>xN(t)?new que(e):new $ue(e,{allowProjection:t!==k.Fragment});function th(t,e,n){const r=t.getProps();return _N(r,e,n!==void 0?n:r.custom,t)}const JP=t=>Array.isArray(t);function Gue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gh(n))}function Kue(t){return JP(t)?t[t.length-1]||0:t}function Wue(t,e){const n=th(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const c=Kue(a[o]);Gue(t,o,c)}}function Zue(t){return!!(Yi(t)&&t.add)}function eO(t,e){const n=t.getValue("willChange");if(Zue(n))return n.add(e);if(!n&&Gl.WillChange){const r=new Gl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function S8(t){return t.props[f8]}const Yue=t=>t!==null;function Xue(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Yue),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const Que={type:"spring",stiffness:500,damping:25,restSpeed:10},Jue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ede={type:"keyframes",duration:.8},tde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nde=(t,{keyframes:e})=>e.length>2?ede:ap.has(t)?t.startsWith("scale")?Jue(e[1]):Que:tde;function rde({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const TN=(t,e,n,r={},i,a)=>o=>{const c=fN(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Fo(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:b=>{e.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};rde(c)||Object.assign(p,nde(t,p)),p.duration&&(p.duration=Fo(p.duration)),p.repeatDelay&&(p.repeatDelay=Fo(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(WP(p),p.delay===0&&(g=!0)),(Gl.instantAnimations||Gl.skipAnimations)&&(g=!0,WP(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!a&&e.get()!==void 0){const b=Xue(p.keyframes,c);if(b!==void 0){Qn.update(()=>{p.onUpdate(b),p.onComplete()});return}}return c.isSync?new uN(p):new Oce(p)};function ide({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function T8(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),b=c[p];if(b===void 0||f&&ide(f,p))continue;const w={delay:n,...fN(a||{},p)},P=g.get();if(P!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===P&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const C=S8(t);if(C){const D=window.MotionHandoffAnimation(C,p,Qn);D!==null&&(w.startTime=D,T=!0)}}eO(t,p),g.start(TN(p,g,b,t.shouldReduceMotion&&Hq.has(p)?{type:!1}:w,t,T));const A=g.animation;A&&d.push(A)}return o&&Promise.all(d).then(()=>{Qn.update(()=>{o&&Wue(t,o)})}),d}function A8(t,e,n,r=0,i=1){const a=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),o=t.size,c=(o-1)*r;return typeof n=="function"?n(a,o):i===1?a*r:c-a*r}function tO(t,e,n={}){const r=th(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(T8(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return ade(t,e,d,f,p,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function ade(t,e,n=0,r=0,i=0,a=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(tO(d,e,{...o,delay:n+(typeof r=="function"?0:r)+A8(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function sde(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>tO(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=tO(t,e,n);else{const i=typeof e=="function"?th(t,e,n.custom):e;r=Promise.all(T8(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function E8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ode=yN.length;function P8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ode;n++){const r=yN[n],i=t.props[r];(sg(i)||i===!1)&&(e[r]=i)}return e}const lde=[...gN].reverse(),cde=gN.length;function ude(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sde(t,n,r)))}function dde(t){let e=ude(t),n=NL(),r=!0;const i=d=>(f,p)=>{const g=th(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:w,...P}=g;f={...f,...P,...w}}return f};function a(d){e=d(t)}function o(d){const{props:f}=t,p=P8(t.parent)||{},g=[],b=new Set;let w={},P=1/0;for(let A=0;A<cde;A++){const C=lde[A],D=n[C],R=f[C]!==void 0?f[C]:p[C],$=sg(R),I=C===d?D.isActive:null;I===!1&&(P=A);let B=R===p[C]&&R!==f[C]&&$;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),D.protectedKeys={...w},!D.isActive&&I===null||!R&&!D.prevProp||Bx(R)||typeof R=="boolean")continue;const N=fde(D.prevProp,R);let j=N||C===d&&D.isActive&&!B&&$||A>P&&$,V=!1;const K=Array.isArray(R)?R:[R];let q=K.reduce(i(C),{});I===!1&&(q={});const{prevResolvedValues:H={}}=D,z={...H,...q},ie=re=>{j=!0,b.has(re)&&(V=!0,b.delete(re)),D.needsAnimating[re]=!0;const ee=t.getValue(re);ee&&(ee.liveStyle=!1)};for(const re in z){const ee=q[re],le=H[re];if(w.hasOwnProperty(re))continue;let oe=!1;JP(ee)&&JP(le)?oe=!E8(ee,le):oe=ee!==le,oe?ee!=null?ie(re):b.add(re):ee!==void 0&&b.has(re)?ie(re):D.protectedKeys[re]=!0}D.prevProp=R,D.prevResolvedValues=q,D.isActive&&(w={...w,...q}),r&&t.blockInitialAnimation&&(j=!1);const de=B&&N;j&&(!de||V)&&g.push(...K.map(re=>{const ee={type:C};if(typeof re=="string"&&r&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,oe=th(le,re);if(le.enteringChildren&&oe){const{delayChildren:Q}=oe.transition||{};ee.delay=A8(le.enteringChildren,t,Q)}}return{animation:re,options:ee}}))}if(b.size){const A={};if(typeof f.initial!="boolean"){const C=th(t,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(A.transition=C.transition)}b.forEach(C=>{const D=t.getBaseTarget(C),R=t.getValue(C);R&&(R.liveStyle=!0),A[C]=D??null}),g.push({animation:A})}let T=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),n[d].isActive=f;const p=o(d);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=NL()}}}function fde(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!E8(e,t):!1}function Zu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NL(){return{animate:Zu(!0),whileInView:Zu(),whileHover:Zu(),whileTap:Zu(),whileDrag:Zu(),whileFocus:Zu(),exit:Zu()}}class hu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hde extends hu{constructor(e){super(e),e.animationState||(e.animationState=dde(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pde=0;class mde extends hu{constructor(){super(...arguments),this.id=pde++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gde={animation:{Feature:hde},exit:{Feature:mde}};function lg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ly(t){return{point:{x:t.pageX,y:t.pageY}}}const yde=t=>e=>mN(e)&&t(e,ly(e));function Rm(t,e,n,r){return lg(t,e,yde(n),r)}const O8=1e-4,vde=1-O8,bde=1+O8,C8=.01,xde=0-C8,_de=0+C8;function fa(t){return t.max-t.min}function wde(t,e,n){return Math.abs(t-e)<=n}function jL(t,e,n,r=.5){t.origin=r,t.originPoint=ar(e.min,e.max,t.origin),t.scale=fa(n)/fa(e),t.translate=ar(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vde&&t.scale<=bde||isNaN(t.scale))&&(t.scale=1),(t.translate>=xde&&t.translate<=_de||isNaN(t.translate))&&(t.translate=0)}function Mm(t,e,n,r){jL(t.x,e.x,n.x,r?r.originX:void 0),jL(t.y,e.y,n.y,r?r.originY:void 0)}function IL(t,e,n){t.min=n.min+e.min,t.max=t.min+fa(e)}function Sde(t,e,n){IL(t.x,e.x,n.x),IL(t.y,e.y,n.y)}function RL(t,e,n){t.min=e.min-n.min,t.max=t.min+fa(e)}function Dm(t,e,n){RL(t.x,e.x,n.x),RL(t.y,e.y,n.y)}function Os(t){return[t("x"),t("y")]}const N8=({current:t})=>t?t.ownerDocument.defaultView:null,ML=(t,e)=>Math.abs(t-e);function Tde(t,e){const n=ML(t.x,e.x),r=ML(t.y,e.y);return Math.sqrt(n**2+r**2)}class j8{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=$1(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,P=Tde(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!P)return;const{point:T}=b,{timestamp:A}=Pi;this.history.push({...T,timestamp:A});const{onStart:C,onMove:D}=this.handlers;w||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=U1(w,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:P,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=$1(b.type==="pointercancel"?this.lastMoveEventInfo:U1(w,this.transformPagePoint),this.history);this.startEvent&&P&&P(b,C),T&&T(b,C)},!mN(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=ly(e),d=U1(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=Pi;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,$1(d,this.history)),this.removeListeners=ay(Rm(this.contextWindow,"pointermove",this.handlePointerMove),Rm(this.contextWindow,"pointerup",this.handlePointerUp),Rm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),su(this.updatePoint)}}function U1(t,e){return e?{point:e(t.point)}:t}function DL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $1({point:t},e){return{point:t,delta:DL(t,I8(e)),offset:DL(t,Ade(e)),velocity:Ede(e,.1)}}function Ade(t){return t[0]}function I8(t){return t[t.length-1]}function Ede(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=I8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Fo(e)));)n--;if(!r)return{x:0,y:0};const a=Ms(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pde(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ar(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ar(n,t,r.max):Math.min(t,n)),t}function kL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ode(t,{top:e,left:n,bottom:r,right:i}){return{x:kL(t.x,n,i),y:kL(t.y,e,r)}}function LL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Cde(t,e){return{x:LL(t.x,e.x),y:LL(t.y,e.y)}}function Nde(t,e){let n=.5;const r=fa(t),i=fa(e);return i>r?n=rg(e.min,e.max-r,t.min):r>i&&(n=rg(t.min,t.max-i,e.min)),Hl(0,1,n)}function jde(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const nO=.35;function Ide(t=nO){return t===!1?t=0:t===!0&&(t=nO),{x:VL(t,"left","right"),y:VL(t,"top","bottom")}}function VL(t,e,n){return{min:BL(t,e),max:BL(t,n)}}function BL(t,e){return typeof t=="number"?t:t[e]||0}const Rde=new WeakMap;class Mde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ly(g).point)},o=(g,b)=>{const{drag:w,dragPropagation:P,onDragStart:T}=this.getProps();if(w&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hce(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(C=>{let D=this.getAxisMotionValue(C).get()||0;if(qo.test(D)){const{projection:R}=this.visualElement;if(R&&R.layout){const $=R.layout.layoutBox[C];$&&(D=fa($)*(parseFloat(D)/100))}}this.originPoint[C]=D}),T&&Qn.postRender(()=>T(g,b)),eO(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:P,onDirectionLock:T,onDrag:A}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:C}=b;if(P&&this.currentDirection===null){this.currentDirection=Dde(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),A&&A(g,b)},d=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Os(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new j8(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:N8(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Qn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Bv(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Pde(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Uf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Ode(r.layoutBox,e):this.constraints=!1,this.elastic=Ide(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Os(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=jde(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Uf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=kue(r,i.root,this.visualElement.getTransformPagePoint());let o=Cde(i.layout.layoutBox,a);if(n){const c=n(Rue(o));this.hasMutatedConstraints=!!c,c&&(o=m8(c))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Os(p=>{if(!Bv(p,n,this.currentDirection))return;let g=d&&d[p]||{};o&&(g={min:0,max:0});const b=i?200:1e6,w=i?40:1e7,P={type:"inertia",velocity:r?e[p]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,P)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return eO(this.visualElement,e),r.start(TN(e,r,0,n,this.visualElement,!1))}stopAnimation(){Os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Os(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Os(n=>{const{drag:r}=this.getProps();if(!Bv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[n];a.set(e[n]-ar(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Os(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=Nde({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Os(o=>{if(!Bv(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];c.set(ar(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;Rde.set(this.visualElement,this);const e=this.visualElement.current,n=Rm(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Uf(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qn.read(r);const o=lg(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Os(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=nO,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function Bv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dde(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kde extends hu{constructor(e){super(e),this.removeGroupControls=Ls,this.removeListeners=Ls,this.controls=new Mde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ls}unmount(){this.removeGroupControls(),this.removeListeners()}}const zL=t=>(e,n)=>{t&&Qn.postRender(()=>t(e,n))};class Lde extends hu{constructor(){super(...arguments),this.removePointerDownListener=Ls}onPointerDown(e){this.session=new j8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:N8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:zL(e),onStart:zL(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Qn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Rm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(wt.test(t))t=parseFloat(t);else return t;const n=UL(t,e.target.x),r=UL(t,e.target.y);return`${n}% ${r}%`}},Vde={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ou.parse(t);if(i.length>5)return r;const a=ou.createTransformer(t),o=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+o]/=c,i[1+o]/=d;const f=ar(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),a(i)}};let F1=!1;class Bde extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;oue(zde),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),F1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,F1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Qn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;F1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function R8(t){const[e,n]=eue(),r=k.useContext(dq);return m.jsx(Bde,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(h8),isPresent:e,safeToRemove:n})}const zde={borderRadius:{...Jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jp,borderTopRightRadius:Jp,borderBottomLeftRadius:Jp,borderBottomRightRadius:Jp,boxShadow:Vde};function Ude(t,e,n){const r=Yi(t)?t:gh(t);return r.start(TN("",r,e,n)),r.animation}const $de=(t,e)=>t.depth-e.depth;class Fde{constructor(){this.children=[],this.isDirty=!1}add(e){Z2(this.children,e),this.isDirty=!0}remove(e){Y2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($de),this.isDirty=!1,this.children.forEach(e)}}function qde(t,e){const n=Ra.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(su(r),t(a-e))};return Qn.setup(r,!0),()=>su(r)}const M8=["TopLeft","TopRight","BottomLeft","BottomRight"],Hde=M8.length,$L=t=>typeof t=="string"?parseFloat(t):t,FL=t=>typeof t=="number"||wt.test(t);function Gde(t,e,n,r,i,a){i?(t.opacity=ar(0,n.opacity??1,Kde(r)),t.opacityExit=ar(e.opacity??1,0,Wde(r))):a&&(t.opacity=ar(e.opacity??1,n.opacity??1,r));for(let o=0;o<Hde;o++){const c=`border${M8[o]}Radius`;let d=qL(e,c),f=qL(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||FL(d)===FL(f)?(t[c]=Math.max(ar($L(d),$L(f),r),0),(qo.test(f)||qo.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=ar(e.rotate||0,n.rotate||0,r))}function qL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kde=D8(0,.5,wq),Wde=D8(.5,.95,Ls);function D8(t,e,n){return r=>r<t?0:r>e?1:n(rg(t,e,r))}function HL(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){HL(t.x,e.x),HL(t.y,e.y)}function GL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function KL(t,e,n,r,i){return t-=e,t=e0(t,1/n,r),i!==void 0&&(t=e0(t,1/i,r)),t}function Zde(t,e=0,n=1,r=.5,i,a=t,o=t){if(qo.test(e)&&(e=parseFloat(e),e=ar(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=ar(a.min,a.max,r);t===a&&(c-=e),t.min=KL(t.min,e,n,c,i),t.max=KL(t.max,e,n,c,i)}function WL(t,e,[n,r,i],a,o){Zde(t,e[n],e[r],e[i],e.scale,a,o)}const Yde=["x","scaleX","originX"],Xde=["y","scaleY","originY"];function ZL(t,e,n,r){WL(t.x,e,Yde,n?n.x:void 0,r?r.x:void 0),WL(t.y,e,Xde,n?n.y:void 0,r?r.y:void 0)}function YL(t){return t.translate===0&&t.scale===1}function k8(t){return YL(t.x)&&YL(t.y)}function XL(t,e){return t.min===e.min&&t.max===e.max}function Qde(t,e){return XL(t.x,e.x)&&XL(t.y,e.y)}function QL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function L8(t,e){return QL(t.x,e.x)&&QL(t.y,e.y)}function JL(t){return fa(t.x)/fa(t.y)}function e3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Jde{constructor(){this.members=[]}add(e){Z2(this.members,e),e.scheduleRender()}remove(e){if(Y2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function efe(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:b,skewX:w,skewY:P}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),P&&(r+=`skewY(${P}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const q1=["","X","Y","Z"],tfe=1e3;let nfe=0;function H1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function V8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=S8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qn,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&V8(r)}function B8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=nfe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(afe),this.nodes.forEach(cfe),this.nodes.forEach(ufe),this.nodes.forEach(sfe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fde)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new J2),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=e8(o)&&!Xce(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const b=()=>this.root.updateBlockedByResize=!1;Qn.read(()=>{g=window.innerWidth}),t(o,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,p&&p(),p=qde(b,250),yb.hasAnimatedSinceResize&&(yb.hasAnimatedSinceResize=!1,this.nodes.forEach(r3)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||f.getDefaultTransition()||mfe,{onLayoutAnimationStart:T,onLayoutAnimationComplete:A}=f.getProps(),C=!this.targetLayout||!L8(this.targetLayout,w),D=!g&&b;if(this.options.layoutRoot||this.resumeFrom||D||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...fN(P,"layout"),onPlay:T,onComplete:A};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(p,D)}else g||r3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),su(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dfe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&V8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lfe),this.nodes.forEach(rfe),this.nodes.forEach(ife)):this.nodes.forEach(n3),this.clearAllSnapshots();const c=Ra.now();Pi.delta=Hl(0,1e3/60,c-Pi.timestamp),Pi.timestamp=c,Pi.isProcessing=!0,R1.update.process(Pi),R1.preRender.process(Pi),R1.render.process(Pi),Pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ofe),this.sharedNodes.forEach(ffe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fa(this.snapshot.measuredBox.x)&&!fa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!k8(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;o&&this.instance&&(c||td(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),gfe(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Sr();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yfe))){const{scroll:f}=this.root;f&&($f(c.x,f.offset.x),$f(c.y,f.offset.y))}return c}removeElementScroll(o){const c=Sr();if(Ss(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ss(c,o),$f(c.x,p.offset.x),$f(c.y,p.offset.y))}return c}applyTransform(o,c=!1){const d=Sr();Ss(d,o);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ff(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),td(p.latestValues)&&Ff(d,p.latestValues)}return td(this.latestValues)&&Ff(d,this.latestValues),d}removeTransform(o){const c=Sr();Ss(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!td(f.latestValues))continue;YP(f.latestValues)&&f.updateSnapshot();const p=Sr(),g=f.measurePageBox();Ss(p,g),ZL(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return td(this.latestValues)&&ZL(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Pi.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),Dm(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sr(),this.targetWithTransforms=Sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),y8(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),Dm(this.relativeTargetOrigin,this.target,b.target),Ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||YP(this.parent.latestValues)||g8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pi.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ss(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;Due(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Sr());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GL(this.prevProjectionDelta.x,this.projectionDelta.x),GL(this.prevProjectionDelta.y,this.projectionDelta.y)),Mm(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!e3(this.projectionDelta.x,this.prevProjectionDelta.x)||!e3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qf(),this.projectionDelta=qf(),this.projectionDeltaWithTransform=qf()}setAnimationOrigin(o,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},g=qf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Sr(),w=d?d.source:void 0,P=this.layout?this.layout.source:void 0,T=w!==P,A=this.getStack(),C=!A||A.members.length<=1,D=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(pfe));this.animationProgress=0;let R;this.mixTargetDelta=$=>{const I=$/1e3;i3(g.x,o.x,I),i3(g.y,o.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dm(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hfe(this.relativeTarget,this.relativeTargetOrigin,b,I),R&&Qde(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Sr()),Ss(R,this.relativeTarget)),T&&(this.animationValues=p,Gde(p,f,this.latestValues,I,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(su(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{yb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gh(0)),this.currentAnimation=Ude(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tfe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=o;if(!(!c||!d||!f)){if(this!==o&&this.layout&&f&&z8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Sr();const g=fa(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const b=fa(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+b}Ss(c,d),Ff(c,p),Mm(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Jde),this.sharedNodes.get(o).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&H1("z",o,f,this.animationValues);for(let p=0;p<q1.length;p++)H1(`rotate${q1[p]}`,o,f,this.animationValues),H1(`skew${q1[p]}`,o,f,this.animationValues);o.render();for(const p in f)o.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=gb(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=gb(c?.pointerEvents)||""),this.hasProjected&&!td(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=efe(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),o.transform=g;const{x:b,y:w}=this.projectionDelta;o.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,f.animationValues?o.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const P in og){if(p[P]===void 0)continue;const{correct:T,applyTo:A,isCSSVariable:C}=og[P],D=g==="none"?p[P]:T(p[P],f);if(A){const R=A.length;for(let $=0;$<R;$++)o[A[$]]=D}else C?this.options.visualElement.renderState.vars[P]=D:o[P]=D}this.options.layoutId&&(o.pointerEvents=f===this?gb(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(t3),this.root.sharedNodes.clear()}}}function rfe(t){t.updateLayout()}function ife(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Os(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],b=fa(g);g.min=n[p].min,g.max=g.min+b}):z8(i,e.layoutBox,n)&&Os(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],b=fa(n[p]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+b)});const o=qf();Mm(o,n,e.layoutBox);const c=qf();a?Mm(c,t.applyTransform(r,!0),e.measuredBox):Mm(c,n,e.layoutBox);const d=!k8(o);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const w=Sr();Dm(w,e.layoutBox,g.layoutBox);const P=Sr();Dm(P,n,b.layoutBox),L8(w,P)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function afe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sfe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ofe(t){t.clearSnapshot()}function t3(t){t.clearMeasurements()}function n3(t){t.isLayoutDirty=!1}function lfe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cfe(t){t.resolveTargetDelta()}function ufe(t){t.calcProjection()}function dfe(t){t.resetSkewAndRotation()}function ffe(t){t.removeLeadSnapshot()}function i3(t,e,n){t.translate=ar(e.translate,0,n),t.scale=ar(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function a3(t,e,n,r){t.min=ar(e.min,n.min,r),t.max=ar(e.max,n.max,r)}function hfe(t,e,n,r){a3(t.x,e.x,n.x,r),a3(t.y,e.y,n.y,r)}function pfe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mfe={duration:.45,ease:[.4,0,.1,1]},s3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o3=s3("applewebkit/")&&!s3("chrome/")?Math.round:Ls;function l3(t){t.min=o3(t.min),t.max=o3(t.max)}function gfe(t){l3(t.x),l3(t.y)}function z8(t,e,n){return t==="position"||t==="preserve-aspect"&&!wde(JL(e),JL(n),.2)}function yfe(t){return t!==t.root&&t.scroll?.wasRoot}const vfe=B8({attachResizeListener:(t,e)=>lg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),G1={current:void 0},U8=B8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!G1.current){const t=new vfe({});t.mount(window),t.setOptions({layoutScroll:!0}),G1.current=t}return G1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),bfe={pan:{Feature:Lde},drag:{Feature:kde,ProjectionNode:U8,MeasureLayout:R8}};function c3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Qn.postRender(()=>a(e,ly(e)))}class xfe extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=Gce(e,(n,r)=>(c3(this.node,r,"Start"),i=>c3(this.node,i,"End"))))}unmount(){}}class _fe extends hu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ay(lg(this.node.current,"focus",()=>this.onFocus()),lg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Qn.postRender(()=>a(e,ly(e)))}class wfe extends hu{mount(){const{current:e}=this.node;e&&(this.unmount=Yce(e,(n,r)=>(u3(this.node,r,"Start"),(i,{success:a})=>u3(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rO=new WeakMap,K1=new WeakMap,Sfe=t=>{const e=rO.get(t.target);e&&e(t)},Tfe=t=>{t.forEach(Sfe)};function Afe({root:t,...e}){const n=t||document;K1.has(n)||K1.set(n,{});const r=K1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Tfe,{root:t,...e})),r[i]}function Efe(t,e,n){const r=Afe(e);return rO.set(t,n),r.observe(t),()=>{rO.delete(t),r.unobserve(t)}}const Pfe={some:0,all:1};class Ofe extends hu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Pfe[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),b=f?p:g;b&&b(d)};return Efe(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cfe(e,n))&&this.startObserver()}unmount(){}}function Cfe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Nfe={inView:{Feature:Ofe},tap:{Feature:wfe},focus:{Feature:_fe},hover:{Feature:xfe}},jfe={layout:{ProjectionNode:U8,MeasureLayout:R8}},Ife={...gde,...Nfe,...bfe,...jfe},Ol=Iue(Ife,Hue),t0={en:{home:"Home",cart:"Cart",profile:"Profile",search:"Search",categories:"Categories",products:"Products",noProducts:"No products available",all:"All",searchPlaceholder:"Search products...",activeDeals:"Active Deals",noActiveDeals:"No active deals",addToCart:"Add to Cart",unavailable:"Unavailable",available:"Available",availableNow:"Available Now",notAvailable:"Not Available",addingToCart:"Adding to Cart...",details:"Details",quantity:"Quantity",selectColor:"Select Color",selectSize:"Select Size",selectUnit:"Select Unit",price:"Price",description:"Description",yourCart:"Your Cart",cartEmpty:"Your cart is empty",subtotal:"Subtotal",total:"Total",checkout:"Checkout",removeItem:"Remove Item",checkoutPage:"Checkout",paymentMethod:"Payment Method",cardPayment:"Card Payment",cashOnDelivery:"Cash on Delivery",deliveryAddress:"Delivery Address",completeOrder:"Complete Order",account:"Account",admin:"Admin",myOrders:"My Orders",notifications:"Notifications",helpSupport:"Help & Support",logout:"Logout",language:"Language",delivery:"Delivery",orders:"Orders",users:"Users",storeSettings:"Store Settings",shippingZones:"Shipping Zones",analytics:"Analytics",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",add:"Add",update:"Update",filter:"Filter",loading:"Loading...",error:"Error",success:"Success",addedToCart:"Added to cart successfully",productNotAvailable:"This product is not available",failedToAddCart:"Failed to add to cart",failedToCheckout:"Failed to complete checkout",orderPlaced:"Order placed successfully",profileUpdated:"Profile updated successfully",productUpdated:"Product updated successfully",productAdded:"Product added successfully",productDeleted:"Product deleted successfully",pending:"Pending",shipped:" Shipped",received:" Received",completed:" Completed",cancelled:"Cancelled",markAsReceived:"Mark as Received",deliveryLocation:"Delivery Location",driverLocation:"Driver Location",loadingMap:"Loading map...",noLocationInfo:"No location info",deliveredMapUnavailable:"Delivered - Map unavailable",cancelledMapUnavailable:"Cancelled - Map unavailable",copied:"Copied!",copyRules:"Copy Rules",backToApp:"Back to App",setupNotifications:"Setup Notifications",needHelp:"Need Help?",complete:"Complete your purchase",orderSummary:"Order Summary",unit:"Unit:",size:"Size:",color:"Color:",original:"Original:",discount:"Discount:",shippingCost:"Shipping:",deliveryMethod:"Delivery Method",savedAddress:"Saved Address",useSavedAddress:"Use saved address",enterDifferentDetails:"Enter different details",orderInformation:"Order Information",deliveryInformation:"Delivery Information",name:"Name",fullName:"Your full name",recipientName:"Recipient's name",phone:"Phone",fullPhone:"+201012345678",chooseFromMap:" Choose from Map",closeMap:" Close Map",locationSet:" Location set",fullAddress:"Full Address",enterAddress:"Street, District, City or choose from map",savedAddressLabel:"Saved Address",savedAddressPlaceholder:"Your saved address",email:"Email",loadingZones:" Loading zones...",noZonesAvailable:"No zones available",selectDeliveryZone:"-- Select delivery zone --",payOnDelivery:"Pay on Delivery",creditCard:"Credit Card",cardDetails:"Card Details",cardNamePlaceholder:"Your name as shown on card",additionalNotes:"Additional Notes (Optional)",notesPlaceholder:"Any special notes for the order?",processing:" Processing...",orderNow:" Order Now - L.E",resetDescription:"Enter your email and we'll send you a password reset link",emailNotConfigured:"Email not configured in Firebase settings",sendResetError:"Failed to send reset email",deliveryZone:"Delivery Zone",createNewAccount:"Create New Account",welcomeBack:"Welcome Back",createAccountMsg:"Create your account to get started",loginAccountMsg:"Login to your account",login:"Login",signUp:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",category:"Category",options:"Options",recipientLabel:"Recipient",notes:"Notes",discountLabel:"Discount",afterDiscount:"After Discount",customerInformation:"Customer Information",orderStatistics:"Order Statistics",completedOrders:"Completed Orders",totalOrders:"Total Orders",completedOrdersValue:"Completed Orders Value",deliveryOrders:"Delivery Orders",noOrdersToDeliver:"No orders to deliver",allOrders:"All",confirmDelivery:"Confirm Delivery",deliveryRemarks:"Delivery Remarks (Optional)",deliveryRemarksPlaceholder:"e.g., Door locked, left at store...",confirm:"Confirm",statusUpdated:"Status updated successfully",statusUpdateFailed:"Failed to update status",enterRecipientName:"Please enter recipient name",deliveryDriver:"Delivery Driver",deliveryRemarksLabel:"Delivery Remarks",enterName:"Enter name",enterPhone:"Enter phone",selectAllOptions:"Select all options",selectLocationFromMap:"Please select location from map",errorNoCoordinates:"Error: No coordinates available",dataError:"Error in data",cardNumberLabel:"Card Number",expiryLabel:"Expiry",cvvLabel:"CVV",cardholderName:"Cardholder Name",newAddress:"New Address",cannotAccessLocation:"Cannot access current location",deliveryLocationLabel:"Delivery Location",yourLocationLabel:"Your Location",orderShipped:" Order Shipped",orderShippedMessage:"Your order has been shipped and is on its way",outForDelivery:" Out for Delivery",outForDeliveryMessage:"Your order is out for delivery",delivered:" Delivered",deliveredMessage:"Your order has been delivered",backButton:"Back",orderNotFound:"Order not found",navigate:"Navigate",centerMap:"Center map",openMap:"Open",loadingMapMessage:"Loading map...",noLocationInfoMessage:"No location info",deliveredMapUnavailableMessage:"Delivered - Map unavailable",deliveryInfoTitle:"Delivery Info",address:"Address",customer:"Customer",recipient:"Recipient",driver:"Delivery Driver",remarks:"Delivery Remarks",itemsTitle:"Items",activeNavigation:"Active Navigation",routeInfo:"Route Info",remainingDistance:"Remaining",distance:"Distance",estimatedTime:"Estimated Time",minute:"min",status:"Status",inTransit:"In Transit",payment:"Payment",shippingZoneLabel:"Shipping Zone",notesLabel:"Notes",priceBreakdown:"Price Breakdown",subtotalLabel:"Subtotal",shippingLabel:"Shipping",totalLabel:"Total",errorPrefix:"Error",deliveryInformationLabel:"Delivery Information",nameLabel:"Name",afterDiscountLabel:"After Discount",customerInformationLabel:"Customer Information",emailLabel:"Email",orderStatisticsLabel:"Order Statistics",completedOrdersLabel:"Completed Orders",totalOrdersLabel:"Total Orders",completedOrdersValueLabel:"Completed Orders Value",backToAdmin:"Back to Admin",backToAccount:"Back to Account",selectDifferentStatus:"Select different status",failedToUpdateOrder:"Failed to update order",changeStatus:"Change Status",selectDelivery:"Select Delivery",noDeliveryAvailable:"No delivery users available",editMode:"(Edit Mode)",additionalImages:"Additional Images",clickToDeleteImage:"Click to delete image",failedToSaveProduct:"Failed to save product",fillAllFields:"Please fill all fields",updating:"Updating...",adding:"Adding...",confirmed:" Confirmed",completedOrder:" Completed",cancelledOrder:" Cancelled",userRole:" User",adminRole:" Admin",deliveryRole:" Delivery",latitudeLabel:"Lat",longitudeLabel:"Lng",editProduct:"Edit Product",addNewProduct:"Add New Product",editShippingZone:"Edit Shipping Zone",addShippingZone:"Add Shipping Zone",updateZone:"Update Zone",addZone:"Add Zone",saveAddress:"Save Address",saving:"Saving...",noItemsCheckout:"No items to checkout",noOrdersYet:"No orders yet",noItems:"No items",selectStatus:"Select Status",firebaseConfig:"Firebase Configuration",storeAddress:"Store Address",totalSpent:"Total Spent",backToCart:"Back to Cart",selectPaymentMethod:"Select Payment Method",payWithCard:"Pay with Card",instantPayment:"Instant payment with debit/credit card",payWhenArrives:"Pay when your order arrives",changeMethod:" Change Method",shippingAddress:"Shipping Address",cartIsEmpty:"Your cart is empty",continueShoppingButton:"Continue Shopping",proceedToPayment:"Proceed to Payment",adminPanel:"Admin Panel",ordersPanel:"Orders",usersPanel:"Users",productsPanel:"Products",categoriesPanel:"Categories",shippingZonesPanel:"Shipping Zones",analyticsPanel:"Analytics",firebaseSettings:"Firebase Settings",filterByStatus:"Filter by Status",changeRole:"Change Role",addNewCategory:"Add New Category",noCategoriesYet:"No categories yet",noUsersFound:"No users found",allTime:"All Time",mainAddress:"Main Address",phoneNumber:"Phone Number",productImage:"Product Image",orderNumber:"Order Number",items:"Items",orderDetails:"Order Details",deliveryInfo:"Delivery Information",zone:"Zone",searchByEmail:"Search users by email...",categoryNamePlaceholder:"Category name",productTitlePlaceholder:"Product Title",productDescPlaceholder:"Product Description (Optional)",pricePlaceholder:"Price",selectCategory:"Select Category",unitsLabel:"Units (Optional)",addUnitPlaceholder:"Add unit",sizesLabel:"Sizes (Optional)",addSizePlaceholder:"Add size",colorsLabel:"Colors (Optional)",colorNamePlaceholder:"Color name",addButton:"Add",editButton:"Edit",cancelButton:"Cancel",saveButton:"Save",deleteButton:"Delete",noItemsYet:"No items yet",salesAnalytics:"Sales Analytics",filterByPeriod:"Filter by Period",thisMonth:"This Month",thisYear:"This Year",totalRevenue:"Total Revenue",salesAmount:"Sales",shippingAmount:"Shipping",salesTrend:"Sales Trend",ordersByStatus:"Orders by Status",revenueByStatus:"Revenue by Status",streetAddressPlaceholder:"Street address",mainShippingZone:"Main Shipping Zone",mobileNumberPlaceholder:"Mobile number",orderDetailsLabel:"Order Details",deliveryInfoLabel:"Delivery Information",startShopping:"Start Shopping",noOrdersFound:"Your orders will appear here once you place one",storeLogo:"Store Logo",storeName:"Store Name",storePhone:"Store Phone",storeEmail:"Store Email",zoneNamePlaceholder:"Zone Name (e.g., Cairo, Alexandria)",shippingCostPlaceholder:"Shipping Cost",placedAt:"Placed:",saveStoreSettings:"Save Store Settings",storeAddressPlaceholder:"Store Address",discounts:"Discounts",addDiscount:"Add Discount",discountPercentage:"Discount %",startDate:"Start Date",endDate:"End Date",noDiscountsYet:"No discounts yet",activeDiscounts:"Active Discounts",discountSavings:"Discount Savings",shipping:"Shipping",streetAddress:"Street address",selectZone:"Select Zone",change:"Change",changeAddress:"Change Address",cardNumber:"Card Number",expiry:"Expiry",cvv:"CVV",securePayment:"Your payment is secure and encrypted",processingPayment:"Processing...",pay:"Pay",placeOrder:"Place Order",selectShippingAddressAndZone:"Please select shipping address and zone",invalidCardNumber:"Invalid card number",invalidExpiryDate:"Invalid expiry date",invalidCVV:"Invalid CVV",enterCardholderName:"Please enter cardholder name",forgotPassword:"Forgot Your Password?",resetPassword:"Reset Password",enterEmail:"Enter your email",sendResetLink:"Send Reset Link",checkEmail:"Check your email for the reset link",resetLinkSent:" Reset link sent successfully!",redirectingToLogin:"Redirecting to login...",enterYourEmail:"Please enter your email",invalidEmail:"Invalid email",emailNotFound:"Email not found",back:"Back",username:"Username",password:"Password",signIn:"Sign In",passwordTooShort:"Password must be at least 6 characters",accountCreated:"Account created successfully!",emailExists:"Email already exists",passwordWeak:"Password is too weak",invalidEmailPassword:"Invalid email or password",authFailed:"Authentication failed"},ar:{home:"",cart:"",profile:" ",search:"",categories:"",products:"",noProducts:"   ",all:"",searchPlaceholder:"  ...",activeDeals:" ",noActiveDeals:"   ",addToCart:"  ",unavailable:" ",available:"",availableNow:" ",notAvailable:" ",addingToCart:" ...",details:"",quantity:"",selectColor:" ",selectSize:" ",selectUnit:" ",price:"",description:"",yourCart:"",cartEmpty:" ",subtotal:" ",total:"",checkout:"",removeItem:" ",checkoutPage:"",paymentMethod:" ",cardPayment:" ",cashOnDelivery:"  ",deliveryAddress:" ",completeOrder:" ",account:"",admin:"",myOrders:"",notifications:"",helpSupport:" ",logout:" ",language:"",delivery:"",orders:"",users:"",storeSettings:" ",shippingZones:" ",analytics:"",edit:"",delete:"",save:"",cancel:"",add:"",update:"",filter:"",loading:" ...",error:"",success:"",addedToCart:"    ",productNotAvailable:"   ",failedToAddCart:"    ",failedToCheckout:"  ",orderPlaced:"   ",profileUpdated:"    ",productUpdated:"   ",productAdded:"   ",productDeleted:"   ",pending:" ",shipped:"  ",received:"  ",completed:" ",cancelled:"",markAsReceived:" ",deliveryLocation:" ",driverLocation:" ",loadingMap:"  ...",noLocationInfo:"   ",deliveredMapUnavailable:"  -   ",cancelledMapUnavailable:"  -   ",copied:" !",copyRules:" ",backToApp:" ",setupNotifications:" ",needHelp:"  ",complete:"  ",orderSummary:" ",unit:":",size:":",color:":",original:":",discount:":",shippingCost:":",deliveryMethod:" ",savedAddress:" ",useSavedAddress:"  ",enterDifferentDetails:"  ",orderInformation:" ",deliveryInformation:" ",name:"",fullName:" ",phone:" ",fullPhone:"+201012345678",chooseFromMap:"   ",closeMap:"  ",locationSet:"   ",fullAddress:" ",enterAddress:"      ",savedAddressLabel:" ",savedAddressPlaceholder:" ",email:" ",loadingZones:"   ...",noZonesAvailable:"   ",selectDeliveryZone:"--    --",payOnDelivery:"  ",creditCard:" ",cardDetails:" ",cardNamePlaceholder:"    ",additionalNotes:"  ()",notesPlaceholder:"   ",processing:"  ...",orderNow:"   - L.E",resetDescription:"        ",emailNotConfigured:"     Firebase",sendResetError:"  ",deliveryZone:" ",createNewAccount:"  ",welcomeBack:" ",createAccountMsg:"   ",loginAccountMsg:"  ",login:"",signUp:" ",dontHaveAccount:"   ",alreadyHaveAccount:"   ",category:"",options:"",recipientLabel:"",notes:"",discountLabel:"",afterDiscount:" ",customerInformation:" ",orderStatistics:" ",completedOrders:" ",totalOrders:" ",completedOrdersValue:"  ",deliveryOrders:" ",noOrdersToDeliver:"   ",allOrders:"",confirmDelivery:" ",recipientName:" ",deliveryRemarks:"  ()",deliveryRemarksPlaceholder:":      ...",confirm:"",statusUpdated:"   ",statusUpdateFailed:"  ",enterRecipientName:"   ",deliveryDriver:" ",deliveryRemarksLabel:" ",enterName:" ",enterPhone:" ",selectAllOptions:"  ",selectLocationFromMap:"   ",errorNoCoordinates:":   ",dataError:"  ",cardNumberLabel:" ",expiryLabel:" ",cvvLabel:"CVV",cardholderName:"  ",newAddress:" ",cannotAccessLocation:"    ",deliveryLocationLabel:" ",yourLocationLabel:" ",orderShipped:"   ",orderShippedMessage:"     ",outForDelivery:"   ",outForDeliveryMessage:"   ",delivered:"   ",deliveredMessage:"  ",backButton:"",orderNotFound:"    ",navigate:"",centerMap:" ",openMap:" ",loadingMapMessage:"  ...",noLocationInfoMessage:"   ",deliveredMapUnavailableMessage:"  -   ",deliveryInfoTitle:" ",address:"",customer:"",recipient:"",driver:" ",remarks:" ",itemsTitle:"",activeNavigation:" ",routeInfo:" ",remainingDistance:" ",distance:"",estimatedTime:" ",minute:"",status:"",inTransit:" ",payment:" ",shippingZoneLabel:" ",notesLabel:"",priceBreakdown:" ",subtotalLabel:" ",shippingLabel:"",totalLabel:"",errorPrefix:"",deliveryInformationLabel:" ",nameLabel:"",afterDiscountLabel:" ",customerInformationLabel:" ",emailLabel:" ",orderStatisticsLabel:" ",completedOrdersLabel:" ",totalOrdersLabel:" ",completedOrdersValueLabel:"  ",backToAdmin:" ",backToAccount:" ",selectDifferentStatus:"  ",failedToUpdateOrder:"  ",changeStatus:" ",selectDelivery:" ",noDeliveryAvailable:"   ",editMode:"( )",additionalImages:" ",clickToDeleteImage:"  ",failedToSaveProduct:"  ",fillAllFields:"   ",updating:" ...",adding:" ...",confirmed:" ",completedOrder:" ",cancelledOrder:" ",userRole:" ",adminRole:" ",deliveryRole:" ",latitudeLabel:" ",longitudeLabel:" ",editProduct:" ",addNewProduct:"  ",editShippingZone:"  ",addShippingZone:"  ",updateZone:" ",addZone:" ",saveAddress:" ",saving:" ...",noItemsCheckout:"   ",noOrdersYet:"  ",noItems:"  ",selectStatus:" ",user:"",firebaseConfig:" Firebase",storeAddress:" ",shipping:"",totalSpent:" ",backToCart:" ",selectPaymentMethod:"  ",payWithCard:" ",instantPayment:"    /",payWhenArrives:"   ",changeMethod:"  ",shippingAddress:" ",useSavedAddress:"  ",cartIsEmpty:" ",continueShoppingButton:" ",proceedToPayment:"  ",startShopping:" ",adminPanel:" ",ordersPanel:"",usersPanel:"",productsPanel:"",categoriesPanel:"",shippingZonesPanel:" ",analyticsPanel:"",firebaseSettings:" Firebase",filterByStatus:"  ",changeRole:" ",noCategoriesYet:"   ",noUsersFound:"    ",allTime:" ",mainAddress:" ",phoneNumber:" ",productImage:" ",orderNumber:" ",orderDetails:" ",zone:"",searchByEmail:"    ...",categoryNamePlaceholder:" ",productTitlePlaceholder:" ",productDescPlaceholder:"  ()",pricePlaceholder:"",selectCategory:" ",unitsLabel:" ()",addUnitPlaceholder:" ",sizesLabel:" ()",addSizePlaceholder:" ",colorsLabel:" ()",colorNamePlaceholder:" ",addButton:"",editButton:"",cancelButton:"",saveButton:"",deleteButton:"",noItemsYet:"   ",salesAnalytics:" ",filterByPeriod:"  ",thisMonth:" ",thisYear:" ",totalRevenue:" ",salesAmount:"",shippingAmount:"",salesTrend:" ",ordersByStatus:"  ",revenueByStatus:"  ",mainShippingZone:"  ",mobileNumberPlaceholder:"  ",orderDetailsLabel:" ",deliveryInfoLabel:" ",noOrdersFound:"     ",storeLogo:" ",storeName:" ",storePhone:" ",storeEmail:"  ",zoneNamePlaceholder:"  (:  )",shippingCostPlaceholder:" ",placedAt:" :",saveStoreSettings:"  ",storeAddressPlaceholder:" ",discounts:"",addDiscount:" ",discountPercentage:"  %",startDate:" ",endDate:" ",noDiscountsYet:"   ",activeDiscounts:" ",discountSavings:" ",streetAddress:" ",selectZone:" ",change:"",changeAddress:" ",cardNumber:" ",expiry:" ",cvv:"CVV",securePayment:"  ",processingPayment:" ...",pay:"",placeOrder:" ",selectShippingAddressAndZone:"    ",invalidCardNumber:"   ",invalidExpiryDate:"   ",invalidCVV:"CVV  ",enterCardholderName:"    ",forgotPassword:"   ",resetPassword:"  ",enterEmail:"  ",sendResetLink:"  ",checkEmail:"       ",resetLinkSent:"     !",redirectingToLogin:"  ...",enterYourEmail:"   ",invalidEmail:"   ",emailNotFound:"   ",back:"",username:" ",password:" ",signIn:" ",passwordTooShort:"     6   ",accountCreated:"   !",emailExists:"   ",passwordWeak:"   ",invalidEmailPassword:"      ",authFailed:"   "}},W=(t,e="en")=>t0[e][t]||t0.en[t];function Bs(){const[t,e]=ji(),{items:n}=Yh(),{language:r}=mi(),{user:i}=zd(),a=[{id:"/",icon:hoe,label:W("home",r)},{id:"/cart",icon:q2,label:W("cart",r)},...i?.role==="delivery"?[{id:"/delivery",icon:H2,label:r==="ar"?" ":" Delivery"}]:[],{id:"/profile",icon:G2,label:W("profile",r)}];return m.jsx("div",{className:"fixed bottom-1 left-1/2 -translate-x-1/2 w-[calc(100%-1rem)] max-w-[588px] bg-background/90 backdrop-blur-xl border-t border-border/40 px-5 pb-0.5 pt-1 rounded-t-2xl z-40",children:m.jsx("div",{className:"flex items-center justify-between",children:a.map(o=>{const c=t===o.id;return m.jsxs("button",{onClick:()=>e(o.id),className:"relative flex flex-col items-center gap-0 p-0.5 group w-16","data-testid":`nav-${o.id}`,children:[c&&m.jsx(Ol.div,{layoutId:"nav-indicator",className:"absolute -top-4 w-8 h-1 bg-primary rounded-full",transition:{type:"spring",stiffness:500,damping:30}}),m.jsxs("div",{className:"relative",children:[m.jsx(o.icon,{className:Wo("w-6 h-6 transition-colors duration-300",c?"text-primary":"text-muted-foreground group-hover:text-foreground")}),o.id==="/cart"&&n.length>0&&m.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full text-white flex items-center justify-center text-[10px] font-bold border border-white",children:n.length})]}),m.jsx("span",{className:Wo("text-[9px] font-medium transition-colors duration-300",c?"text-primary":"text-muted-foreground"),children:o.label})]},o.id)})})})}async function AN(){try{const t=Rt(),e=Yr(t,"discounts");return(await Is(e)).docs.map(r=>({id:r.id,...r.data()}))}catch{}return[]}function Ux(t,e){const n=parseFloat(String(e));return t*(1-n/100)}function Rfe(t,e){const n=parseFloat(String(e));return t*(n/100)}function Mfe(t){if(!t)return!1;const e=new Date;let n,r;return t.startDate instanceof Date?n=t.startDate:typeof t.startDate=="string"?n=new Date(t.startDate):t.startDate&&typeof t.startDate=="object"&&"toDate"in t.startDate?n=t.startDate.toDate():n=new Date(String(t.startDate)),t.endDate instanceof Date?r=t.endDate:typeof t.endDate=="string"?r=new Date(t.endDate):t.endDate&&typeof t.endDate=="object"&&"toDate"in t.endDate?r=t.endDate.toDate():r=new Date(String(t.endDate)),e>=n&&e<=r}function Pd(t,e){const n=e.find(r=>String(r.productId)===String(t));return!n||!Mfe(n)?null:n}function Dfe({product:t,discount:e}){const[,n]=ji(),r=e,i=r?Ux(t.price,r.discountPercentage):t.price;return m.jsxs("div",{onClick:()=>n(`/product/${t.id}`),className:"relative w-full h-full rounded-2xl overflow-hidden shadow-2xl group cursor-pointer",children:[m.jsx("img",{src:t.image,alt:t.title||t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/70"}),m.jsx(Ol.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"absolute top-0 left-0 right-0 p-2 md:p-4",children:m.jsx("h3",{className:"font-black text-xs md:text-lg text-white line-clamp-2 drop-shadow-xl text-center md:text-left",children:t.title||t.name})}),m.jsx(Ol.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute bottom-0 left-0 right-0 p-2 md:p-4 space-y-2",children:m.jsxs("div",{className:"flex items-end justify-between gap-1.5 md:gap-3",children:[m.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 min-w-0",children:[r&&m.jsxs("div",{className:"text-white/70 line-through text-[10px] md:text-xs font-semibold drop-shadow-lg",children:["L.E ",t.price.toFixed(2)]}),m.jsxs(Ol.div,{animate:{scale:[1,1.08,1]},transition:{duration:2,repeat:1/0},className:"font-black text-lg md:text-3xl bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-100 bg-clip-text text-transparent drop-shadow-2xl leading-none",children:["L.E ",i.toFixed(2)]})]}),r&&m.jsxs(Ol.div,{animate:{scale:[1,1.12,1],rotate:[0,5,-5,0]},transition:{duration:2.5,repeat:1/0},className:"bg-gradient-to-br from-red-500 to-red-700 text-white px-2 md:px-4 py-1.5 md:py-3 rounded-full text-sm md:text-2xl font-black border-2 md:border-3 border-yellow-300 shadow-lg drop-shadow-lg flex-shrink-0",children:["-",r.discountPercentage,"%"]})]})})]})}function kfe({products:t,discounts:e}){const{language:n}=mi(),[r,i]=k.useState(0),[a,o]=k.useState(!0),c=k.useMemo(()=>t.filter(b=>Pd(String(b.id),e)!==null),[t,e]);if(k.useEffect(()=>{if(!a||c.length===0)return;const b=setInterval(()=>{i(w=>(w+1)%c.length)},4e3);return()=>clearInterval(b)},[a,c.length]),k.useEffect(()=>{if(a)return;const b=setTimeout(()=>{o(!0)},5e3);return()=>clearTimeout(b)},[a]),c.length===0)return null;const d=c[r],f=Pd(String(d.id),e),p=()=>{o(!1),i(b=>(b+1)%c.length)},g=()=>{o(!1),i(b=>(b-1+c.length)%c.length)};return m.jsxs("div",{className:"mb-4 md:mb-6 lg:mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 px-3 md:px-6 lg:px-8",children:[m.jsx(uq,{className:"w-4 h-4 text-yellow-500"}),m.jsx("h3",{className:"text-xs font-semibold text-gray-900",children:W("activeDeals",n)})]}),m.jsxs("div",{className:"overflow-hidden px-2 md:px-4 lg:px-6",children:[m.jsxs("div",{className:"relative flex justify-center mb-4 md:mb-6",children:[m.jsx("button",{onClick:g,className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-1.5 md:p-3 shadow-lg transition-all hover:shadow-xl flex-shrink-0","data-testid":"button-deals-prev",children:m.jsx(aq,{className:"w-4 h-4 md:w-5 md:h-5"})}),m.jsx("div",{className:"aspect-[20/9] md:aspect-[48/8] w-full",children:m.jsx(Dfe,{product:d,discount:f})}),m.jsx("button",{onClick:p,className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-1.5 md:p-3 shadow-lg transition-all hover:shadow-xl flex-shrink-0","data-testid":"button-deals-next",children:m.jsx(Ps,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),m.jsx("div",{className:"flex justify-center gap-1.5",children:c.map((b,w)=>m.jsx("button",{onClick:()=>{i(w)},className:`transition-all rounded-full ${w===r?"bg-blue-600 w-3 h-3":"bg-gray-300 hover:bg-gray-400 w-2 h-2"}`,"data-testid":`button-dot-${w}`},w))})]})]})}function Lfe({active:t,onChange:e,categories:n=["All"]}){const{language:r}=mi(),i=a=>a==="All"?r==="ar"?t0.ar.all:t0.en.all:a;return m.jsx("div",{className:"flex overflow-x-auto no-scrollbar gap-2 px-3 md:px-6 lg:px-8 pb-4",children:n.map(a=>m.jsxs("button",{onClick:()=>e(a),className:`relative px-5 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${t===a?"bg-black text-white":"text-muted-foreground hover:text-foreground bg-white border border-gray-100"}`,"data-testid":`button-category-${a}`,children:[t===a&&m.jsx(Ol.div,{layoutId:"category-pill",className:"absolute inset-0 bg-black rounded-full z-0",transition:{type:"spring",bounce:.2,duration:.6}}),m.jsx("span",{className:`relative z-10 block ${t===a?"text-white":""}`,children:i(a)})]},a))})}function Vfe({product:t,index:e,discounts:n=[],onProductClick:r}){const{addItem:i}=Yh(),{language:a}=mi(),[o,c]=k.useState(!1),[d,f]=k.useState(!1),[p,g]=k.useState(""),[b,w]=k.useState(""),[P,T]=k.useState(""),A=t.title||t.name||"Product",C=t.category||"Uncategorized",D=t.image||"",R=t.colors&&t.colors.length>0||t.sizes&&t.sizes.length>0||t.units&&t.units.length>0,$=t.available!==!1,I=Pd(String(t.id),n),B=I?Ux(t.price,I.discountPercentage):t.price,N=async V=>{if(V.stopPropagation(),!$){Ue.error(W("productNotAvailable",a));return}if(R){f(!0);return}j()},j=()=>{c(!0);try{const V={id:String(t.id),_uniqueId:`${t.id}-${p||""}-${b||""}-${P||""}`,title:A,price:t.price,quantity:1,image:D,selectedColor:p||void 0,selectedSize:b||void 0,selectedUnit:P||void 0};i(V),Ue.success(W("addedToCart",a)),f(!1),g(""),w(""),T("")}catch{Ue.error(W("failedToAddCart",a))}finally{c(!1)}};return m.jsxs(Ol.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.05},onClick:()=>r?.(t.id),className:"group relative bg-white rounded-3xl shadow-sm border border-gray-100 cursor-pointer transition-all hover:shadow-md hover:border-gray-200",children:[m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsxs("div",{className:"px-2 pt-1.5 pb-1",children:[m.jsx("p",{className:"text-[8px] font-medium text-muted-foreground uppercase tracking-wider mb-0.5","data-testid":`text-category-${t.id}`,children:C}),m.jsx("h3",{className:"font-semibold text-xs leading-tight line-clamp-2","data-testid":`text-title-${t.id}`,children:A})]}),m.jsx("div",{className:"relative flex-1 px-2 py-1 min-h-0",children:m.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden bg-gray-50",children:[m.jsx("img",{src:D,alt:A,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),I&&m.jsxs(Ol.div,{animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},className:"absolute top-2 left-2 bg-gradient-to-br from-red-500 to-red-600 text-white px-2 py-1 rounded-full text-xs font-black shadow-lg shadow-red-500/50 border border-yellow-300","data-testid":`badge-discount-${t.id}`,children:[I.discountPercentage,"%"]})]})}),R&&m.jsxs("div",{className:"px-2 py-1 flex gap-2 overflow-x-auto no-scrollbar flex-shrink-0",children:[t.units&&t.units.length>0&&m.jsxs("div",{className:"flex flex-col gap-0.5 flex-shrink-0",children:[m.jsx("p",{className:"text-[7px] font-semibold text-gray-500 uppercase",children:"Units"}),m.jsx("div",{className:"flex gap-0.5",children:t.units.map(V=>m.jsx("span",{className:"px-1 py-0.5 bg-blue-100 text-blue-700 rounded text-[7px] font-medium whitespace-nowrap",children:V},V))})]}),t.sizes&&t.sizes.length>0&&m.jsxs("div",{className:"flex flex-col gap-0.5 flex-shrink-0",children:[m.jsx("p",{className:"text-[7px] font-semibold text-gray-500 uppercase",children:"Sizes"}),m.jsx("div",{className:"flex gap-0.5",children:t.sizes.map(V=>m.jsx("span",{className:"px-1 py-0.5 bg-green-100 text-green-700 rounded text-[7px] font-medium whitespace-nowrap",children:V},V))})]}),t.colors&&t.colors.length>0&&m.jsxs("div",{className:"flex flex-col gap-0.5 flex-shrink-0",children:[m.jsx("p",{className:"text-[7px] font-semibold text-gray-500 uppercase",children:"Colors"}),m.jsx("div",{className:"flex gap-1",children:t.colors.map(V=>{const K=typeof V=="string"?V.split("|")[0]:V||"",q=typeof V=="string"&&V.split("|")[1]||"#000000";return m.jsxs("div",{className:"flex items-center gap-0.5 flex-shrink-0",title:K,children:[m.jsx("span",{style:{width:"16px",height:"16px",backgroundColor:q,borderRadius:"2px",border:"1px solid rgba(0,0,0,0.15)"},className:"flex-shrink-0"}),m.jsx("span",{className:"text-[7px] font-medium text-gray-700 whitespace-nowrap",children:K})]},K)})})]})]}),m.jsxs("div",{className:"px-2 py-1.5 border-t border-gray-100 flex items-center justify-between gap-1",children:[m.jsx("div",{className:"flex flex-col gap-0",children:I?m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"font-bold text-xs text-green-600","data-testid":`text-price-${t.id}`,children:[" L.E ",B.toFixed(2)]}),m.jsxs("p",{className:"text-[10px] text-gray-400 line-through",children:[" L.E ",t.price.toFixed(2)]})]}):m.jsxs("p",{className:"font-bold text-xs","data-testid":`text-price-${t.id}`,children:[" L.E ",t.price.toFixed(2)]})}),m.jsxs("div",{className:"flex items-center gap-1",children:[!$&&m.jsx("p",{className:"text-[9px] font-semibold text-red-600 bg-red-50 px-1 py-0.5 rounded whitespace-nowrap","data-testid":`text-unavailable-${t.id}`,children:W("unavailable",a)}),$&&m.jsx("p",{className:"text-[9px] font-semibold text-green-600 bg-green-50 px-1 py-0.5 rounded whitespace-nowrap","data-testid":`text-available-${t.id}`,children:W("available",a)}),m.jsx("button",{onClick:N,disabled:o,className:"w-7 h-7 bg-black text-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-900 transition-colors disabled:opacity-50 flex-shrink-0","data-testid":`button-add-to-cart-${t.id}`,children:o?m.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(Wb,{className:"w-3.5 h-3.5"})})]})]})]}),d&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end",onClick:()=>f(!1),children:m.jsxs(Ol.div,{initial:{y:300},animate:{y:0},exit:{y:300},onClick:V=>V.stopPropagation(),className:"w-full bg-white rounded-t-3xl p-6 max-h-[80vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-lg font-bold mb-4",children:a==="ar"?`   ${A}`:`Select Options for ${A}`}),t.units&&t.units.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm font-semibold mb-2",children:W("selectUnit",a)}),m.jsxs("select",{value:P,onChange:V=>T(V.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":`select-variant-unit-${t.id}`,children:[m.jsx("option",{value:"",children:" "}),t.units.map(V=>m.jsx("option",{value:V||"",children:V},V))]})]}),t.sizes&&t.sizes.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm font-semibold mb-2",children:" (Size)"}),m.jsxs("select",{value:b,onChange:V=>w(V.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":`select-variant-size-${t.id}`,children:[m.jsx("option",{value:"",children:" "}),t.sizes.map(V=>m.jsx("option",{value:V||"",children:V},V))]})]}),t.colors&&t.colors.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm font-semibold mb-2",children:" (Color)"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:t.colors.map(V=>{const K=typeof V=="string"?V.split("|")[0]:V||"",q=typeof V=="string"&&V.split("|")[1]||"#000000";return m.jsxs("button",{onClick:()=>g(V||""),className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${p===V?"border-gray-800 bg-gray-50":"border-gray-200 bg-white hover:border-gray-300"}`,"data-testid":`button-color-${t.id}-${K}`,children:[m.jsx("span",{style:{width:"20px",height:"20px",backgroundColor:q,borderRadius:"4px",border:"1px solid rgba(0,0,0,0.1)"}}),m.jsx("span",{className:"text-sm font-medium",children:K})]},K)})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-5 py-3 border border-gray-200 rounded-lg font-semibold text-sm","data-testid":`button-cancel-variant-${t.id}`,children:W("cancelButton",a)}),m.jsx("button",{onClick:j,disabled:o,className:"flex-1 px-5 py-3 bg-black text-white rounded-lg font-semibold text-sm disabled:opacity-50","data-testid":`button-add-variant-${t.id}`,children:W(o?"addingToCart":"addToCart",a)})]})]})})]})}const Bfe="/storeshope/assets/wireless_headphones_product_shot-CCBl-8mS.png",zfe="/storeshope/assets/smart_watch_product_shot-DhDKjCQC.png",Ufe="/storeshope/assets/designer_running_shoes_product_shot-hmkSvKMv.png",$fe="/storeshope/assets/minimalist_sneaker_promo_banner-DECwSmEV.png",d3=[{id:1,title:"Sony WH-1000XM5",category:"Electronics",price:349.99,image:Bfe},{id:2,title:"Apple Watch Ultra",category:"Electronics",price:799,image:zfe},{id:3,title:"Nike Zoom Fly 5",category:"Shoes",price:160,image:Ufe},{id:4,title:"Adidas Ultraboost",category:"Shoes",price:180,image:$fe}];function Ffe(){const[t,e]=ji(),{items:n}=Yh(),{language:r,setLanguage:i}=mi(),[a,o]=k.useState("All"),[c,d]=k.useState(""),[f,p]=k.useState([]),[g,b]=k.useState(!0),[w,P]=k.useState(!1),[T,A]=k.useState(""),[C,D]=k.useState(null),[R,$]=k.useState(""),[I,B]=k.useState(!1),[N,j]=k.useState([]),[V,K]=k.useState(!1),[q,H]=k.useState(!1),z=async()=>{try{const le=await tq();le?(D(le.name||"Flux Wallet"),$(le.logo||"")):D("Flux Wallet")}catch{D("Flux Wallet")}},ie=async()=>{b(!0),p([]);try{P(!0);const le=await kx();le&&le.length>0?(p(le),A(""),H(!1),K(!1)):(p(d3),A(""),H(!0),K(!0))}catch{p(d3),A(""),H(!0),K(!0)}finally{b(!1),B(!0)}},de=async()=>{try{const le=await AN();j(le||[])}catch{j([])}};k.useEffect(()=>{Promise.race([Promise.all([ie(),z(),de()]),new Promise(le=>setTimeout(le,3e3))])},[]);const X=["All",...Array.from(new Set(f.map(le=>le.category).filter(Boolean).sort()))],re=f.filter(le=>{if(!le)return!1;const oe=le.category||"",Q=le.title||le.name||"",ae=a==="All"||oe===a,ce=String(Q).toLowerCase().includes(c.toLowerCase());return ae&&ce}),ee=k.useCallback(le=>{e(`/product/${le}`)},[e]);return m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-x-hidden overflow-y-hidden bg-white",children:[m.jsxs("div",{className:"px-3 md:px-6 lg:px-8 pt-2 pb-2 flex-shrink-0 border-b border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[C?m.jsxs("div",{className:"flex items-center gap-2 md:gap-3 lg:gap-4",children:[R?m.jsx("img",{src:R,alt:C,className:"w-10 md:w-14 lg:w-16 h-10 md:h-14 lg:h-16 rounded-lg object-cover shadow-md border border-gray-100"}):m.jsx("div",{className:"w-10 md:w-14 lg:w-16 h-10 md:h-14 lg:h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-lg md:text-2xl lg:text-3xl shadow-lg leading-none",children:C.charAt(0)}),m.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent drop-shadow-sm tracking-tight","data-testid":"text-store-name",children:C})]}):m.jsx("div",{className:"w-32 h-7 bg-gray-200 rounded-lg animate-pulse"}),m.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[V&&m.jsx("button",{onClick:()=>e("/settings"),className:"w-7 md:w-8 lg:w-10 h-7 md:h-8 lg:h-10 rounded-full bg-blue-50 border border-blue-200 flex items-center justify-center hover:bg-blue-100 flex-shrink-0 transition-colors","data-testid":"button-open-settings",title:"Demo mode - Configure Firebase",children:m.jsx(cq,{className:"w-4 md:w-5 text-blue-600"})}),m.jsx("button",{onClick:()=>i(r==="en"?"ar":"en"),className:"w-7 md:w-8 lg:w-10 h-7 md:h-8 lg:h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center hover:bg-gray-50 flex-shrink-0","data-testid":"button-toggle-language",title:r==="en"?"":"English",children:m.jsx(doe,{className:"w-3.5 md:w-4 lg:w-5 h-3.5 md:h-4 lg:h-5 text-gray-600"})}),m.jsxs("button",{onClick:()=>e("/cart"),className:"w-7 md:w-8 lg:w-10 h-7 md:h-8 lg:h-10 bg-black text-white rounded flex items-center justify-center relative hover:bg-gray-900 transition-colors flex-shrink-0","data-testid":"button-cart",children:[m.jsx(q2,{className:"w-3.5 md:w-4 lg:w-5 h-3.5 md:h-4 lg:h-5"}),n.length>0&&m.jsx("div",{className:"absolute -top-1 -right-1 w-4 md:w-5 h-4 md:h-5 bg-red-500 rounded-full flex items-center justify-center text-[7px] md:text-[8px] font-bold text-white",children:n.length})]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Doe,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 md:w-4 h-3.5 md:h-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:W("searchPlaceholder",r),value:c,onChange:le=>d(le.target.value),className:"w-full pl-9 pr-3 py-1.5 md:py-2 bg-gray-50 border border-gray-200 rounded-lg text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-black/10","data-testid":"input-search"})]})]}),!w&&I&&m.jsx("div",{className:"px-3 md:px-6 lg:px-8 py-1.5 md:py-2 flex-shrink-0 bg-yellow-50 border-b border-yellow-100",children:m.jsxs("div",{className:"flex items-start gap-1.5 md:gap-2",children:[m.jsx(sq,{className:"w-3.5 md:w-4 h-3.5 md:h-4 text-yellow-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-xs md:text-sm font-semibold text-yellow-900",children:"Demo Mode"}),m.jsx("p",{className:"text-[11px] md:text-xs text-yellow-800",children:"Configure Firebase in Profile to use your products"})]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 w-full",children:m.jsxs("div",{className:"w-full px-0 py-2",children:[m.jsx(kfe,{products:f,discounts:N}),X.length>0&&m.jsx("div",{className:"mt-2 md:mt-3 mb-3 md:mb-4",children:m.jsx(Lfe,{active:a,onChange:o,categories:X})}),m.jsx("div",{className:"px-3 md:px-6 lg:px-8",children:g?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-2 md:gap-2 lg:gap-2",children:[1,2,3,4].map(le=>m.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"aspect-square bg-gray-200 animate-pulse"}),m.jsxs("div",{className:"p-1.5 md:p-2",children:[m.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse mb-1 w-3/4"}),m.jsx("div",{className:"h-2 bg-gray-200 rounded animate-pulse w-1/2"})]})]},le))}):re.length>0?m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 gap-2 md:gap-2 lg:gap-2",children:re.map((le,oe)=>m.jsx(Vfe,{product:le,index:oe,discounts:N,onProductClick:ee},le.id))}):m.jsxs("div",{className:"text-center py-8 md:py-12",children:[m.jsx("div",{className:"text-4xl md:text-6xl mb-2",children:""}),m.jsx("p",{className:"text-xs md:text-sm text-gray-600 font-semibold mb-0.5",children:"No products found"}),m.jsx("p",{className:"text-[11px] md:text-xs text-gray-500",children:"Try a different search"})]})})]})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}const qfe="/storeshope/assets/professional_user_avatar_portrait-BnQSSja5.png",$8="firebase_client_config";function Hfe(t){try{localStorage.setItem($8,JSON.stringify(t))}catch(e){throw e}}function Gfe(){try{const t=localStorage.getItem($8);if(t){const d=JSON.parse(t);if(d.apiKey&&d.projectId&&d.appId)return d}const e="AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI",n="myapp-d9024",r="1:985459317658:web:bee1f2fd2e4c16df74f823",i="myapp-d9024.firebaseapp.com",a="myapp-d9024.firebasestorage.app",o="985459317658",c="G-17B5K4J0P0";return e&&n&&r?{apiKey:e,projectId:n,appId:r,authDomain:i,storageBucket:a,messagingSenderId:o,measurementId:c}:null}catch{return null}}var W1,f3;function ka(){if(f3)return W1;f3=1;var t=Array.isArray;return W1=t,W1}var Z1,h3;function F8(){if(h3)return Z1;h3=1;var t=typeof Tv=="object"&&Tv&&Tv.Object===Object&&Tv;return Z1=t,Z1}var Y1,p3;function tl(){if(p3)return Y1;p3=1;var t=F8(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Y1=n,Y1}var X1,m3;function cy(){if(m3)return X1;m3=1;var t=tl(),e=t.Symbol;return X1=e,X1}var Q1,g3;function Kfe(){if(g3)return Q1;g3=1;var t=cy(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var c=n.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=r.call(o);return f&&(c?o[i]=d:delete o[i]),p}return Q1=a,Q1}var J1,y3;function Wfe(){if(y3)return J1;y3=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return J1=n,J1}var eS,v3;function Ql(){if(v3)return eS;v3=1;var t=cy(),e=Kfe(),n=Wfe(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:r:a&&a in Object(c)?e(c):n(c)}return eS=o,eS}var tS,b3;function Jl(){if(b3)return tS;b3=1;function t(e){return e!=null&&typeof e=="object"}return tS=t,tS}var nS,x3;function sp(){if(x3)return nS;x3=1;var t=Ql(),e=Jl(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return nS=r,nS}var rS,_3;function EN(){if(_3)return rS;_3=1;var t=ka(),e=sp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return rS=i,rS}var iS,w3;function pu(){if(w3)return iS;w3=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return iS=t,iS}var aS,S3;function PN(){if(S3)return aS;S3=1;var t=Ql(),e=pu(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(c){if(!e(c))return!1;var d=t(c);return d==r||d==i||d==n||d==a}return aS=o,aS}var sS,T3;function Zfe(){if(T3)return sS;T3=1;var t=tl(),e=t["__core-js_shared__"];return sS=e,sS}var oS,A3;function Yfe(){if(A3)return oS;A3=1;var t=Zfe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return oS=n,oS}var lS,E3;function q8(){if(E3)return lS;E3=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return lS=n,lS}var cS,P3;function Xfe(){if(P3)return cS;P3=1;var t=PN(),e=Yfe(),n=pu(),r=q8(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(b){if(!n(b)||e(b))return!1;var w=t(b)?p:a;return w.test(r(b))}return cS=g,cS}var uS,O3;function Qfe(){if(O3)return uS;O3=1;function t(e,n){return e?.[n]}return uS=t,uS}var dS,C3;function Ud(){if(C3)return dS;C3=1;var t=Xfe(),e=Qfe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return dS=n,dS}var fS,N3;function $x(){if(N3)return fS;N3=1;var t=Ud(),e=t(Object,"create");return fS=e,fS}var hS,j3;function Jfe(){if(j3)return hS;j3=1;var t=$x();function e(){this.__data__=t?t(null):{},this.size=0}return hS=e,hS}var pS,I3;function ehe(){if(I3)return pS;I3=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return pS=t,pS}var mS,R3;function the(){if(R3)return mS;R3=1;var t=$x(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var c=o[a];return c===e?void 0:c}return r.call(o,a)?o[a]:void 0}return mS=i,mS}var gS,M3;function nhe(){if(M3)return gS;M3=1;var t=$x(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return gS=r,gS}var yS,D3;function rhe(){if(D3)return yS;D3=1;var t=$x(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return yS=n,yS}var vS,k3;function ihe(){if(k3)return vS;k3=1;var t=Jfe(),e=ehe(),n=the(),r=nhe(),i=rhe();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,vS=a,vS}var bS,L3;function ahe(){if(L3)return bS;L3=1;function t(){this.__data__=[],this.size=0}return bS=t,bS}var xS,V3;function ON(){if(V3)return xS;V3=1;function t(e,n){return e===n||e!==e&&n!==n}return xS=t,xS}var _S,B3;function Fx(){if(B3)return _S;B3=1;var t=ON();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return _S=e,_S}var wS,z3;function she(){if(z3)return wS;z3=1;var t=Fx(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var c=a.length-1;return o==c?a.pop():n.call(a,o,1),--this.size,!0}return wS=r,wS}var SS,U3;function ohe(){if(U3)return SS;U3=1;var t=Fx();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return SS=e,SS}var TS,$3;function lhe(){if($3)return TS;$3=1;var t=Fx();function e(n){return t(this.__data__,n)>-1}return TS=e,TS}var AS,F3;function che(){if(F3)return AS;F3=1;var t=Fx();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return AS=e,AS}var ES,q3;function qx(){if(q3)return ES;q3=1;var t=ahe(),e=she(),n=ohe(),r=lhe(),i=che();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,ES=a,ES}var PS,H3;function CN(){if(H3)return PS;H3=1;var t=Ud(),e=tl(),n=t(e,"Map");return PS=n,PS}var OS,G3;function uhe(){if(G3)return OS;G3=1;var t=ihe(),e=qx(),n=CN();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return OS=r,OS}var CS,K3;function dhe(){if(K3)return CS;K3=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return CS=t,CS}var NS,W3;function Hx(){if(W3)return NS;W3=1;var t=dhe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return NS=e,NS}var jS,Z3;function fhe(){if(Z3)return jS;Z3=1;var t=Hx();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return jS=e,jS}var IS,Y3;function hhe(){if(Y3)return IS;Y3=1;var t=Hx();function e(n){return t(this,n).get(n)}return IS=e,IS}var RS,X3;function phe(){if(X3)return RS;X3=1;var t=Hx();function e(n){return t(this,n).has(n)}return RS=e,RS}var MS,Q3;function mhe(){if(Q3)return MS;Q3=1;var t=Hx();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return MS=e,MS}var DS,J3;function NN(){if(J3)return DS;J3=1;var t=uhe(),e=fhe(),n=hhe(),r=phe(),i=mhe();function a(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var f=o[c];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,DS=a,DS}var kS,e5;function H8(){if(e5)return kS;e5=1;var t=NN(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,c=i?i.apply(this,o):o[0],d=a.cache;if(d.has(c))return d.get(c);var f=r.apply(this,o);return a.cache=d.set(c,f)||d,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,kS=n,kS}var LS,t5;function ghe(){if(t5)return LS;t5=1;var t=H8(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return LS=n,LS}var VS,n5;function yhe(){if(n5)return VS;n5=1;var t=ghe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,c,d,f){a.push(d?f.replace(n,"$1"):c||o)}),a});return VS=r,VS}var BS,r5;function jN(){if(r5)return BS;r5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return BS=t,BS}var zS,i5;function vhe(){if(i5)return zS;i5=1;var t=cy(),e=jN(),n=ka(),r=sp(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(n(c))return e(c,o)+"";if(r(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return zS=o,zS}var US,a5;function G8(){if(a5)return US;a5=1;var t=vhe();function e(n){return n==null?"":t(n)}return US=e,US}var $S,s5;function K8(){if(s5)return $S;s5=1;var t=ka(),e=EN(),n=yhe(),r=G8();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return $S=i,$S}var FS,o5;function Gx(){if(o5)return FS;o5=1;var t=sp();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return FS=e,FS}var qS,l5;function IN(){if(l5)return qS;l5=1;var t=K8(),e=Gx();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return qS=n,qS}var HS,c5;function W8(){if(c5)return HS;c5=1;var t=IN();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return HS=e,HS}var bhe=W8();const ss=pn(bhe);var GS,u5;function xhe(){if(u5)return GS;u5=1;function t(e){return e==null}return GS=t,GS}var _he=xhe();const Pt=pn(_he);var KS,d5;function whe(){if(d5)return KS;d5=1;var t=Ql(),e=ka(),n=Jl(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return KS=i,KS}var She=whe();const Od=pn(She);var The=PN();const St=pn(The);var Ahe=pu();const op=pn(Ahe);var WS={exports:{}},gn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5;function Ehe(){if(f5)return gn;f5=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),P;P=Symbol.for("react.module.reference");function T(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case i:case r:case f:case p:return A;default:switch(A=A&&A.$$typeof,A){case c:case o:case d:case b:case g:case a:return A;default:return C}}case e:return C}}}return gn.ContextConsumer=o,gn.ContextProvider=a,gn.Element=t,gn.ForwardRef=d,gn.Fragment=n,gn.Lazy=b,gn.Memo=g,gn.Portal=e,gn.Profiler=i,gn.StrictMode=r,gn.Suspense=f,gn.SuspenseList=p,gn.isAsyncMode=function(){return!1},gn.isConcurrentMode=function(){return!1},gn.isContextConsumer=function(A){return T(A)===o},gn.isContextProvider=function(A){return T(A)===a},gn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},gn.isForwardRef=function(A){return T(A)===d},gn.isFragment=function(A){return T(A)===n},gn.isLazy=function(A){return T(A)===b},gn.isMemo=function(A){return T(A)===g},gn.isPortal=function(A){return T(A)===e},gn.isProfiler=function(A){return T(A)===i},gn.isStrictMode=function(A){return T(A)===r},gn.isSuspense=function(A){return T(A)===f},gn.isSuspenseList=function(A){return T(A)===p},gn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===p||A===w||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===a||A.$$typeof===o||A.$$typeof===d||A.$$typeof===P||A.getModuleId!==void 0)},gn.typeOf=T,gn}var h5;function Phe(){return h5||(h5=1,WS.exports=Ehe()),WS.exports}var Ohe=Phe(),ZS,p5;function Z8(){if(p5)return ZS;p5=1;var t=Ql(),e=Jl(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return ZS=r,ZS}var YS,m5;function Che(){if(m5)return YS;m5=1;var t=Z8();function e(n){return t(n)&&n!=+n}return YS=e,YS}var Nhe=Che();const uy=pn(Nhe);var jhe=Z8();const Ihe=pn(jhe);var ha=function(e){return e===0?0:e>0?1:-1},ld=function(e){return Od(e)&&e.indexOf("%")===e.length-1},Ge=function(e){return Ihe(e)&&!uy(e)},Rhe=function(e){return Pt(e)},Qr=function(e){return Ge(e)||Od(e)},Mhe=0,lp=function(e){var n=++Mhe;return"".concat(e||"").concat(n)},pa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(e)&&!Od(e))return r;var a;if(ld(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return uy(a)&&(a=r),i&&a>n&&(a=n),a},Uc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Dhe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},es=function(e,n){return Ge(e)&&Ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function n0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ss(r,e))===n})}var khe=function(e,n){return Ge(e)&&Ge(n)?e-n:Od(e)&&Od(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function nh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iO(t){"@babel/helpers - typeof";return iO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iO(t)}var Lhe=["viewBox","children"],Vhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],g5=["points","pathLength"],XS={svg:Lhe,polygon:g5,polyline:g5},RN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],r0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),!op(r))return null;var i={};return Object.keys(r).forEach(function(a){RN.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Bhe=function(e,n,r){return function(i){return e(n,r,i),null}},Cd=function(e,n,r){if(!op(e)||iO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];RN.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Bhe(o,n,r))}),i},zhe=["children"],Uhe=["children"];function y5(t,e){if(t==null)return{};var n=$he(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $he(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aO(t){"@babel/helpers - typeof";return aO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aO(t)}var v5={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ml=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},b5=null,QS=null,MN=function t(e){if(e===b5&&Array.isArray(QS))return QS;var n=[];return k.Children.forEach(e,function(r){Pt(r)||(Ohe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),QS=n,b5=e,n};function os(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ml(i)}):r=[Ml(e)],MN(t).forEach(function(i){var a=ss(i,"type.displayName")||ss(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Qa(t,e){var n=os(t,e);return n&&n[0]}var x5=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ge(r)||r<=0||!Ge(i)||i<=0)},Fhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qhe=function(e){return e&&e.type&&Od(e.type)&&Fhe.indexOf(e.type)>=0},Hhe=function(e){return e&&aO(e)==="object"&&"clipDot"in e},Ghe=function(e,n,r,i){var a,o=(a=XS?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!St(e)&&(i&&o.includes(n)||Vhe.includes(n))||r&&RN.includes(n)},pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!op(i))return null;var a={};return Object.keys(i).forEach(function(o){var c;Ghe((c=i)===null||c===void 0?void 0:c[o],o,n,r)&&(a[o]=i[o])}),a},sO=function t(e,n){if(e===n)return!0;var r=k.Children.count(e);if(r!==k.Children.count(n))return!1;if(r===0)return!0;if(r===1)return _5(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!_5(a,o))return!1}return!0},_5=function(e,n){if(Pt(e)&&Pt(n))return!0;if(!Pt(e)&&!Pt(n)){var r=e.props||{},i=r.children,a=y5(r,zhe),o=n.props||{},c=o.children,d=y5(o,Uhe);return i&&c?nh(a,d)&&sO(i,c):!i&&!c?nh(a,d):!1}return!1},w5=function(e,n){var r=[],i={};return MN(e).forEach(function(a,o){if(qhe(a))r.push(a);else if(a){var c=Ml(a.type),d=n[c]||{},f=d.handler,p=d.once;if(f&&(!p||!i[c])){var g=f(a,c,o);r.push(g),i[c]=!0}}}),r},Khe=function(e){var n=e&&e.type;return n&&v5[n]?v5[n]:null},Whe=function(e,n){return MN(n).indexOf(e)},Zhe=["children","width","height","viewBox","className","style","title","desc"];function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oO.apply(this,arguments)}function Yhe(t,e){if(t==null)return{};var n=Xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lO(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,c=t.title,d=t.desc,f=Yhe(t,Zhe),p=i||{width:n,height:r,x:0,y:0},g=Nt("recharts-surface",a);return ne.createElement("svg",oO({},pt(f,!0,"svg"),{className:g,width:n,height:r,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ne.createElement("title",null,c),ne.createElement("desc",null,d),e)}var Qhe=["children","className"];function cO(){return cO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cO.apply(this,arguments)}function Jhe(t,e){if(t==null)return{};var n=epe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dn=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=Jhe(t,Qhe),a=Nt("recharts-layer",r);return ne.createElement("g",cO({className:a},pt(i,!0),{ref:e}),n)}),oo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},JS,S5;function tpe(){if(S5)return JS;S5=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return JS=t,JS}var eT,T5;function npe(){if(T5)return eT;T5=1;var t=tpe();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return eT=e,eT}var tT,A5;function Y8(){if(A5)return tT;A5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+a+"]");function d(f){return c.test(f)}return tT=d,tT}var nT,E5;function rpe(){if(E5)return nT;E5=1;function t(e){return e.split("")}return nT=t,nT}var rT,P5;function ipe(){if(P5)return rT;P5=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",P=f+"?",T="["+a+"]?",A="(?:"+w+"(?:"+[p,g,b].join("|")+")"+T+P+")*",C=T+P+A,D="(?:"+[p+c+"?",c,g,b,o].join("|")+")",R=RegExp(d+"(?="+d+")|"+D+C,"g");function $(I){return I.match(R)||[]}return rT=$,rT}var iT,O5;function ape(){if(O5)return iT;O5=1;var t=rpe(),e=Y8(),n=ipe();function r(i){return e(i)?n(i):t(i)}return iT=r,iT}var aT,C5;function spe(){if(C5)return aT;C5=1;var t=npe(),e=Y8(),n=ape(),r=G8();function i(a){return function(o){o=r(o);var c=e(o)?n(o):void 0,d=c?c[0]:o.charAt(0),f=c?t(c,1).join(""):o.slice(1);return d[a]()+f}}return aT=i,aT}var sT,N5;function ope(){if(N5)return sT;N5=1;var t=spe(),e=t("toUpperCase");return sT=e,sT}var lpe=ope();const Kx=pn(lpe);function Vn(t){return function(){return t}}const X8=Math.cos,i0=Math.sin,ho=Math.sqrt,a0=Math.PI,Wx=2*a0,uO=Math.PI,dO=2*uO,nd=1e-6,cpe=dO-nd;function Q8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function upe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Q8;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class dpe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Q8:upe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=r-e,f=i-n,p=o-e,g=c-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>nd)if(!(Math.abs(g*d-f*p)>nd)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-o,P=i-c,T=d*d+f*f,A=w*w+P*P,C=Math.sqrt(T),D=Math.sqrt(b),R=a*Math.tan((uO-Math.acos((T+b-A)/(2*C*D)))/2),$=R/D,I=R/C;Math.abs($-1)>nd&&this._append`L${e+$*p},${n+$*g}`,this._append`A${a},${a},0,0,${+(g*w>p*P)},${this._x1=e+I*d},${this._y1=n+I*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),f=e+c,p=n+d,g=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>nd||Math.abs(this._y1-p)>nd)&&this._append`L${f},${p}`,r&&(b<0&&(b=b%dO+dO),b>cpe?this._append`A${r},${r},0,1,${g},${e-c},${n-d}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:b>nd&&this._append`A${r},${r},0,${+(b>=uO)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new dpe(e)}function kN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J8(t){this._context=t}J8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zx(t){return new J8(t)}function e7(t){return t[0]}function t7(t){return t[1]}function n7(t,e){var n=Vn(!0),r=null,i=Zx,a=null,o=DN(c);t=typeof t=="function"?t:t===void 0?e7:Vn(t),e=typeof e=="function"?e:e===void 0?t7:Vn(e);function c(d){var f,p=(d=kN(d)).length,g,b=!1,w;for(r==null&&(a=i(w=o())),f=0;f<=p;++f)!(f<p&&n(g=d[f],f,d))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+t(g,f,d),+e(g,f,d));if(w)return a=null,w+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Vn(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Vn(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Vn(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function zv(t,e,n){var r=null,i=Vn(!0),a=null,o=Zx,c=null,d=DN(f);t=typeof t=="function"?t:t===void 0?e7:Vn(+t),e=typeof e=="function"?e:Vn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?t7:Vn(+n);function f(g){var b,w,P,T=(g=kN(g)).length,A,C=!1,D,R=new Array(T),$=new Array(T);for(a==null&&(c=o(D=d())),b=0;b<=T;++b){if(!(b<T&&i(A=g[b],b,g))===C)if(C=!C)w=b,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),P=b-1;P>=w;--P)c.point(R[P],$[P]);c.lineEnd(),c.areaEnd()}C&&(R[b]=+t(A,b,g),$[b]=+e(A,b,g),c.point(r?+r(A,b,g):R[b],n?+n(A,b,g):$[b]))}if(D)return c=null,D+""||null}function p(){return n7().defined(i).curve(o).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Vn(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Vn(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Vn(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Vn(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Vn(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Vn(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Vn(!!g),f):i},f.curve=function(g){return arguments.length?(o=g,a!=null&&(c=o(a)),f):o},f.context=function(g){return arguments.length?(g==null?a=c=null:c=o(a=g),f):a},f}class r7{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fpe(t){return new r7(t,!0)}function hpe(t){return new r7(t,!1)}const LN={draw(t,e){const n=ho(e/a0);t.moveTo(n,0),t.arc(0,0,n,0,Wx)}},ppe={draw(t,e){const n=ho(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},i7=ho(1/3),mpe=i7*2,gpe={draw(t,e){const n=ho(e/mpe),r=n*i7;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},ype={draw(t,e){const n=ho(e),r=-n/2;t.rect(r,r,n,n)}},vpe=.8908130915292852,a7=i0(a0/10)/i0(7*a0/10),bpe=i0(Wx/10)*a7,xpe=-X8(Wx/10)*a7,_pe={draw(t,e){const n=ho(e*vpe),r=bpe*n,i=xpe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Wx*a/5,c=X8(o),d=i0(o);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},oT=ho(3),wpe={draw(t,e){const n=-ho(e/(oT*3));t.moveTo(0,n*2),t.lineTo(-oT*n,-n),t.lineTo(oT*n,-n),t.closePath()}},Ts=-.5,As=ho(3)/2,fO=1/ho(12),Spe=(fO/2+1)*3,Tpe={draw(t,e){const n=ho(e/Spe),r=n/2,i=n*fO,a=r,o=n*fO+n,c=-a,d=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(c,d),t.lineTo(Ts*r-As*i,As*r+Ts*i),t.lineTo(Ts*a-As*o,As*a+Ts*o),t.lineTo(Ts*c-As*d,As*c+Ts*d),t.lineTo(Ts*r+As*i,Ts*i-As*r),t.lineTo(Ts*a+As*o,Ts*o-As*a),t.lineTo(Ts*c+As*d,Ts*d-As*c),t.closePath()}};function Ape(t,e){let n=null,r=DN(i);t=typeof t=="function"?t:Vn(t||LN),e=typeof e=="function"?e:Vn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Vn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Vn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function s0(){}function o0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function s7(t){this._context=t}s7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Epe(t){return new s7(t)}function o7(t){this._context=t}o7.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ppe(t){return new o7(t)}function l7(t){this._context=t}l7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ope(t){return new l7(t)}function c7(t){this._context=t}c7.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cpe(t){return new c7(t)}function j5(t){return t<0?-1:1}function I5(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(j5(a)+j5(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function R5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lT(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function l0(t){this._context=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lT(this,this._t0,R5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lT(this,R5(this,n=I5(this,t,e)),n);break;default:lT(this,this._t0,n=I5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function u7(t){this._context=new d7(t)}(u7.prototype=Object.create(l0.prototype)).point=function(t,e){l0.prototype.point.call(this,e,t)};function d7(t){this._context=t}d7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Npe(t){return new l0(t)}function jpe(t){return new u7(t)}function f7(t){this._context=t}f7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=M5(t),i=M5(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M5(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Ipe(t){return new f7(t)}function Yx(t,e){this._context=t,this._t=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Rpe(t){return new Yx(t,.5)}function Mpe(t){return new Yx(t,0)}function Dpe(t){return new Yx(t,1)}function vh(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function kpe(t,e){return t[e]}function Lpe(t){const e=[];return e.key=t,e}function Vpe(){var t=Vn([]),e=hO,n=vh,r=kpe;function i(a){var o=Array.from(t.apply(this,arguments),Lpe),c,d=o.length,f=-1,p;for(const g of a)for(c=0,++f;c<d;++c)(o[c][f]=[0,+r(g,o[c].key,f,a)]).data=g;for(c=0,p=kN(e(o));c<d;++c)o[p[c]].index=c;return n(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Vn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Vn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?hO:typeof a=="function"?a:Vn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??vh,i):n},i}function Bpe(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}vh(t,e)}}function zpe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}vh(t,e)}}function Upe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,d=0,f=0;c<o;++c){for(var p=t[e[c]],g=p[r][1]||0,b=p[r-1][1]||0,w=(g-b)/2,P=0;P<c;++P){var T=t[e[P]],A=T[r][1]||0,C=T[r-1][1]||0;w+=A-C}d+=g,f+=w*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,vh(t,e)}}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}var $pe=["type","size","sizeType"];function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pO.apply(this,arguments)}function D5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(n),!0).forEach(function(r){Fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpe(t,e,n){return e=qpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qpe(t){var e=Hpe(t,"string");return cg(e)=="symbol"?e:e+""}function Hpe(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gpe(t,e){if(t==null)return{};var n=Kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var h7={symbolCircle:LN,symbolCross:ppe,symbolDiamond:gpe,symbolSquare:ype,symbolStar:_pe,symbolTriangle:wpe,symbolWye:Tpe},Wpe=Math.PI/180,Zpe=function(e){var n="symbol".concat(Kx(e));return h7[n]||LN},Ype=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Wpe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Xpe=function(e,n){h7["symbol".concat(Kx(e))]=n},VN=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,d=Gpe(e,$pe),f=k5(k5({},d),{},{type:r,size:a,sizeType:c}),p=function(){var A=Zpe(r),C=Ape().type(A).size(Ype(a,c,r));return C()},g=f.className,b=f.cx,w=f.cy,P=pt(f,!0);return b===+b&&w===+w&&a===+a?ne.createElement("path",pO({},P,{className:Nt("recharts-symbols",g),transform:"translate(".concat(b,", ").concat(w,")"),d:p()})):null};VN.registerSymbol=Xpe;function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO.apply(this,arguments)}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){ug(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m7(r.key),r)}}function tme(t,e,n){return e&&eme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,n){return e=c0(e),rme(t,p7()?Reflect.construct(e,n||[],c0(t).constructor):e.apply(t,n))}function rme(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ime(t)}function ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p7=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c0(t)}function ame(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gO(t,e)}function gO(t,e){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gO(t,e)}function ug(t,e,n){return e=m7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m7(t){var e=sme(t,"string");return bh(e)=="symbol"?e:e+""}function sme(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Es=32,BN=(function(t){function e(){return Jpe(this,e),nme(this,e,arguments)}return ame(e,t),tme(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Es/2,o=Es/6,c=Es/3,d=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Es,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Es,"M").concat(2*c,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Es/8,"h").concat(Es,"v").concat(Es*3/4,"h").concat(-Es,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var f=Qpe({},r);return delete f.legendIcon,ne.cloneElement(r.legendIcon,f)}return ne.createElement(VN,{fill:d,cx:a,cy:a,size:Es,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,c=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Es,height:Es},g={display:c==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(w,P){var T=w.formatter||d,A=Nt(ug(ug({"recharts-legend-item":!0},"legend-item-".concat(P),!0),"inactive",w.inactive));if(w.type==="none")return null;var C=St(w.value)?null:w.value;oo(!St(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var D=w.inactive?f:w.color;return ne.createElement("li",mO({className:A,style:g,key:"legend-item-".concat(P)},Cd(r.props,w,P)),ne.createElement(lO,{width:o,height:o,viewBox:p,style:b},r.renderIcon(w)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:D}},T?T(C,w,P):C))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(k.PureComponent);ug(BN,"displayName","Legend");ug(BN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cT,V5;function ome(){if(V5)return cT;V5=1;var t=qx();function e(){this.__data__=new t,this.size=0}return cT=e,cT}var uT,B5;function lme(){if(B5)return uT;B5=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return uT=t,uT}var dT,z5;function cme(){if(z5)return dT;z5=1;function t(e){return this.__data__.get(e)}return dT=t,dT}var fT,U5;function ume(){if(U5)return fT;U5=1;function t(e){return this.__data__.has(e)}return fT=t,fT}var hT,$5;function dme(){if($5)return hT;$5=1;var t=qx(),e=CN(),n=NN(),r=200;function i(a,o){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<r-1)return d.push([a,o]),this.size=++c.size,this;c=this.__data__=new n(d)}return c.set(a,o),this.size=c.size,this}return hT=i,hT}var pT,F5;function g7(){if(F5)return pT;F5=1;var t=qx(),e=ome(),n=lme(),r=cme(),i=ume(),a=dme();function o(c){var d=this.__data__=new t(c);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,pT=o,pT}var mT,q5;function fme(){if(q5)return mT;q5=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return mT=e,mT}var gT,H5;function hme(){if(H5)return gT;H5=1;function t(e){return this.__data__.has(e)}return gT=t,gT}var yT,G5;function y7(){if(G5)return yT;G5=1;var t=NN(),e=fme(),n=hme();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,yT=r,yT}var vT,K5;function v7(){if(K5)return vT;K5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return vT=t,vT}var bT,W5;function b7(){if(W5)return bT;W5=1;function t(e,n){return e.has(n)}return bT=t,bT}var xT,Z5;function x7(){if(Z5)return xT;Z5=1;var t=y7(),e=v7(),n=b7(),r=1,i=2;function a(o,c,d,f,p,g){var b=d&r,w=o.length,P=c.length;if(w!=P&&!(b&&P>w))return!1;var T=g.get(o),A=g.get(c);if(T&&A)return T==c&&A==o;var C=-1,D=!0,R=d&i?new t:void 0;for(g.set(o,c),g.set(c,o);++C<w;){var $=o[C],I=c[C];if(f)var B=b?f(I,$,C,c,o,g):f($,I,C,o,c,g);if(B!==void 0){if(B)continue;D=!1;break}if(R){if(!e(c,function(N,j){if(!n(R,j)&&($===N||p($,N,d,f,g)))return R.push(j)})){D=!1;break}}else if(!($===I||p($,I,d,f,g))){D=!1;break}}return g.delete(o),g.delete(c),D}return xT=a,xT}var _T,Y5;function pme(){if(Y5)return _T;Y5=1;var t=tl(),e=t.Uint8Array;return _T=e,_T}var wT,X5;function mme(){if(X5)return wT;X5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return wT=t,wT}var ST,Q5;function zN(){if(Q5)return ST;Q5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return ST=t,ST}var TT,J5;function gme(){if(J5)return TT;J5=1;var t=cy(),e=pme(),n=ON(),r=x7(),i=mme(),a=zN(),o=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Map]",b="[object Number]",w="[object RegExp]",P="[object Set]",T="[object String]",A="[object Symbol]",C="[object ArrayBuffer]",D="[object DataView]",R=t?t.prototype:void 0,$=R?R.valueOf:void 0;function I(B,N,j,V,K,q,H){switch(j){case D:if(B.byteLength!=N.byteLength||B.byteOffset!=N.byteOffset)return!1;B=B.buffer,N=N.buffer;case C:return!(B.byteLength!=N.byteLength||!q(new e(B),new e(N)));case d:case f:case b:return n(+B,+N);case p:return B.name==N.name&&B.message==N.message;case w:case T:return B==N+"";case g:var z=i;case P:var ie=V&o;if(z||(z=a),B.size!=N.size&&!ie)return!1;var de=H.get(B);if(de)return de==N;V|=c,H.set(B,N);var X=r(z(B),z(N),V,K,q,H);return H.delete(B),X;case A:if($)return $.call(B)==$.call(N)}return!1}return TT=I,TT}var AT,e4;function _7(){if(e4)return AT;e4=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return AT=t,AT}var ET,t4;function yme(){if(t4)return ET;t4=1;var t=_7(),e=ka();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return ET=n,ET}var PT,n4;function vme(){if(n4)return PT;n4=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var c=e[r];n(c,r,e)&&(o[a++]=c)}return o}return PT=t,PT}var OT,r4;function bme(){if(r4)return OT;r4=1;function t(){return[]}return OT=t,OT}var CT,i4;function xme(){if(i4)return CT;i4=1;var t=vme(),e=bme(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return r.call(o,c)}))}:e;return CT=a,CT}var NT,a4;function _me(){if(a4)return NT;a4=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return NT=t,NT}var jT,s4;function wme(){if(s4)return jT;s4=1;var t=Ql(),e=Jl(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return jT=r,jT}var IT,o4;function UN(){if(o4)return IT;o4=1;var t=wme(),e=Jl(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return IT=a,IT}var xm={exports:{}},RT,l4;function Sme(){if(l4)return RT;l4=1;function t(){return!1}return RT=t,RT}xm.exports;var c4;function w7(){return c4||(c4=1,(function(t,e){var n=tl(),r=Sme(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,c=o?n.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||r;t.exports=f})(xm,xm.exports)),xm.exports}var MT,u4;function $N(){if(u4)return MT;u4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return MT=n,MT}var DT,d4;function FN(){if(d4)return DT;d4=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return DT=e,DT}var kT,f4;function Tme(){if(f4)return kT;f4=1;var t=Ql(),e=FN(),n=Jl(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",b="[object RegExp]",w="[object Set]",P="[object String]",T="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",$="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",V="[object Uint16Array]",K="[object Uint32Array]",q={};q[D]=q[R]=q[$]=q[I]=q[B]=q[N]=q[j]=q[V]=q[K]=!0,q[r]=q[i]=q[A]=q[a]=q[C]=q[o]=q[c]=q[d]=q[f]=q[p]=q[g]=q[b]=q[w]=q[P]=q[T]=!1;function H(z){return n(z)&&e(z.length)&&!!q[t(z)]}return kT=H,kT}var LT,h4;function S7(){if(h4)return LT;h4=1;function t(e){return function(n){return e(n)}}return LT=t,LT}var _m={exports:{}};_m.exports;var p4;function Ame(){return p4||(p4=1,(function(t,e){var n=F8(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,c=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=c})(_m,_m.exports)),_m.exports}var VT,m4;function T7(){if(m4)return VT;m4=1;var t=Tme(),e=S7(),n=Ame(),r=n&&n.isTypedArray,i=r?e(r):t;return VT=i,VT}var BT,g4;function Eme(){if(g4)return BT;g4=1;var t=_me(),e=UN(),n=ka(),r=w7(),i=$N(),a=T7(),o=Object.prototype,c=o.hasOwnProperty;function d(f,p){var g=n(f),b=!g&&e(f),w=!g&&!b&&r(f),P=!g&&!b&&!w&&a(f),T=g||b||w||P,A=T?t(f.length,String):[],C=A.length;for(var D in f)(p||c.call(f,D))&&!(T&&(D=="length"||w&&(D=="offset"||D=="parent")||P&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||i(D,C)))&&A.push(D);return A}return BT=d,BT}var zT,y4;function Pme(){if(y4)return zT;y4=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return zT=e,zT}var UT,v4;function A7(){if(v4)return UT;v4=1;function t(e,n){return function(r){return e(n(r))}}return UT=t,UT}var $T,b4;function Ome(){if(b4)return $T;b4=1;var t=A7(),e=t(Object.keys,Object);return $T=e,$T}var FT,x4;function Cme(){if(x4)return FT;x4=1;var t=Pme(),e=Ome(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&o.push(c);return o}return FT=i,FT}var qT,_4;function dy(){if(_4)return qT;_4=1;var t=PN(),e=FN();function n(r){return r!=null&&e(r.length)&&!t(r)}return qT=n,qT}var HT,w4;function Xx(){if(w4)return HT;w4=1;var t=Eme(),e=Cme(),n=dy();function r(i){return n(i)?t(i):e(i)}return HT=r,HT}var GT,S4;function Nme(){if(S4)return GT;S4=1;var t=yme(),e=xme(),n=Xx();function r(i){return t(i,n,e)}return GT=r,GT}var KT,T4;function jme(){if(T4)return KT;T4=1;var t=Nme(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,c,d,f,p){var g=c&e,b=t(a),w=b.length,P=t(o),T=P.length;if(w!=T&&!g)return!1;for(var A=w;A--;){var C=b[A];if(!(g?C in o:r.call(o,C)))return!1}var D=p.get(a),R=p.get(o);if(D&&R)return D==o&&R==a;var $=!0;p.set(a,o),p.set(o,a);for(var I=g;++A<w;){C=b[A];var B=a[C],N=o[C];if(d)var j=g?d(N,B,C,o,a,p):d(B,N,C,a,o,p);if(!(j===void 0?B===N||f(B,N,c,d,p):j)){$=!1;break}I||(I=C=="constructor")}if($&&!I){var V=a.constructor,K=o.constructor;V!=K&&"constructor"in a&&"constructor"in o&&!(typeof V=="function"&&V instanceof V&&typeof K=="function"&&K instanceof K)&&($=!1)}return p.delete(a),p.delete(o),$}return KT=i,KT}var WT,A4;function Ime(){if(A4)return WT;A4=1;var t=Ud(),e=tl(),n=t(e,"DataView");return WT=n,WT}var ZT,E4;function Rme(){if(E4)return ZT;E4=1;var t=Ud(),e=tl(),n=t(e,"Promise");return ZT=n,ZT}var YT,P4;function E7(){if(P4)return YT;P4=1;var t=Ud(),e=tl(),n=t(e,"Set");return YT=n,YT}var XT,O4;function Mme(){if(O4)return XT;O4=1;var t=Ud(),e=tl(),n=t(e,"WeakMap");return XT=n,XT}var QT,C4;function Dme(){if(C4)return QT;C4=1;var t=Ime(),e=CN(),n=Rme(),r=E7(),i=Mme(),a=Ql(),o=q8(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",b="[object DataView]",w=o(t),P=o(e),T=o(n),A=o(r),C=o(i),D=a;return(t&&D(new t(new ArrayBuffer(1)))!=b||e&&D(new e)!=c||n&&D(n.resolve())!=f||r&&D(new r)!=p||i&&D(new i)!=g)&&(D=function(R){var $=a(R),I=$==d?R.constructor:void 0,B=I?o(I):"";if(B)switch(B){case w:return b;case P:return c;case T:return f;case A:return p;case C:return g}return $}),QT=D,QT}var JT,N4;function kme(){if(N4)return JT;N4=1;var t=g7(),e=x7(),n=gme(),r=jme(),i=Dme(),a=ka(),o=w7(),c=T7(),d=1,f="[object Arguments]",p="[object Array]",g="[object Object]",b=Object.prototype,w=b.hasOwnProperty;function P(T,A,C,D,R,$){var I=a(T),B=a(A),N=I?p:i(T),j=B?p:i(A);N=N==f?g:N,j=j==f?g:j;var V=N==g,K=j==g,q=N==j;if(q&&o(T)){if(!o(A))return!1;I=!0,V=!1}if(q&&!V)return $||($=new t),I||c(T)?e(T,A,C,D,R,$):n(T,A,N,C,D,R,$);if(!(C&d)){var H=V&&w.call(T,"__wrapped__"),z=K&&w.call(A,"__wrapped__");if(H||z){var ie=H?T.value():T,de=z?A.value():A;return $||($=new t),R(ie,de,C,D,$)}}return q?($||($=new t),r(T,A,C,D,R,$)):!1}return JT=P,JT}var eA,j4;function qN(){if(j4)return eA;j4=1;var t=kme(),e=Jl();function n(r,i,a,o,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,c)}return eA=n,eA}var tA,I4;function Lme(){if(I4)return tA;I4=1;var t=g7(),e=qN(),n=1,r=2;function i(a,o,c,d){var f=c.length,p=f,g=!d;if(a==null)return!p;for(a=Object(a);f--;){var b=c[f];if(g&&b[2]?b[1]!==a[b[0]]:!(b[0]in a))return!1}for(;++f<p;){b=c[f];var w=b[0],P=a[w],T=b[1];if(g&&b[2]){if(P===void 0&&!(w in a))return!1}else{var A=new t;if(d)var C=d(P,T,w,a,o,A);if(!(C===void 0?e(T,P,n|r,d,A):C))return!1}}return!0}return tA=i,tA}var nA,R4;function P7(){if(R4)return nA;R4=1;var t=pu();function e(n){return n===n&&!t(n)}return nA=e,nA}var rA,M4;function Vme(){if(M4)return rA;M4=1;var t=P7(),e=Xx();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],c=r[o];i[a]=[o,c,t(c)]}return i}return rA=n,rA}var iA,D4;function O7(){if(D4)return iA;D4=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return iA=t,iA}var aA,k4;function Bme(){if(k4)return aA;k4=1;var t=Lme(),e=Vme(),n=O7();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return aA=r,aA}var sA,L4;function zme(){if(L4)return sA;L4=1;function t(e,n){return e!=null&&n in Object(e)}return sA=t,sA}var oA,V4;function Ume(){if(V4)return oA;V4=1;var t=K8(),e=UN(),n=ka(),r=$N(),i=FN(),a=Gx();function o(c,d,f){d=t(d,c);for(var p=-1,g=d.length,b=!1;++p<g;){var w=a(d[p]);if(!(b=c!=null&&f(c,w)))break;c=c[w]}return b||++p!=g?b:(g=c==null?0:c.length,!!g&&i(g)&&r(w,g)&&(n(c)||e(c)))}return oA=o,oA}var lA,B4;function $me(){if(B4)return lA;B4=1;var t=zme(),e=Ume();function n(r,i){return r!=null&&e(r,i,t)}return lA=n,lA}var cA,z4;function Fme(){if(z4)return cA;z4=1;var t=qN(),e=W8(),n=$me(),r=EN(),i=P7(),a=O7(),o=Gx(),c=1,d=2;function f(p,g){return r(p)&&i(g)?a(o(p),g):function(b){var w=e(b,p);return w===void 0&&w===g?n(b,p):t(g,w,c|d)}}return cA=f,cA}var uA,U4;function cp(){if(U4)return uA;U4=1;function t(e){return e}return uA=t,uA}var dA,$4;function qme(){if($4)return dA;$4=1;function t(e){return function(n){return n?.[e]}}return dA=t,dA}var fA,F4;function Hme(){if(F4)return fA;F4=1;var t=IN();function e(n){return function(r){return t(r,n)}}return fA=e,fA}var hA,q4;function Gme(){if(q4)return hA;q4=1;var t=qme(),e=Hme(),n=EN(),r=Gx();function i(a){return n(a)?t(r(a)):e(a)}return hA=i,hA}var pA,H4;function nl(){if(H4)return pA;H4=1;var t=Bme(),e=Fme(),n=cp(),r=ka(),i=Gme();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return pA=a,pA}var mA,G4;function C7(){if(G4)return mA;G4=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return mA=t,mA}var gA,K4;function Kme(){if(K4)return gA;K4=1;function t(e){return e!==e}return gA=t,gA}var yA,W4;function Wme(){if(W4)return yA;W4=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return yA=t,yA}var vA,Z4;function Zme(){if(Z4)return vA;Z4=1;var t=C7(),e=Kme(),n=Wme();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return vA=r,vA}var bA,Y4;function Yme(){if(Y4)return bA;Y4=1;var t=Zme();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return bA=e,bA}var xA,X4;function Xme(){if(X4)return xA;X4=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return xA=t,xA}var _A,Q4;function Qme(){if(Q4)return _A;Q4=1;function t(){}return _A=t,_A}var wA,J4;function Jme(){if(J4)return wA;J4=1;var t=E7(),e=Qme(),n=zN(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return wA=i,wA}var SA,eV;function ege(){if(eV)return SA;eV=1;var t=y7(),e=Yme(),n=Xme(),r=b7(),i=Jme(),a=zN(),o=200;function c(d,f,p){var g=-1,b=e,w=d.length,P=!0,T=[],A=T;if(p)P=!1,b=n;else if(w>=o){var C=f?null:i(d);if(C)return a(C);P=!1,b=r,A=new t}else A=f?[]:T;e:for(;++g<w;){var D=d[g],R=f?f(D):D;if(D=p||D!==0?D:0,P&&R===R){for(var $=A.length;$--;)if(A[$]===R)continue e;f&&A.push(R),T.push(D)}else b(A,R,p)||(A!==T&&A.push(R),T.push(D))}return T}return SA=c,SA}var TA,tV;function tge(){if(tV)return TA;tV=1;var t=nl(),e=ege();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return TA=n,TA}var nge=tge();const nV=pn(nge);function N7(t,e,n){return e===!0?nV(t,n):St(e)?nV(t,e):t}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var rge=["ref"];function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ige(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I7(r.key),r)}}function age(t,e,n){return e&&iV(t.prototype,e),n&&iV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sge(t,e,n){return e=u0(e),oge(t,j7()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function oge(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lge(t)}function lge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j7=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yO(t,e)}function yO(t,e){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yO(t,e)}function Qx(t,e,n){return e=I7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7(t){var e=uge(t,"string");return xh(e)=="symbol"?e:e+""}function uge(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dge(t,e){if(t==null)return{};var n=fge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hge(t){return t.value}function pge(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=dge(e,rge);return ne.createElement(BN,n)}var aV=1,rh=(function(t){function e(){var n;ige(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=sge(this,e,[].concat(i)),Qx(n,"lastBoundingBox",{width:-1,height:-1}),n}return cge(e,t),age(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aV||Math.abs(i.height-this.lastBoundingBox.height)>aV)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,c=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,g,b;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var w=this.getBBoxSnapshot();g={left:((f||0)-w.width)/2}}else g=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var P=this.getBBoxSnapshot();b={top:((p||0)-P.height)/2}}else b=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Tl(Tl({},g),b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,c=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,g=Tl(Tl({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return ne.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(w){r.wrapperNode=w}},pge(a,Tl(Tl({},this.props),{},{payload:N7(p,f,hge)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Tl(Tl({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(k.PureComponent);Qx(rh,"displayName","Legend");Qx(rh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AA,sV;function mge(){if(sV)return AA;sV=1;var t=cy(),e=UN(),n=ka(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return AA=i,AA}var EA,oV;function R7(){if(oV)return EA;oV=1;var t=_7(),e=mge();function n(r,i,a,o,c){var d=-1,f=r.length;for(a||(a=e),c||(c=[]);++d<f;){var p=r[d];i>0&&a(p)?i>1?n(p,i-1,a,o,c):t(c,p):o||(c[c.length]=p)}return c}return EA=n,EA}var PA,lV;function gge(){if(lV)return PA;lV=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),c=i(n),d=c.length;d--;){var f=c[e?d:++a];if(r(o[f],f,o)===!1)break}return n}}return PA=t,PA}var OA,cV;function yge(){if(cV)return OA;cV=1;var t=gge(),e=t();return OA=e,OA}var CA,uV;function M7(){if(uV)return CA;uV=1;var t=yge(),e=Xx();function n(r,i){return r&&t(r,i,e)}return CA=n,CA}var NA,dV;function vge(){if(dV)return NA;dV=1;var t=dy();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,c=r?o:-1,d=Object(i);(r?c--:++c<o)&&a(d[c],c,d)!==!1;);return i}}return NA=e,NA}var jA,fV;function HN(){if(fV)return jA;fV=1;var t=M7(),e=vge(),n=e(t);return jA=n,jA}var IA,hV;function D7(){if(hV)return IA;hV=1;var t=HN(),e=dy();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(c,d,f){o[++a]=i(c,d,f)}),o}return IA=n,IA}var RA,pV;function bge(){if(pV)return RA;pV=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return RA=t,RA}var MA,mV;function xge(){if(mV)return MA;mV=1;var t=sp();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,c=t(n),d=r!==void 0,f=r===null,p=r===r,g=t(r);if(!f&&!g&&!c&&n>r||c&&d&&p&&!f&&!g||a&&d&&p||!i&&p||!o)return 1;if(!a&&!c&&!g&&n<r||g&&i&&o&&!a&&!c||f&&i&&o||!d&&o||!p)return-1}return 0}return MA=e,MA}var DA,gV;function _ge(){if(gV)return DA;gV=1;var t=xge();function e(n,r,i){for(var a=-1,o=n.criteria,c=r.criteria,d=o.length,f=i.length;++a<d;){var p=t(o[a],c[a]);if(p){if(a>=f)return p;var g=i[a];return p*(g=="desc"?-1:1)}}return n.index-r.index}return DA=e,DA}var kA,yV;function wge(){if(yV)return kA;yV=1;var t=jN(),e=IN(),n=nl(),r=D7(),i=bge(),a=S7(),o=_ge(),c=cp(),d=ka();function f(p,g,b){g.length?g=t(g,function(T){return d(T)?function(A){return e(A,T.length===1?T[0]:T)}:T}):g=[c];var w=-1;g=t(g,a(n));var P=r(p,function(T,A,C){var D=t(g,function(R){return R(T)});return{criteria:D,index:++w,value:T}});return i(P,function(T,A){return o(T,A,b)})}return kA=f,kA}var LA,vV;function Sge(){if(vV)return LA;vV=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return LA=t,LA}var VA,bV;function Tge(){if(bV)return VA;bV=1;var t=Sge(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,c=-1,d=e(o.length-i,0),f=Array(d);++c<d;)f[c]=o[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=o[c];return p[i]=a(f),t(r,this,p)}}return VA=n,VA}var BA,xV;function Age(){if(xV)return BA;xV=1;function t(e){return function(){return e}}return BA=t,BA}var zA,_V;function k7(){if(_V)return zA;_V=1;var t=Ud(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return zA=e,zA}var UA,wV;function Ege(){if(wV)return UA;wV=1;var t=Age(),e=k7(),n=cp(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return UA=r,UA}var $A,SV;function Pge(){if(SV)return $A;SV=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var c=n(),d=e-(c-o);if(o=c,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return $A=r,$A}var FA,TV;function Oge(){if(TV)return FA;TV=1;var t=Ege(),e=Pge(),n=e(t);return FA=n,FA}var qA,AV;function Cge(){if(AV)return qA;AV=1;var t=cp(),e=Tge(),n=Oge();function r(i,a){return n(e(i,a,t),i+"")}return qA=r,qA}var HA,EV;function Jx(){if(EV)return HA;EV=1;var t=ON(),e=dy(),n=$N(),r=pu();function i(a,o,c){if(!r(c))return!1;var d=typeof o;return(d=="number"?e(c)&&n(o,c.length):d=="string"&&o in c)?t(c[o],a):!1}return HA=i,HA}var GA,PV;function Nge(){if(PV)return GA;PV=1;var t=R7(),e=wge(),n=Cge(),r=Jx(),i=n(function(a,o){if(a==null)return[];var c=o.length;return c>1&&r(a,o[0],o[1])?o=[]:c>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return GA=i,GA}var jge=Nge();const GN=pn(jge);function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function vO(){return vO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vO.apply(this,arguments)}function Ige(t,e){return kge(t)||Dge(t,e)||Mge(t,e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(t,e){if(t){if(typeof t=="string")return OV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function kge(t){if(Array.isArray(t))return t}function CV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(n),!0).forEach(function(r){Lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lge(t,e,n){return e=Vge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vge(t){var e=Bge(t,"string");return dg(e)=="symbol"?e:e+""}function Bge(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zge(t){return Array.isArray(t)&&Qr(t[0])&&Qr(t[1])?t.join(" ~ "):t}var Uge=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,g=e.formatter,b=e.itemSorter,w=e.wrapperClassName,P=e.labelClassName,T=e.label,A=e.labelFormatter,C=e.accessibilityLayer,D=C===void 0?!1:C,R=function(){if(p&&p.length){var H={padding:0,margin:0},z=(b?GN(p,b):p).map(function(ie,de){if(ie.type==="none")return null;var X=KA({display:"block",paddingTop:4,paddingBottom:4,color:ie.color||"#000"},c),re=ie.formatter||g||zge,ee=ie.value,le=ie.name,oe=ee,Q=le;if(re&&oe!=null&&Q!=null){var ae=re(ee,le,ie,de,p);if(Array.isArray(ae)){var ce=Ige(ae,2);oe=ce[0],Q=ce[1]}else oe=ae}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(de),style:X},Qr(Q)?ne.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Qr(Q)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},oe),ne.createElement("span",{className:"recharts-tooltip-item-unit"},ie.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:H},z)}return null},$=KA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=KA({margin:0},f),B=!Pt(T),N=B?T:"",j=Nt("recharts-default-tooltip",w),V=Nt("recharts-tooltip-label",P);B&&A&&p!==void 0&&p!==null&&(N=A(T,p));var K=D?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",vO({className:j,style:$},K),ne.createElement("p",{className:V,style:I},ne.isValidElement(N)?N:"".concat(N)),R())};function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function Uv(t,e,n){return e=$ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=Fge(t,"string");return fg(e)=="symbol"?e:e+""}function Fge(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em="recharts-tooltip-wrapper",qge={visibility:"hidden"};function Hge(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Nt(em,Uv(Uv(Uv(Uv({},"".concat(em,"-right"),Ge(n)&&e&&Ge(e.x)&&n>=e.x),"".concat(em,"-left"),Ge(n)&&e&&Ge(e.x)&&n<e.x),"".concat(em,"-bottom"),Ge(r)&&e&&Ge(e.y)&&r>=e.y),"".concat(em,"-top"),Ge(r)&&e&&Ge(e.y)&&r<e.y))}function NV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&Ge(a[r]))return a[r];var p=n[r]-c-i,g=n[r]+i;if(e[r])return o[r]?p:g;if(o[r]){var b=p,w=d[r];return b<w?Math.max(g,d[r]):Math.max(p,d[r])}var P=g+c,T=d[r]+f;return P>T?Math.max(p,d[r]):Math.max(g,d[r])}function Gge(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Kge(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,f,p,g;return o.height>0&&o.width>0&&n?(p=NV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=NV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Gge({translateX:p,translateY:g,useTranslate3d:c})):f=qge,{cssProperties:f,cssClasses:Hge({translateX:p,translateY:g,coordinate:n})}}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){xO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V7(r.key),r)}}function Yge(t,e,n){return e&&Zge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xge(t,e,n){return e=d0(e),Qge(t,L7()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function Qge(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jge(t)}function Jge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function eye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bO(t,e)}function bO(t,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bO(t,e)}function xO(t,e,n){return e=V7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V7(t){var e=tye(t,"string");return _h(e)=="symbol"?e:e+""}function tye(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RV=1,nye=(function(t){function e(){var n;Wge(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xge(this,e,[].concat(i)),xO(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xO(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,f,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),n}return eye(e,t),Yge(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>RV||Math.abs(r.height-this.state.lastBoundingBox.height)>RV)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,g=i.hasPayload,b=i.isAnimationActive,w=i.offset,P=i.position,T=i.reverseDirection,A=i.useTranslate3d,C=i.viewBox,D=i.wrapperStyle,R=Kge({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:w,position:P,reverseDirection:T,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:C}),$=R.cssClasses,I=R.cssProperties,B=IV(IV({transition:b&&a?"transform ".concat(c,"ms ").concat(d):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},D);return ne.createElement("div",{tabIndex:-1,className:$,style:B,ref:function(j){r.wrapperNode=j}},f)}}])})(k.PureComponent),rye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},$d={isSsr:rye()};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){KN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z7(r.key),r)}}function sye(t,e,n){return e&&aye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oye(t,e,n){return e=f0(e),lye(t,B7()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function lye(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cye(t)}function cye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B7=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}function _O(t,e){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_O(t,e)}function KN(t,e,n){return e=z7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z7(t){var e=dye(t,"string");return wh(e)=="symbol"?e:e+""}function dye(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fye(t){return t.dataKey}function hye(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(Uge,e)}var Ns=(function(t){function e(){return iye(this,e),oye(this,e,arguments)}return uye(e,t),sye(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,g=i.filterNull,b=i.isAnimationActive,w=i.offset,P=i.payload,T=i.payloadUniqBy,A=i.position,C=i.reverseDirection,D=i.useTranslate3d,R=i.viewBox,$=i.wrapperStyle,I=P??[];g&&I.length&&(I=N7(P.filter(function(N){return N.value!=null&&(N.hide!==!0||r.props.includeHidden)}),T,fye));var B=I.length>0;return ne.createElement(nye,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:b,active:a,coordinate:p,hasPayload:B,offset:w,position:A,reverseDirection:C,useTranslate3d:D,viewBox:R,wrapperStyle:$},hye(f,DV(DV({},this.props),{},{payload:I})))}}])})(k.PureComponent);KN(Ns,"displayName","Tooltip");KN(Ns,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!$d.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WA,kV;function pye(){if(kV)return WA;kV=1;var t=tl(),e=function(){return t.Date.now()};return WA=e,WA}var ZA,LV;function mye(){if(LV)return ZA;LV=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return ZA=e,ZA}var YA,VV;function gye(){if(VV)return YA;VV=1;var t=mye(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return YA=n,YA}var XA,BV;function U7(){if(BV)return XA;BV=1;var t=gye(),e=pu(),n=sp(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=a.test(f);return g||o.test(f)?c(f.slice(2),g?2:8):i.test(f)?r:+f}return XA=d,XA}var QA,zV;function yye(){if(zV)return QA;zV=1;var t=pu(),e=pye(),n=U7(),r="Expected a function",i=Math.max,a=Math.min;function o(c,d,f){var p,g,b,w,P,T,A=0,C=!1,D=!1,R=!0;if(typeof c!="function")throw new TypeError(r);d=n(d)||0,t(f)&&(C=!!f.leading,D="maxWait"in f,b=D?i(n(f.maxWait)||0,d):b,R="trailing"in f?!!f.trailing:R);function $(z){var ie=p,de=g;return p=g=void 0,A=z,w=c.apply(de,ie),w}function I(z){return A=z,P=setTimeout(j,d),C?$(z):w}function B(z){var ie=z-T,de=z-A,X=d-ie;return D?a(X,b-de):X}function N(z){var ie=z-T,de=z-A;return T===void 0||ie>=d||ie<0||D&&de>=b}function j(){var z=e();if(N(z))return V(z);P=setTimeout(j,B(z))}function V(z){return P=void 0,R&&p?$(z):(p=g=void 0,w)}function K(){P!==void 0&&clearTimeout(P),A=0,p=T=g=P=void 0}function q(){return P===void 0?w:V(e())}function H(){var z=e(),ie=N(z);if(p=arguments,g=this,T=z,ie){if(P===void 0)return I(T);if(D)return clearTimeout(P),P=setTimeout(j,d),$(T)}return P===void 0&&(P=setTimeout(j,d)),w}return H.cancel=K,H.flush=q,H}return QA=o,QA}var JA,UV;function vye(){if(UV)return JA;UV=1;var t=yye(),e=pu(),n="Expected a function";function r(i,a,o){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:c,maxWait:a,trailing:d})}return JA=r,JA}var bye=vye();const $7=pn(bye);function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function $V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(r){xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xye(t,e,n){return e=_ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ye(t){var e=wye(t,"string");return hg(e)=="symbol"?e:e+""}function wye(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sye(t,e){return Pye(t)||Eye(t,e)||Aye(t,e)||Tye()}function Tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aye(t,e){if(t){if(typeof t=="string")return FV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FV(t,e)}}function FV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Pye(t){if(Array.isArray(t))return t}var eE=k.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,c=t.height,d=c===void 0?"100%":c,f=t.minWidth,p=f===void 0?0:f,g=t.minHeight,b=t.maxHeight,w=t.children,P=t.debounce,T=P===void 0?0:P,A=t.id,C=t.className,D=t.onResize,R=t.style,$=R===void 0?{}:R,I=k.useRef(null),B=k.useRef();B.current=D,k.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var N=k.useState({containerWidth:i.width,containerHeight:i.height}),j=Sye(N,2),V=j[0],K=j[1],q=k.useCallback(function(z,ie){K(function(de){var X=Math.round(z),re=Math.round(ie);return de.containerWidth===X&&de.containerHeight===re?de:{containerWidth:X,containerHeight:re}})},[]);k.useEffect(function(){var z=function(le){var oe,Q=le[0].contentRect,ae=Q.width,ce=Q.height;q(ae,ce),(oe=B.current)===null||oe===void 0||oe.call(B,ae,ce)};T>0&&(z=$7(z,T,{trailing:!0,leading:!1}));var ie=new ResizeObserver(z),de=I.current.getBoundingClientRect(),X=de.width,re=de.height;return q(X,re),ie.observe(I.current),function(){ie.disconnect()}},[q,T]);var H=k.useMemo(function(){var z=V.containerWidth,ie=V.containerHeight;if(z<0||ie<0)return null;oo(ld(o)||ld(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),oo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var de=ld(o)?z:o,X=ld(d)?ie:d;n&&n>0&&(de?X=de/n:X&&(de=X*n),b&&X>b&&(X=b)),oo(de>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,de,X,o,d,p,g,n);var re=!Array.isArray(w)&&Ml(w.type).endsWith("Chart");return ne.Children.map(w,function(ee){return ne.isValidElement(ee)?k.cloneElement(ee,$v({width:de,height:X},re?{style:$v({height:"100%",width:"100%",maxHeight:X,maxWidth:de},ee.props.style)}:{})):ee})},[n,w,d,b,g,p,V,o]);return ne.createElement("div",{id:A?"".concat(A):void 0,className:Nt("recharts-responsive-container",C),style:$v($v({},$),{},{width:o,height:d,minWidth:p,minHeight:g,maxHeight:b}),ref:I},H)}),e_=function(e){return null};e_.displayName="Cell";function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){Oye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oye(t,e,n){return e=Cye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cye(t){var e=Nye(t,"string");return pg(e)=="symbol"?e:e+""}function Nye(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nf={widthCache:{},cacheCount:0},jye=2e3,Iye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HV="recharts_measurement_span";function Rye(t){var e=wO({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var km=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||$d.isSsr)return{width:0,height:0};var r=Rye(n),i=JSON.stringify({text:e,copyStyle:r});if(Nf.widthCache[i])return Nf.widthCache[i];try{var a=document.getElementById(HV);a||(a=document.createElement("span"),a.setAttribute("id",HV),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=wO(wO({},Iye),r);Object.assign(a.style,o),a.textContent="".concat(e);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return Nf.widthCache[i]=d,++Nf.cacheCount>jye&&(Nf.cacheCount=0,Nf.widthCache={}),d}catch{return{width:0,height:0}}},Mye=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function h0(t,e){return Vye(t)||Lye(t,e)||kye(t,e)||Dye()}function Dye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(t,e){if(t){if(typeof t=="string")return GV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GV(t,e)}}function GV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function Vye(t){if(Array.isArray(t))return t}function Bye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uye(r.key),r)}}function zye(t,e,n){return e&&KV(t.prototype,e),n&&KV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uye(t){var e=$ye(t,"string");return mg(e)=="symbol"?e:e+""}function $ye(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZV=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hye=Object.keys(F7),Hf="NaN";function Gye(t,e){return t*F7[e]}var Fv=(function(){function t(e,n){Bye(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Fye.test(n)&&(this.num=NaN,this.unit=""),Hye.includes(n)&&(this.num=Gye(e,n),this.unit="px")}return zye(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=qye.exec(n))!==null&&r!==void 0?r:[],a=h0(i,3),o=a[1],c=a[2];return new t(parseFloat(o),c??"")}}])})();function q7(t){if(t.includes(Hf))return Hf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=WV.exec(e))!==null&&n!==void 0?n:[],i=h0(r,4),a=i[1],o=i[2],c=i[3],d=Fv.parse(a??""),f=Fv.parse(c??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Hf;e=e.replace(WV,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,b=(g=ZV.exec(e))!==null&&g!==void 0?g:[],w=h0(b,4),P=w[1],T=w[2],A=w[3],C=Fv.parse(P??""),D=Fv.parse(A??""),R=T==="+"?C.add(D):C.subtract(D);if(R.isNaN())return Hf;e=e.replace(ZV,R.toString())}return e}var YV=/\(([^()]*)\)/;function Kye(t){for(var e=t;e.includes("(");){var n=YV.exec(e),r=h0(n,2),i=r[1];e=e.replace(YV,q7(i))}return e}function Wye(t){var e=t.replace(/\s+/g,"");return e=Kye(e),e=q7(e),e}function Zye(t){try{return Wye(t)}catch{return Hf}}function tE(t){var e=Zye(t.slice(5,-1));return e===Hf?"":e}var Yye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xye=["dx","dy","angle","className","breakAll"];function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SO.apply(this,arguments)}function XV(t,e){if(t==null)return{};var n=Qye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QV(t,e){return nve(t)||tve(t,e)||eve(t,e)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eve(t,e){if(t){if(typeof t=="string")return JV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JV(t,e)}}function JV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function nve(t){if(Array.isArray(t))return t}var H7=/[ \f\n\r\t\v\u2028\u2029]+/,G7=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Pt(n)||(r?a=n.toString().split(""):a=n.toString().split(H7));var o=a.map(function(d){return{word:d,width:km(d,i).width}}),c=r?0:km("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},rve=function(e,n,r,i,a){var o=e.maxLines,c=e.children,d=e.style,f=e.breakAll,p=Ge(o),g=c,b=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return de.reduce(function(X,re){var ee=re.word,le=re.width,oe=X[X.length-1];if(oe&&(i==null||a||oe.width+le+r<Number(i)))oe.words.push(ee),oe.width+=le+r;else{var Q={words:[ee],width:le};X.push(Q)}return X},[])},w=b(n),P=function(de){return de.reduce(function(X,re){return X.width>re.width?X:re})};if(!p)return w;for(var T="",A=function(de){var X=g.slice(0,de),re=G7({breakAll:f,style:d,children:X+T}).wordsWithComputedWidth,ee=b(re),le=ee.length>o||P(ee).width>Number(i);return[le,ee]},C=0,D=g.length-1,R=0,$;C<=D&&R<=g.length-1;){var I=Math.floor((C+D)/2),B=I-1,N=A(B),j=QV(N,2),V=j[0],K=j[1],q=A(I),H=QV(q,1),z=H[0];if(!V&&!z&&(C=I+1),V&&z&&(D=I-1),!V&&z){$=K;break}R++}return $||w},e6=function(e){var n=Pt(e)?[]:e.toString().split(H7);return[{words:n}]},ive=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,c=e.maxLines;if((n||r)&&!$d.isSsr){var d,f,p=G7({breakAll:o,children:i,style:a});if(p){var g=p.wordsWithComputedWidth,b=p.spaceWidth;d=g,f=b}else return e6(i);return rve({breakAll:o,children:i,maxLines:c,style:a},d,f,n,r)}return e6(i)},t6="#808080",Nd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,g=p===void 0?!1:p,b=e.textAnchor,w=b===void 0?"start":b,P=e.verticalAnchor,T=P===void 0?"end":P,A=e.fill,C=A===void 0?t6:A,D=XV(e,Yye),R=k.useMemo(function(){return ive({breakAll:D.breakAll,children:D.children,maxLines:D.maxLines,scaleToFit:g,style:D.style,width:D.width})},[D.breakAll,D.children,D.maxLines,g,D.style,D.width]),$=D.dx,I=D.dy,B=D.angle,N=D.className,j=D.breakAll,V=XV(D,Xye);if(!Qr(r)||!Qr(a))return null;var K=r+(Ge($)?$:0),q=a+(Ge(I)?I:0),H;switch(T){case"start":H=tE("calc(".concat(f,")"));break;case"middle":H=tE("calc(".concat((R.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:H=tE("calc(".concat(R.length-1," * -").concat(c,")"));break}var z=[];if(g){var ie=R[0].width,de=D.width;z.push("scale(".concat((Ge(de)?de/ie:1)/ie,")"))}return B&&z.push("rotate(".concat(B,", ").concat(K,", ").concat(q,")")),z.length&&(V.transform=z.join(" ")),ne.createElement("text",SO({},pt(V,!0),{x:K,y:q,className:Nt("recharts-text",N),textAnchor:w,fill:C.includes("url")?t6:C}),R.map(function(X,re){var ee=X.words.join(j?"":" ");return ne.createElement("tspan",{x:K,dy:re===0?H:c,key:"".concat(ee,"-").concat(re)},ee)}))};function Yc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ave(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WN(t){let e,n,r;t.length!==2?(e=Yc,n=(c,d)=>Yc(t(c),d),r=(c,d)=>t(c)-d):(e=t===Yc||t===ave?t:sve,n=t,r=t);function i(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;n(c[g],d)<0?f=g+1:p=g}while(f<p)}return f}function a(c,d,f=0,p=c.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;n(c[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function o(c,d,f=0,p=c.length){const g=i(c,d,f,p-1);return g>f&&r(c[g-1],d)>-r(c[g],d)?g-1:g}return{left:i,center:o,right:a}}function sve(){return 0}function K7(t){return t===null?NaN:+t}function*ove(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lve=WN(Yc),fy=lve.right;WN(K7).center;class n6 extends Map{constructor(e,n=dve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(r6(this,e))}has(e){return super.has(r6(this,e))}set(e,n){return super.set(cve(this,e),n)}delete(e){return super.delete(uve(this,e))}}function r6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function uve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fve(t=Yc){if(t===Yc)return W7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function W7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hve=Math.sqrt(50),pve=Math.sqrt(10),mve=Math.sqrt(2);function p0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=hve?10:a>=pve?5:a>=mve?2:1;let c,d,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(t*f),d=Math.round(e*f),c/f<t&&++c,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,c=Math.round(t/f),d=Math.round(e/f),c*f<t&&++c,d*f>e&&--d),d<c&&.5<=n&&n<2?p0(t,e,n*2):[c,d,f]}function TO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?p0(e,t,n):p0(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)d[f]=(a-f)/-o;else for(let f=0;f<c;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(i+f)/-o;else for(let f=0;f<c;++f)d[f]=(i+f)*o;return d}function AO(t,e,n){return e=+e,t=+t,n=+n,p0(t,e,n)[2]}function EO(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AO(e,t,n):AO(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function i6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function a6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Z7(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?W7:fve(i);r>n;){if(r-n>600){const d=r-n+1,f=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(e-f*g/d+b)),P=Math.min(r,Math.floor(e+(d-f)*g/d+b));Z7(t,e,w,P,i)}const a=t[e];let o=n,c=r;for(tm(t,n,e),i(t[r],a)>0&&tm(t,n,r);o<c;){for(tm(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?tm(t,n,c):(++c,tm(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function tm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function gve(t,e,n){if(t=Float64Array.from(ove(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return a6(t);if(e>=1)return i6(t);var r,i=(r-1)*e,a=Math.floor(i),o=i6(Z7(t,a).subarray(0,a+1)),c=a6(t.subarray(a+1));return o+(c-o)*(i-a)}}function yve(t,e,n=K7){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function vve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ec(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const PO=Symbol("implicit");function ZN(){var t=new n6,e=[],n=[],r=PO;function i(a){let o=t.get(a);if(o===void 0){if(r!==PO)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new n6;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ZN(e,n).unknown(r)},Us.apply(i,arguments),i}function gg(){var t=ZN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,d=0,f=0,p=.5;delete t.unknown;function g(){var b=e().length,w=i<r,P=w?i:r,T=w?r:i;a=(T-P)/Math.max(1,b-d+f*2),c&&(a=Math.floor(a)),P+=(T-P-a*(b-d))*p,o=a*(1-d),c&&(P=Math.round(P),o=Math.round(o));var A=vve(b).map(function(C){return P+a*C});return n(w?A.reverse():A)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(b){return arguments.length?(c=!!b,g()):c},t.padding=function(b){return arguments.length?(d=Math.min(1,f=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(f=+b,g()):f},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return gg(e(),[r,i]).round(c).paddingInner(d).paddingOuter(f).align(p)},Us.apply(g(),arguments)}function Y7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y7(e())},t}function Lm(){return Y7(gg.apply(null,arguments).paddingInner(1))}function YN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function X7(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hy(){}var yg=.7,m0=1/yg,ih="\\s*([+-]?\\d+)\\s*",vg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bve=/^#([0-9a-f]{3,8})$/,xve=new RegExp(`^rgb\\(${ih},${ih},${ih}\\)$`),_ve=new RegExp(`^rgb\\(${Ho},${Ho},${Ho}\\)$`),wve=new RegExp(`^rgba\\(${ih},${ih},${ih},${vg}\\)$`),Sve=new RegExp(`^rgba\\(${Ho},${Ho},${Ho},${vg}\\)$`),Tve=new RegExp(`^hsl\\(${vg},${Ho},${Ho}\\)$`),Ave=new RegExp(`^hsla\\(${vg},${Ho},${Ho},${vg}\\)$`),s6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YN(hy,bg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:o6,formatHex:o6,formatHex8:Eve,formatHsl:Pve,formatRgb:l6,toString:l6});function o6(){return this.rgb().formatHex()}function Eve(){return this.rgb().formatHex8()}function Pve(){return Q7(this).formatHsl()}function l6(){return this.rgb().formatRgb()}function bg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?c6(e):n===3?new Ma(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xve.exec(t))?new Ma(e[1],e[2],e[3],1):(e=_ve.exec(t))?new Ma(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wve.exec(t))?qv(e[1],e[2],e[3],e[4]):(e=Sve.exec(t))?qv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tve.exec(t))?f6(e[1],e[2]/100,e[3]/100,1):(e=Ave.exec(t))?f6(e[1],e[2]/100,e[3]/100,e[4]):s6.hasOwnProperty(t)?c6(s6[t]):t==="transparent"?new Ma(NaN,NaN,NaN,0):null}function c6(t){return new Ma(t>>16&255,t>>8&255,t&255,1)}function qv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ma(t,e,n,r)}function Ove(t){return t instanceof hy||(t=bg(t)),t?(t=t.rgb(),new Ma(t.r,t.g,t.b,t.opacity)):new Ma}function OO(t,e,n,r){return arguments.length===1?Ove(t):new Ma(t,e,n,r??1)}function Ma(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}YN(Ma,OO,X7(hy,{brighter(t){return t=t==null?m0:Math.pow(m0,t),new Ma(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yg:Math.pow(yg,t),new Ma(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ma(gd(this.r),gd(this.g),gd(this.b),g0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u6,formatHex:u6,formatHex8:Cve,formatRgb:d6,toString:d6}));function u6(){return`#${cd(this.r)}${cd(this.g)}${cd(this.b)}`}function Cve(){return`#${cd(this.r)}${cd(this.g)}${cd(this.b)}${cd((isNaN(this.opacity)?1:this.opacity)*255)}`}function d6(){const t=g0(this.opacity);return`${t===1?"rgb(":"rgba("}${gd(this.r)}, ${gd(this.g)}, ${gd(this.b)}${t===1?")":`, ${t})`}`}function g0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cd(t){return t=gd(t),(t<16?"0":"")+t.toString(16)}function f6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ao(t,e,n,r)}function Q7(t){if(t instanceof ao)return new ao(t.h,t.s,t.l,t.opacity);if(t instanceof hy||(t=bg(t)),!t)return new ao;if(t instanceof ao)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new ao(o,c,d,t.opacity)}function Nve(t,e,n,r){return arguments.length===1?Q7(t):new ao(t,e,n,r??1)}function ao(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}YN(ao,Nve,X7(hy,{brighter(t){return t=t==null?m0:Math.pow(m0,t),new ao(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yg:Math.pow(yg,t),new ao(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ma(nE(t>=240?t-240:t+120,i,r),nE(t,i,r),nE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ao(h6(this.h),Hv(this.s),Hv(this.l),g0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=g0(this.opacity);return`${t===1?"hsl(":"hsla("}${h6(this.h)}, ${Hv(this.s)*100}%, ${Hv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function h6(t){return t=(t||0)%360,t<0?t+360:t}function Hv(t){return Math.max(0,Math.min(1,t||0))}function nE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const XN=t=>()=>t;function jve(t,e){return function(n){return t+n*e}}function Ive(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Rve(t){return(t=+t)==1?J7:function(e,n){return n-e?Ive(e,n,t):XN(isNaN(e)?n:e)}}function J7(t,e){var n=e-t;return n?jve(t,n):XN(isNaN(t)?e:t)}const p6=(function t(e){var n=Rve(e);function r(i,a){var o=n((i=OO(i)).r,(a=OO(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),f=J7(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=d(p),i.opacity=f(p),i+""}}return r.gamma=t,r})(1);function Mve(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Dve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kve(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=up(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function Lve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function y0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=up(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var CO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rE=new RegExp(CO.source,"g");function Bve(t){return function(){return t}}function zve(t){return function(e){return t(e)+""}}function Uve(t,e){var n=CO.lastIndex=rE.lastIndex=0,r,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(r=CO.exec(t))&&(i=rE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:y0(r,i)})),n=rE.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?zve(d[0].x):Bve(e):(e=d.length,function(f){for(var p=0,g;p<e;++p)c[(g=d[p]).i]=g.x(f);return c.join("")})}function up(t,e){var n=typeof e,r;return e==null||n==="boolean"?XN(e):(n==="number"?y0:n==="string"?(r=bg(e))?(e=r,p6):Uve:e instanceof bg?p6:e instanceof Date?Lve:Dve(e)?Mve:Array.isArray(e)?kve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vve:y0)(t,e)}function QN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $ve(t,e){e===void 0&&(e=t,t=up);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function Fve(t){return function(){return t}}function v0(t){return+t}var m6=[0,1];function ma(t){return t}function NO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fve(isNaN(e)?NaN:.5)}function qve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hve(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=NO(i,r),a=n(o,a)):(r=NO(r,i),a=n(a,o)),function(c){return a(r(c))}}function Gve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=NO(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var d=fy(t,c,1,r)-1;return a[d](i[d](c))}}function py(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function t_(){var t=m6,e=m6,n=up,r,i,a,o=ma,c,d,f;function p(){var b=Math.min(t.length,e.length);return o!==ma&&(o=qve(t[0],t[b-1])),c=b>2?Gve:Hve,d=f=null,g}function g(b){return b==null||isNaN(b=+b)?a:(d||(d=c(t.map(r),e,n)))(r(o(b)))}return g.invert=function(b){return o(i((f||(f=c(e,t.map(r),y0)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,v0),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=QN,p()},g.clamp=function(b){return arguments.length?(o=b?!0:ma,p()):o!==ma},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(a=b,g):a},function(b,w){return r=b,i=w,p()}}function JN(){return t_()(ma,ma)}function Kve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function b0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sh(t){return t=b0(Math.abs(t)),t?t[1]:NaN}function Wve(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Zve(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Yve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xg(t){if(!(e=Yve.exec(t)))throw new Error("invalid format: "+t);var e;return new ej({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xg.prototype=ej.prototype;function ej(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ej.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var eH;function Qve(t,e){var n=b0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(eH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+b0(t,Math.max(0,e+a-1))[0]}function g6(t,e){var n=b0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const y6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>g6(t*100,e),r:g6,s:Qve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v6(t){return t}var b6=Array.prototype.map,x6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jve(t){var e=t.grouping===void 0||t.thousands===void 0?v6:Wve(b6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?v6:Zve(b6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g){g=xg(g);var b=g.fill,w=g.align,P=g.sign,T=g.symbol,A=g.zero,C=g.width,D=g.comma,R=g.precision,$=g.trim,I=g.type;I==="n"?(D=!0,I="g"):y6[I]||(R===void 0&&(R=12),$=!0,I="g"),(A||b==="0"&&w==="=")&&(A=!0,b="0",w="=");var B=T==="$"?n:T==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",N=T==="$"?r:/[%p]/.test(I)?o:"",j=y6[I],V=/[defgprs%]/.test(I);R=R===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function K(q){var H=B,z=N,ie,de,X;if(I==="c")z=j(q)+z,q="";else{q=+q;var re=q<0||1/q<0;if(q=isNaN(q)?d:j(Math.abs(q),R),$&&(q=Xve(q)),re&&+q==0&&P!=="+"&&(re=!1),H=(re?P==="("?P:c:P==="-"||P==="("?"":P)+H,z=(I==="s"?x6[8+eH/3]:"")+z+(re&&P==="("?")":""),V){for(ie=-1,de=q.length;++ie<de;)if(X=q.charCodeAt(ie),48>X||X>57){z=(X===46?i+q.slice(ie+1):q.slice(ie))+z,q=q.slice(0,ie);break}}}D&&!A&&(q=e(q,1/0));var ee=H.length+q.length+z.length,le=ee<C?new Array(C-ee+1).join(b):"";switch(D&&A&&(q=e(le+q,le.length?C-z.length:1/0),le=""),w){case"<":q=H+q+z+le;break;case"=":q=H+le+q+z;break;case"^":q=le.slice(0,ee=le.length>>1)+H+q+z+le.slice(ee);break;default:q=le+H+q+z;break}return a(q)}return K.toString=function(){return g+""},K}function p(g,b){var w=f((g=xg(g),g.type="f",g)),P=Math.max(-8,Math.min(8,Math.floor(Sh(b)/3)))*3,T=Math.pow(10,-P),A=x6[8+P/3];return function(C){return w(T*C)+A}}return{format:f,formatPrefix:p}}var Gv,tj,tH;ebe({thousands:",",grouping:[3],currency:["$",""]});function ebe(t){return Gv=Jve(t),tj=Gv.format,tH=Gv.formatPrefix,Gv}function tbe(t){return Math.max(0,-Sh(Math.abs(t)))}function nbe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sh(e)/3)))*3-Sh(Math.abs(t)))}function rbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sh(e)-Sh(t))+1}function nH(t,e,n,r){var i=EO(t,e,n),a;switch(r=xg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=nbe(i,o))&&(r.precision=a),tH(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=rbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=tbe(i))&&(r.precision=a-(r.type==="%")*2);break}}return tj(r)}function mu(t){var e=t.domain;return t.ticks=function(n){var r=e();return TO(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return nH(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],d,f,p=10;for(c<o&&(f=o,o=c,c=f,f=i,i=a,a=f);p-- >0;){if(f=AO(o,c,n),f===d)return r[i]=o,r[a]=c,e(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return t},t}function x0(){var t=JN();return t.copy=function(){return py(t,x0())},Us.apply(t,arguments),mu(t)}function rH(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,v0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return rH(t).unknown(e)},t=arguments.length?Array.from(t,v0):[0,1],mu(n)}function iH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _6(t){return Math.log(t)}function w6(t){return Math.exp(t)}function ibe(t){return-Math.log(-t)}function abe(t){return-Math.exp(-t)}function sbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function obe(t){return t===10?sbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lbe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S6(t){return(e,n)=>-t(-e,n)}function nj(t){const e=t(_6,w6),n=e.domain;let r=10,i,a;function o(){return i=lbe(r),a=obe(r),n()[0]<0?(i=S6(i),a=S6(a),t(ibe,abe)):t(_6,w6),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let b=i(f),w=i(p),P,T;const A=c==null?10:+c;let C=[];if(!(r%1)&&w-b<A){if(b=Math.floor(b),w=Math.ceil(w),f>0){for(;b<=w;++b)for(P=1;P<r;++P)if(T=b<0?P/a(-b):P*a(b),!(T<f)){if(T>p)break;C.push(T)}}else for(;b<=w;++b)for(P=r-1;P>=1;--P)if(T=b>0?P/a(-b):P*a(b),!(T<f)){if(T>p)break;C.push(T)}C.length*2<A&&(C=TO(f,p,A))}else C=TO(b,w,Math.min(w-b,A)).map(a);return g?C.reverse():C},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=xg(d)).precision==null&&(d.trim=!0),d=tj(d)),c===1/0)return d;const f=Math.max(1,r*c/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=f?d(p):""}},e.nice=()=>n(iH(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function aH(){const t=nj(t_()).domain([1,10]);return t.copy=()=>py(t,aH()).base(t.base()),Us.apply(t,arguments),t}function T6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function A6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rj(t){var e=1,n=t(T6(e),A6(e));return n.constant=function(r){return arguments.length?t(T6(e=+r),A6(e)):e},mu(n)}function sH(){var t=rj(t_());return t.copy=function(){return py(t,sH()).constant(t.constant())},Us.apply(t,arguments)}function E6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ube(t){return t<0?-t*t:t*t}function ij(t){var e=t(ma,ma),n=1;function r(){return n===1?t(ma,ma):n===.5?t(cbe,ube):t(E6(n),E6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},mu(e)}function aj(){var t=ij(t_());return t.copy=function(){return py(t,aj()).exponent(t.exponent())},Us.apply(t,arguments),t}function dbe(){return aj.apply(null,arguments).exponent(.5)}function P6(t){return Math.sign(t)*t*t}function fbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oH(){var t=JN(),e=[0,1],n=!1,r;function i(a){var o=fbe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(P6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,v0)).map(P6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return oH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Us.apply(i,arguments),mu(i)}function lH(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=yve(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[fy(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Yc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return lH().domain(t).range(e).unknown(r)},Us.apply(a,arguments)}function cH(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[fy(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return cH().domain([t,e]).range(i).unknown(a)},Us.apply(mu(o),arguments)}function uH(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[fy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return uH().domain(t).range(e).unknown(n)},Us.apply(i,arguments)}const iE=new Date,aE=new Date;function ei(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let f;do d.push(f=new Date(+a)),e(a,c),t(a);while(f<a&&a<o);return d},i.filter=a=>ei(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(iE.setTime(+a),aE.setTime(+o),t(iE),t(aE),Math.floor(n(iE,aE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const _0=ei(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ei(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_0);_0.range;const Cl=1e3,Ds=Cl*60,Nl=Ds*60,Kl=Nl*24,sj=Kl*7,O6=Kl*30,sE=Kl*365,ud=ei(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Cl)},(t,e)=>(e-t)/Cl,t=>t.getUTCSeconds());ud.range;const oj=ei(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getMinutes());oj.range;const lj=ei(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCMinutes());lj.range;const cj=ei(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Cl-t.getMinutes()*Ds)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getHours());cj.range;const uj=ei(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nl)},(t,e)=>(e-t)/Nl,t=>t.getUTCHours());uj.range;const my=ei(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ds)/Kl,t=>t.getDate()-1);my.range;const n_=ei(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Kl,t=>t.getUTCDate()-1);n_.range;const dH=ei(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Kl,t=>Math.floor(t/Kl));dH.range;function Fd(t){return ei(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ds)/sj)}const r_=Fd(0),w0=Fd(1),hbe=Fd(2),pbe=Fd(3),Th=Fd(4),mbe=Fd(5),gbe=Fd(6);r_.range;w0.range;hbe.range;pbe.range;Th.range;mbe.range;gbe.range;function qd(t){return ei(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/sj)}const i_=qd(0),S0=qd(1),ybe=qd(2),vbe=qd(3),Ah=qd(4),bbe=qd(5),xbe=qd(6);i_.range;S0.range;ybe.range;vbe.range;Ah.range;bbe.range;xbe.range;const dj=ei(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dj.range;const fj=ei(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fj.range;const Wl=ei(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ei(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Wl.range;const Zl=ei(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ei(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Zl.range;function fH(t,e,n,r,i,a){const o=[[ud,1,Cl],[ud,5,5*Cl],[ud,15,15*Cl],[ud,30,30*Cl],[a,1,Ds],[a,5,5*Ds],[a,15,15*Ds],[a,30,30*Ds],[i,1,Nl],[i,3,3*Nl],[i,6,6*Nl],[i,12,12*Nl],[r,1,Kl],[r,2,2*Kl],[n,1,sj],[e,1,O6],[e,3,3*O6],[t,1,sE]];function c(f,p,g){const b=p<f;b&&([f,p]=[p,f]);const w=g&&typeof g.range=="function"?g:d(f,p,g),P=w?w.range(f,+p+1):[];return b?P.reverse():P}function d(f,p,g){const b=Math.abs(p-f)/g,w=WN(([,,A])=>A).right(o,b);if(w===o.length)return t.every(EO(f/sE,p/sE,g));if(w===0)return _0.every(Math.max(EO(f,p,g),1));const[P,T]=o[b/o[w-1][2]<o[w][2]/b?w-1:w];return P.every(T)}return[c,d]}const[_be,wbe]=fH(Zl,fj,i_,dH,uj,lj),[Sbe,Tbe]=fH(Wl,dj,r_,my,cj,oj);function oE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Abe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,f=rm(i),p=im(i),g=rm(a),b=im(a),w=rm(o),P=im(o),T=rm(c),A=im(c),C=rm(d),D=im(d),R={a:re,A:ee,b:le,B:oe,c:null,d:M6,e:M6,f:Wbe,g:i0e,G:s0e,H:Hbe,I:Gbe,j:Kbe,L:hH,m:Zbe,M:Ybe,p:Q,q:ae,Q:L6,s:V6,S:Xbe,u:Qbe,U:Jbe,V:e0e,w:t0e,W:n0e,x:null,X:null,y:r0e,Y:a0e,Z:o0e,"%":k6},$={a:ce,A:fe,b:xe,B:Ce,c:null,d:D6,e:D6,f:d0e,g:_0e,G:S0e,H:l0e,I:c0e,j:u0e,L:mH,m:f0e,M:h0e,p:Oe,q:we,Q:L6,s:V6,S:p0e,u:m0e,U:g0e,V:y0e,w:v0e,W:b0e,x:null,X:null,y:x0e,Y:w0e,Z:T0e,"%":k6},I={a:K,A:q,b:H,B:z,c:ie,d:I6,e:I6,f:Ube,g:j6,G:N6,H:R6,I:R6,j:Lbe,L:zbe,m:kbe,M:Vbe,p:V,q:Dbe,Q:Fbe,s:qbe,S:Bbe,u:Nbe,U:jbe,V:Ibe,w:Cbe,W:Rbe,x:de,X,y:j6,Y:N6,Z:Mbe,"%":$be};R.x=B(n,R),R.X=B(r,R),R.c=B(e,R),$.x=B(n,$),$.X=B(r,$),$.c=B(e,$);function B(pe,Be){return function($e){var be=[],Me=-1,Pe=0,je=pe.length,Fe,We,ct;for($e instanceof Date||($e=new Date(+$e));++Me<je;)pe.charCodeAt(Me)===37&&(be.push(pe.slice(Pe,Me)),(We=C6[Fe=pe.charAt(++Me)])!=null?Fe=pe.charAt(++Me):We=Fe==="e"?" ":"0",(ct=Be[Fe])&&(Fe=ct($e,We)),be.push(Fe),Pe=Me+1);return be.push(pe.slice(Pe,Me)),be.join("")}}function N(pe,Be){return function($e){var be=nm(1900,void 0,1),Me=j(be,pe,$e+="",0),Pe,je;if(Me!=$e.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Be&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Pe=lE(nm(be.y,0,1)),je=Pe.getUTCDay(),Pe=je>4||je===0?S0.ceil(Pe):S0(Pe),Pe=n_.offset(Pe,(be.V-1)*7),be.y=Pe.getUTCFullYear(),be.m=Pe.getUTCMonth(),be.d=Pe.getUTCDate()+(be.w+6)%7):(Pe=oE(nm(be.y,0,1)),je=Pe.getDay(),Pe=je>4||je===0?w0.ceil(Pe):w0(Pe),Pe=my.offset(Pe,(be.V-1)*7),be.y=Pe.getFullYear(),be.m=Pe.getMonth(),be.d=Pe.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),je="Z"in be?lE(nm(be.y,0,1)).getUTCDay():oE(nm(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(je+5)%7:be.w+be.U*7-(je+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,lE(be)):oE(be)}}function j(pe,Be,$e,be){for(var Me=0,Pe=Be.length,je=$e.length,Fe,We;Me<Pe;){if(be>=je)return-1;if(Fe=Be.charCodeAt(Me++),Fe===37){if(Fe=Be.charAt(Me++),We=I[Fe in C6?Be.charAt(Me++):Fe],!We||(be=We(pe,$e,be))<0)return-1}else if(Fe!=$e.charCodeAt(be++))return-1}return be}function V(pe,Be,$e){var be=f.exec(Be.slice($e));return be?(pe.p=p.get(be[0].toLowerCase()),$e+be[0].length):-1}function K(pe,Be,$e){var be=w.exec(Be.slice($e));return be?(pe.w=P.get(be[0].toLowerCase()),$e+be[0].length):-1}function q(pe,Be,$e){var be=g.exec(Be.slice($e));return be?(pe.w=b.get(be[0].toLowerCase()),$e+be[0].length):-1}function H(pe,Be,$e){var be=C.exec(Be.slice($e));return be?(pe.m=D.get(be[0].toLowerCase()),$e+be[0].length):-1}function z(pe,Be,$e){var be=T.exec(Be.slice($e));return be?(pe.m=A.get(be[0].toLowerCase()),$e+be[0].length):-1}function ie(pe,Be,$e){return j(pe,e,Be,$e)}function de(pe,Be,$e){return j(pe,n,Be,$e)}function X(pe,Be,$e){return j(pe,r,Be,$e)}function re(pe){return o[pe.getDay()]}function ee(pe){return a[pe.getDay()]}function le(pe){return d[pe.getMonth()]}function oe(pe){return c[pe.getMonth()]}function Q(pe){return i[+(pe.getHours()>=12)]}function ae(pe){return 1+~~(pe.getMonth()/3)}function ce(pe){return o[pe.getUTCDay()]}function fe(pe){return a[pe.getUTCDay()]}function xe(pe){return d[pe.getUTCMonth()]}function Ce(pe){return c[pe.getUTCMonth()]}function Oe(pe){return i[+(pe.getUTCHours()>=12)]}function we(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Be=B(pe+="",R);return Be.toString=function(){return pe},Be},parse:function(pe){var Be=N(pe+="",!1);return Be.toString=function(){return pe},Be},utcFormat:function(pe){var Be=B(pe+="",$);return Be.toString=function(){return pe},Be},utcParse:function(pe){var Be=N(pe+="",!0);return Be.toString=function(){return pe},Be}}}var C6={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,Ebe=/^%/,Pbe=/[\\^$*+?|[\]().{}]/g;function fn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Obe(t){return t.replace(Pbe,"\\$&")}function rm(t){return new RegExp("^(?:"+t.map(Obe).join("|")+")","i")}function im(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Cbe(t,e,n){var r=gi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nbe(t,e,n){var r=gi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jbe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ibe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Rbe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function N6(t,e,n){var r=gi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function j6(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mbe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Dbe(t,e,n){var r=gi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kbe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function I6(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Lbe(t,e,n){var r=gi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function R6(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Vbe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Bbe(t,e,n){var r=gi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zbe(t,e,n){var r=gi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ube(t,e,n){var r=gi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $be(t,e,n){var r=Ebe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fbe(t,e,n){var r=gi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qbe(t,e,n){var r=gi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function M6(t,e){return fn(t.getDate(),e,2)}function Hbe(t,e){return fn(t.getHours(),e,2)}function Gbe(t,e){return fn(t.getHours()%12||12,e,2)}function Kbe(t,e){return fn(1+my.count(Wl(t),t),e,3)}function hH(t,e){return fn(t.getMilliseconds(),e,3)}function Wbe(t,e){return hH(t,e)+"000"}function Zbe(t,e){return fn(t.getMonth()+1,e,2)}function Ybe(t,e){return fn(t.getMinutes(),e,2)}function Xbe(t,e){return fn(t.getSeconds(),e,2)}function Qbe(t){var e=t.getDay();return e===0?7:e}function Jbe(t,e){return fn(r_.count(Wl(t)-1,t),e,2)}function pH(t){var e=t.getDay();return e>=4||e===0?Th(t):Th.ceil(t)}function e0e(t,e){return t=pH(t),fn(Th.count(Wl(t),t)+(Wl(t).getDay()===4),e,2)}function t0e(t){return t.getDay()}function n0e(t,e){return fn(w0.count(Wl(t)-1,t),e,2)}function r0e(t,e){return fn(t.getFullYear()%100,e,2)}function i0e(t,e){return t=pH(t),fn(t.getFullYear()%100,e,2)}function a0e(t,e){return fn(t.getFullYear()%1e4,e,4)}function s0e(t,e){var n=t.getDay();return t=n>=4||n===0?Th(t):Th.ceil(t),fn(t.getFullYear()%1e4,e,4)}function o0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fn(e/60|0,"0",2)+fn(e%60,"0",2)}function D6(t,e){return fn(t.getUTCDate(),e,2)}function l0e(t,e){return fn(t.getUTCHours(),e,2)}function c0e(t,e){return fn(t.getUTCHours()%12||12,e,2)}function u0e(t,e){return fn(1+n_.count(Zl(t),t),e,3)}function mH(t,e){return fn(t.getUTCMilliseconds(),e,3)}function d0e(t,e){return mH(t,e)+"000"}function f0e(t,e){return fn(t.getUTCMonth()+1,e,2)}function h0e(t,e){return fn(t.getUTCMinutes(),e,2)}function p0e(t,e){return fn(t.getUTCSeconds(),e,2)}function m0e(t){var e=t.getUTCDay();return e===0?7:e}function g0e(t,e){return fn(i_.count(Zl(t)-1,t),e,2)}function gH(t){var e=t.getUTCDay();return e>=4||e===0?Ah(t):Ah.ceil(t)}function y0e(t,e){return t=gH(t),fn(Ah.count(Zl(t),t)+(Zl(t).getUTCDay()===4),e,2)}function v0e(t){return t.getUTCDay()}function b0e(t,e){return fn(S0.count(Zl(t)-1,t),e,2)}function x0e(t,e){return fn(t.getUTCFullYear()%100,e,2)}function _0e(t,e){return t=gH(t),fn(t.getUTCFullYear()%100,e,2)}function w0e(t,e){return fn(t.getUTCFullYear()%1e4,e,4)}function S0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ah(t):Ah.ceil(t),fn(t.getUTCFullYear()%1e4,e,4)}function T0e(){return"+0000"}function k6(){return"%"}function L6(t){return+t}function V6(t){return Math.floor(+t/1e3)}var jf,yH,vH;A0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A0e(t){return jf=Abe(t),yH=jf.format,jf.parse,vH=jf.utcFormat,jf.utcParse,jf}function E0e(t){return new Date(t)}function P0e(t){return t instanceof Date?+t:+new Date(+t)}function hj(t,e,n,r,i,a,o,c,d,f){var p=JN(),g=p.invert,b=p.domain,w=f(".%L"),P=f(":%S"),T=f("%I:%M"),A=f("%I %p"),C=f("%a %d"),D=f("%b %d"),R=f("%B"),$=f("%Y");function I(B){return(d(B)<B?w:c(B)<B?P:o(B)<B?T:a(B)<B?A:r(B)<B?i(B)<B?C:D:n(B)<B?R:$)(B)}return p.invert=function(B){return new Date(g(B))},p.domain=function(B){return arguments.length?b(Array.from(B,P0e)):b().map(E0e)},p.ticks=function(B){var N=b();return t(N[0],N[N.length-1],B??10)},p.tickFormat=function(B,N){return N==null?I:f(N)},p.nice=function(B){var N=b();return(!B||typeof B.range!="function")&&(B=e(N[0],N[N.length-1],B??10)),B?b(iH(N,B)):p},p.copy=function(){return py(p,hj(t,e,n,r,i,a,o,c,d,f))},p}function O0e(){return Us.apply(hj(Sbe,Tbe,Wl,dj,r_,my,cj,oj,ud,yH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C0e(){return Us.apply(hj(_be,wbe,Zl,fj,i_,n_,uj,lj,ud,vH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function a_(){var t=0,e=1,n,r,i,a,o=ma,c=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(o=g,f):o};function p(g){return function(b){var w,P;return arguments.length?([w,P]=b,o=g(w,P),f):[o(0),o(1)]}}return f.range=p(up),f.rangeRound=p(QN),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),f}}function gu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bH(){var t=mu(a_()(ma));return t.copy=function(){return gu(t,bH())},ec.apply(t,arguments)}function xH(){var t=nj(a_()).domain([1,10]);return t.copy=function(){return gu(t,xH()).base(t.base())},ec.apply(t,arguments)}function _H(){var t=rj(a_());return t.copy=function(){return gu(t,_H()).constant(t.constant())},ec.apply(t,arguments)}function pj(){var t=ij(a_());return t.copy=function(){return gu(t,pj()).exponent(t.exponent())},ec.apply(t,arguments)}function N0e(){return pj.apply(null,arguments).exponent(.5)}function wH(){var t=[],e=ma;function n(r){if(r!=null&&!isNaN(r=+r))return e((fy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>gve(t,a/r))},n.copy=function(){return wH(e).domain(t)},ec.apply(n,arguments)}function s_(){var t=0,e=.5,n=1,r=1,i,a,o,c,d,f=ma,p,g=!1,b;function w(T){return isNaN(T=+T)?b:(T=.5+((T=+p(T))-a)*(r*T<r*a?c:d),f(g?Math.max(0,Math.min(1,T)):T))}w.domain=function(T){return arguments.length?([t,e,n]=T,i=p(t=+t),a=p(e=+e),o=p(n=+n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,w):[t,e,n]},w.clamp=function(T){return arguments.length?(g=!!T,w):g},w.interpolator=function(T){return arguments.length?(f=T,w):f};function P(T){return function(A){var C,D,R;return arguments.length?([C,D,R]=A,f=$ve(T,[C,D,R]),w):[f(0),f(.5),f(1)]}}return w.range=P(up),w.rangeRound=P(QN),w.unknown=function(T){return arguments.length?(b=T,w):b},function(T){return p=T,i=T(t),a=T(e),o=T(n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,w}}function SH(){var t=mu(s_()(ma));return t.copy=function(){return gu(t,SH())},ec.apply(t,arguments)}function TH(){var t=nj(s_()).domain([.1,1,10]);return t.copy=function(){return gu(t,TH()).base(t.base())},ec.apply(t,arguments)}function AH(){var t=rj(s_());return t.copy=function(){return gu(t,AH()).constant(t.constant())},ec.apply(t,arguments)}function mj(){var t=ij(s_());return t.copy=function(){return gu(t,mj()).exponent(t.exponent())},ec.apply(t,arguments)}function j0e(){return mj.apply(null,arguments).exponent(.5)}const B6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gg,scaleDiverging:SH,scaleDivergingLog:TH,scaleDivergingPow:mj,scaleDivergingSqrt:j0e,scaleDivergingSymlog:AH,scaleIdentity:rH,scaleImplicit:PO,scaleLinear:x0,scaleLog:aH,scaleOrdinal:ZN,scalePoint:Lm,scalePow:aj,scaleQuantile:lH,scaleQuantize:cH,scaleRadial:oH,scaleSequential:bH,scaleSequentialLog:xH,scaleSequentialPow:pj,scaleSequentialQuantile:wH,scaleSequentialSqrt:N0e,scaleSequentialSymlog:_H,scaleSqrt:dbe,scaleSymlog:sH,scaleThreshold:uH,scaleTime:O0e,scaleUtc:C0e,tickFormat:nH},Symbol.toStringTag,{value:"Module"}));var cE,z6;function o_(){if(z6)return cE;z6=1;var t=sp();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var c=n[a],d=r(c);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=c}return p}return cE=e,cE}var uE,U6;function EH(){if(U6)return uE;U6=1;function t(e,n){return e>n}return uE=t,uE}var dE,$6;function I0e(){if($6)return dE;$6=1;var t=o_(),e=EH(),n=cp();function r(i){return i&&i.length?t(i,n,e):void 0}return dE=r,dE}var R0e=I0e();const l_=pn(R0e);var fE,F6;function PH(){if(F6)return fE;F6=1;function t(e,n){return e<n}return fE=t,fE}var hE,q6;function M0e(){if(q6)return hE;q6=1;var t=o_(),e=PH(),n=cp();function r(i){return i&&i.length?t(i,n,e):void 0}return hE=r,hE}var D0e=M0e();const c_=pn(D0e);var pE,H6;function k0e(){if(H6)return pE;H6=1;var t=jN(),e=nl(),n=D7(),r=ka();function i(a,o){var c=r(a)?t:n;return c(a,e(o,3))}return pE=i,pE}var mE,G6;function L0e(){if(G6)return mE;G6=1;var t=R7(),e=k0e();function n(r,i){return t(e(r,i),1)}return mE=n,mE}var V0e=L0e();const B0e=pn(V0e);var gE,K6;function z0e(){if(K6)return gE;K6=1;var t=qN();function e(n,r){return t(n,r)}return gE=e,gE}var U0e=z0e();const gy=pn(U0e);var dp=1e9,$0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yj,Jn=!0,zs="[DecimalError] ",yd=zs+"Invalid argument: ",gj=zs+"Exponent out of range: ",fp=Math.floor,rd=Math.pow,F0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ns,hi=1e7,qn=7,OH=9007199254740991,T0=fp(OH/qn),rt={};rt.absoluteValue=rt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};rt.comparedTo=rt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};rt.decimalPlaces=rt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};rt.dividedBy=rt.div=function(t){return Dl(this,new this.constructor(t))};rt.dividedToIntegerBy=rt.idiv=function(t){var e=this,n=e.constructor;return In(Dl(e,new n(t),0,1),n.precision)};rt.equals=rt.eq=function(t){return!this.cmp(t)};rt.exponent=function(){return Lr(this)};rt.greaterThan=rt.gt=function(t){return this.cmp(t)>0};rt.greaterThanOrEqualTo=rt.gte=function(t){return this.cmp(t)>=0};rt.isInteger=rt.isint=function(){return this.e>this.d.length-2};rt.isNegative=rt.isneg=function(){return this.s<0};rt.isPositive=rt.ispos=function(){return this.s>0};rt.isZero=function(){return this.s===0};rt.lessThan=rt.lt=function(t){return this.cmp(t)<0};rt.lessThanOrEqualTo=rt.lte=function(t){return this.cmp(t)<1};rt.logarithm=rt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ns))throw Error(zs+"NaN");if(n.s<1)throw Error(zs+(n.s?"NaN":"-Infinity"));return n.eq(ns)?new r(0):(Jn=!1,e=Dl(_g(n,a),_g(t,a),a),Jn=!0,In(e,i))};rt.minus=rt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jH(e,t):CH(e,(t.s=-t.s,t))};rt.modulo=rt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(zs+"NaN");return n.s?(Jn=!1,e=Dl(n,t,0,1).times(t),Jn=!0,n.minus(e)):In(new r(n),i)};rt.naturalExponential=rt.exp=function(){return NH(this)};rt.naturalLogarithm=rt.ln=function(){return _g(this)};rt.negated=rt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};rt.plus=rt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CH(e,t):jH(e,(t.s=-t.s,t))};rt.precision=rt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yd+t);if(e=Lr(i)+1,r=i.d.length-1,n=r*qn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};rt.squareRoot=rt.sqrt=function(){var t,e,n,r,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(zs+"NaN")}for(t=Lr(c),Jn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Ro(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(Dl(c,a,o+2)).times(.5),Ro(a.d).slice(0,o)===(e=Ro(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(In(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return Jn=!0,In(r,n)};rt.times=rt.mul=function(t){var e,n,r,i,a,o,c,d,f,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,f=w.length,d<f&&(a=b,b=w,w=a,o=d,d=f,f=o),a=[],o=d+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+w[r]*b[i-r-1]+e,a[i--]=c%hi|0,e=c/hi|0;a[i]=(a[i]+e)%hi|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Jn?In(t,g.precision):t};rt.toDecimalPlaces=rt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Yo(t,0,dp),e===void 0?e=r.rounding:Yo(e,0,8),In(n,t+Lr(n)+1,e))};rt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=jd(r,!0):(Yo(t,0,dp),e===void 0?e=i.rounding:Yo(e,0,8),r=In(new i(r),t+1,e),n=jd(r,!0,t+1)),n};rt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?jd(i):(Yo(t,0,dp),e===void 0?e=a.rounding:Yo(e,0,8),r=In(new a(i),t+Lr(i)+1,e),n=jd(r.abs(),!1,t+Lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};rt.toInteger=rt.toint=function(){var t=this,e=t.constructor;return In(new e(t),Lr(t)+1,e.rounding)};rt.toNumber=function(){return+this};rt.toPower=rt.pow=function(t){var e,n,r,i,a,o,c=this,d=c.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(ns);if(c=new d(c),!c.s){if(t.s<1)throw Error(zs+"Infinity");return c}if(c.eq(ns))return c;if(r=d.precision,t.eq(ns))return In(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=p<0?-p:p)<=OH){for(i=new d(ns),e=Math.ceil(r/qn+4),Jn=!1;n%2&&(i=i.times(c),Z6(i.d,e)),n=fp(n/2),n!==0;)c=c.times(c),Z6(c.d,e);return Jn=!0,t.s<0?new d(ns).div(i):In(i,r)}}else if(a<0)throw Error(zs+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Jn=!1,i=t.times(_g(c,r+f)),Jn=!0,i=NH(i),i.s=a,i};rt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Lr(i),r=jd(i,n<=a.toExpNeg||n>=a.toExpPos)):(Yo(t,1,dp),e===void 0?e=a.rounding:Yo(e,0,8),i=In(new a(i),t,e),n=Lr(i),r=jd(i,t<=n||n<=a.toExpNeg,t)),r};rt.toSignificantDigits=rt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Yo(t,1,dp),e===void 0?e=r.rounding:Yo(e,0,8)),In(new r(n),t,e)};rt.toString=rt.valueOf=rt.val=rt.toJSON=rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lr(t),n=t.constructor;return jd(t,e<=n.toExpNeg||e>=n.toExpPos)};function CH(t,e){var n,r,i,a,o,c,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Jn?In(e,g):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,c=f.length):(r=f,i=o,c=d.length),o=Math.ceil(g/qn),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/hi|0,d[a]%=hi;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Jn?In(e,g):e}function Yo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(yd+t)}function Ro(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=qn-r.length,n&&(a+=kc(n)),a+=r;o=t[e],r=o+"",n=qn-r.length,n&&(a+=kc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Dl=(function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%hi|0,o=a/hi|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*hi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,d,f,p,g,b,w,P,T,A,C,D,R,$,I,B,N,j,V=r.constructor,K=r.s==i.s?1:-1,q=r.d,H=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(zs+"Division by zero");for(d=r.e-i.e,N=H.length,I=q.length,w=new V(K),P=w.d=[],f=0;H[f]==(q[f]||0);)++f;if(H[f]>(q[f]||0)&&--d,a==null?D=a=V.precision:o?D=a+(Lr(r)-Lr(i))+1:D=a,D<0)return new V(0);if(D=D/qn+2|0,f=0,N==1)for(p=0,H=H[0],D++;(f<I||p)&&D--;f++)R=p*hi+(q[f]||0),P[f]=R/H|0,p=R%H|0;else{for(p=hi/(H[0]+1)|0,p>1&&(H=t(H,p),q=t(q,p),N=H.length,I=q.length),$=N,T=q.slice(0,N),A=T.length;A<N;)T[A++]=0;j=H.slice(),j.unshift(0),B=H[0],H[1]>=hi/2&&++B;do p=0,c=e(H,T,N,A),c<0?(C=T[0],N!=A&&(C=C*hi+(T[1]||0)),p=C/B|0,p>1?(p>=hi&&(p=hi-1),g=t(H,p),b=g.length,A=T.length,c=e(g,T,b,A),c==1&&(p--,n(g,N<b?j:H,b))):(p==0&&(c=p=1),g=H.slice()),b=g.length,b<A&&g.unshift(0),n(T,g,A),c==-1&&(A=T.length,c=e(H,T,N,A),c<1&&(p++,n(T,N<A?j:H,A))),A=T.length):c===0&&(p++,T=[0]),P[f++]=p,c&&T[0]?T[A++]=q[$]||0:(T=[q[$]],A=1);while(($++<I||T[0]!==void 0)&&D--)}return P[0]||P.shift(),w.e=d,In(w,o?a+Lr(w)+1:a)}})();function NH(t,e){var n,r,i,a,o,c,d=0,f=0,p=t.constructor,g=p.precision;if(Lr(t)>16)throw Error(gj+Lr(t));if(!t.s)return new p(ns);for(Jn=!1,c=g,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(rd(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new p(ns),p.precision=c;;){if(i=In(i.times(t),c),n=n.times(++d),o=a.plus(Dl(i,n,c)),Ro(o.d).slice(0,c)===Ro(a.d).slice(0,c)){for(;f--;)a=In(a.times(a),c);return p.precision=g,e==null?(Jn=!0,In(a,g)):a}a=o}}function Lr(t){for(var e=t.e*qn,n=t.d[0];n>=10;n/=10)e++;return e}function yE(t,e,n){if(e>t.LN10.sd())throw Jn=!0,n&&(t.precision=n),Error(zs+"LN10 precision limit exceeded");return In(new t(t.LN10),e)}function kc(t){for(var e="";t--;)e+="0";return e}function _g(t,e){var n,r,i,a,o,c,d,f,p,g=1,b=10,w=t,P=w.d,T=w.constructor,A=T.precision;if(w.s<1)throw Error(zs+(w.s?"NaN":"-Infinity"));if(w.eq(ns))return new T(0);if(e==null?(Jn=!1,f=A):f=e,w.eq(10))return e==null&&(Jn=!0),yE(T,f);if(f+=b,T.precision=f,n=Ro(P),r=n.charAt(0),a=Lr(w),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Ro(w.d),r=n.charAt(0),g++;a=Lr(w),r>1?(w=new T("0."+n),a++):w=new T(r+"."+n.slice(1))}else return d=yE(T,f+2,A).times(a+""),w=_g(new T(r+"."+n.slice(1)),f-b).plus(d),T.precision=A,e==null?(Jn=!0,In(w,A)):w;for(c=o=w=Dl(w.minus(ns),w.plus(ns),f),p=In(w.times(w),f),i=3;;){if(o=In(o.times(p),f),d=c.plus(Dl(o,new T(i),f)),Ro(d.d).slice(0,f)===Ro(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(yE(T,f+2,A).times(a+""))),c=Dl(c,new T(g),f),T.precision=A,e==null?(Jn=!0,In(c,A)):c;c=d,i+=2}}function W6(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=fp(n/qn),t.d=[],r=(n+1)%qn,n<0&&(r+=qn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qn;r<i;)t.d.push(+e.slice(r,r+=qn));e=e.slice(r),r=qn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Jn&&(t.e>T0||t.e<-T0))throw Error(gj+n)}else t.s=0,t.e=0,t.d=[0];return t}function In(t,e,n){var r,i,a,o,c,d,f,p,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=qn,i=e,f=g[p=0];else{if(p=Math.ceil((r+1)/qn),a=g.length,p>=a)return t;for(f=a=g[p],o=1;a>=10;a/=10)o++;r%=qn,i=r-qn+o}if(n!==void 0&&(a=rd(10,o-i-1),c=f/a%10|0,d=e<0||g[p+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?f/rd(10,o-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(a=Lr(t),g.length=1,e=e-a-1,g[0]=rd(10,(qn-e%qn)%qn),t.e=fp(-e/qn)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,a=1,p--):(g.length=p+1,a=rd(10,qn-r),g[p]=i>0?(f/rd(10,o-i)%rd(10,i)|0)*a:0),d)for(;;)if(p==0){(g[0]+=a)==hi&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=hi)break;g[p--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Jn&&(t.e>T0||t.e<-T0))throw Error(gj+Lr(t));return t}function jH(t,e){var n,r,i,a,o,c,d,f,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Jn?In(e,w):e;if(d=t.d,g=e.d,r=e.e,f=t.e,d=d.slice(),o=f-r,o){for(p=o<0,p?(n=d,o=-o,c=g.length):(n=g,r=f,c=d.length),i=Math.max(Math.ceil(w/qn),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=g.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}o=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),c=d.length,i=g.length-c;i>0;--i)d[c++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=hi-1;--d[a],d[i]+=hi}d[i]-=g[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Jn?In(e,w):e):new b(0)}function jd(t,e,n){var r,i=Lr(t),a=Ro(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+kc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+kc(-i-1)+a,n&&(r=n-o)>0&&(a+=kc(r))):i>=o?(a+=kc(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+kc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=kc(r))),t.s<0?"-"+a:a}function Z6(t,e){if(t.length>e)return t.length=e,!0}function IH(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return W6(o,a.toString())}else if(typeof a!="string")throw Error(yd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,F0e.test(a))W6(o,a);else throw Error(yd+a)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=IH,i.config=i.set=q0e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function q0e(t){if(!t||typeof t!="object")throw Error(zs+"Object expected");var e,n,r,i=["precision",1,dp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(fp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(yd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(yd+n+": "+r);return this}var yj=IH($0e);ns=new yj(1);const Pn=yj;function H0e(t){return Z0e(t)||W0e(t)||K0e(t)||G0e()}function G0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(t,e){if(t){if(typeof t=="string")return jO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(t,e)}}function W0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Z0e(t){if(Array.isArray(t))return jO(t)}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y0e=function(e){return e},RH={},MH=function(e){return e===RH},Y6=function(e){return function n(){return arguments.length===0||arguments.length===1&&MH(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},X0e=function t(e,n){return e===1?n:Y6(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(c){return c!==RH}).length;return o>=e?n.apply(void 0,i):t(e-o,Y6(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=i.map(function(g){return MH(g)?d.shift():g});return n.apply(void 0,H0e(p).concat(d))}))})},u_=function(e){return X0e(e.length,e)},IO=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Q0e=u_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),J0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Y0e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(c,d){return d(c)},a.apply(void 0,arguments))}},RO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DH=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(c,d){return c===n[d]})||(n=a,r=e.apply(void 0,a)),r}};function exe(t){var e;return t===0?e=1:e=Math.floor(new Pn(t).abs().log(10).toNumber())+1,e}function txe(t,e,n){for(var r=new Pn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var nxe=u_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),rxe=u_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ixe=u_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const d_={rangeStep:txe,getDigitCount:exe,interpolateNumber:nxe,uninterpolateNumber:rxe,uninterpolateTruncation:ixe};function MO(t){return oxe(t)||sxe(t)||kH(t)||axe()}function axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oxe(t){if(Array.isArray(t))return DO(t)}function wg(t,e){return uxe(t)||cxe(t,e)||kH(t,e)||lxe()}function lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kH(t,e){if(t){if(typeof t=="string")return DO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),c;!(r=(c=o.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(d){i=!0,a=d}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function uxe(t){if(Array.isArray(t))return t}function LH(t){var e=wg(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function VH(t,e,n){if(t.lte(0))return new Pn(0);var r=d_.getDigitCount(t.toNumber()),i=new Pn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new Pn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=c.mul(i);return e?d:new Pn(Math.ceil(d))}function dxe(t,e,n){var r=1,i=new Pn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Pn(10).pow(d_.getDigitCount(t)-1),i=new Pn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Pn(Math.floor(t)))}else t===0?i=new Pn(Math.floor((e-1)/2)):n||(i=new Pn(Math.floor(t)));var o=Math.floor((e-1)/2),c=J0e(Q0e(function(d){return i.add(new Pn(d-o).mul(r)).toNumber()}),IO);return c(0,e)}function BH(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var a=VH(new Pn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Pn(0):(o=new Pn(t).add(e).div(2),o=o.sub(new Pn(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new Pn(e).sub(o).div(a).toNumber()),f=c+d+1;return f>n?BH(t,e,n,r,i+1):(f<n&&(d=e>0?d+(n-f):d,c=e>0?c:c+(n-f)),{step:a,tickMin:o.sub(new Pn(c).mul(a)),tickMax:o.add(new Pn(d).mul(a))})}function fxe(t){var e=wg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=LH([n,r]),d=wg(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var g=p===1/0?[f].concat(MO(IO(0,i-1).map(function(){return 1/0}))):[].concat(MO(IO(0,i-1).map(function(){return-1/0})),[p]);return n>r?RO(g):g}if(f===p)return dxe(f,i,a);var b=BH(f,p,o,a),w=b.step,P=b.tickMin,T=b.tickMax,A=d_.rangeStep(P,T.add(new Pn(.1).mul(w)),w);return n>r?RO(A):A}function hxe(t,e){var n=wg(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LH([r,i]),c=wg(o,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var p=Math.max(e,2),g=VH(new Pn(f).sub(d).div(p-1),a,0),b=[].concat(MO(d_.rangeStep(new Pn(d),new Pn(f).sub(new Pn(.99).mul(g)),g)),[f]);return r>i?RO(b):b}var pxe=DH(fxe),mxe=DH(hxe),gxe="Invariant failed";function Id(t,e){throw new Error(gxe)}var yxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function vxe(t,e){return wxe(t)||_xe(t,e)||xxe(t,e)||bxe()}function bxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xxe(t,e){if(t){if(typeof t=="string")return X6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X6(t,e)}}function X6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _xe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function wxe(t){if(Array.isArray(t))return t}function Sxe(t,e){if(t==null)return{};var n=Txe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Txe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Exe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$H(r.key),r)}}function Pxe(t,e,n){return e&&Exe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oxe(t,e,n){return e=E0(e),Cxe(t,zH()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function Cxe(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(t)}function Nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zH=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function jxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kO(t,e)}function kO(t,e){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kO(t,e)}function UH(t,e,n){return e=$H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $H(t){var e=Ixe(t,"string");return Eh(e)=="symbol"?e:e+""}function Ixe(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yy=(function(t){function e(){return Axe(this,e),Oxe(this,e,arguments)}return jxe(e,t),Pxe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,c=r.dataKey,d=r.data,f=r.dataPointFormatter,p=r.xAxis,g=r.yAxis,b=Sxe(r,yxe),w=pt(b,!1);this.props.direction==="x"&&p.type!=="number"&&Id();var P=d.map(function(T){var A=f(T,c),C=A.x,D=A.y,R=A.value,$=A.errorVal;if(!$)return null;var I=[],B,N;if(Array.isArray($)){var j=vxe($,2);B=j[0],N=j[1]}else B=N=$;if(a==="vertical"){var V=p.scale,K=D+i,q=K+o,H=K-o,z=V(R-B),ie=V(R+N);I.push({x1:ie,y1:q,x2:ie,y2:H}),I.push({x1:z,y1:K,x2:ie,y2:K}),I.push({x1:z,y1:q,x2:z,y2:H})}else if(a==="horizontal"){var de=g.scale,X=C+i,re=X-o,ee=X+o,le=de(R-B),oe=de(R+N);I.push({x1:re,y1:oe,x2:ee,y2:oe}),I.push({x1:X,y1:le,x2:X,y2:oe}),I.push({x1:re,y1:le,x2:ee,y2:le})}return ne.createElement(dn,A0({className:"recharts-errorBar",key:"bar-".concat(I.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},w),I.map(function(Q){return ne.createElement("line",A0({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return ne.createElement(dn,{className:"recharts-errorBars"},P)}}])})(ne.Component);UH(yy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UH(yy,"displayName","ErrorBar");function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function Q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(n),!0).forEach(function(r){Rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rxe(t,e,n){return e=Mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mxe(t){var e=Dxe(t,"string");return Sg(e)=="symbol"?e:e+""}function Dxe(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FH=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Qa(n,rh);if(!o)return null;var c=rh.defaultProps,d=c!==void 0?Yu(Yu({},c),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(r||[]).reduce(function(p,g){var b=g.item,w=g.props,P=w.sectors||w.data||[];return p.concat(P.map(function(T){return{type:o.props.iconType||b.props.legendType,value:T.name,color:T.fill,payload:T}}))},[]):f=(r||[]).map(function(p){var g=p.item,b=g.type.defaultProps,w=b!==void 0?Yu(Yu({},b),g.props):{},P=w.dataKey,T=w.name,A=w.legendType,C=w.hide;return{inactive:C,dataKey:P,type:d.iconType||A||"square",color:vj(g),value:T||P,payload:w}}),Yu(Yu(Yu({},d),rh.getWithHeight(o,i)),{},{payload:f,item:o})};function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function J6(t){return Bxe(t)||Vxe(t)||Lxe(t)||kxe()}function kxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lxe(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function Vxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bxe(t){if(Array.isArray(t))return LO(t)}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){ah(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ah(t,e,n){return e=zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t){var e=Uxe(t,"string");return Tg(e)=="symbol"?e:e+""}function Uxe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xr(t,e,n){return Pt(t)||Pt(e)?n:Qr(e)?ss(t,e,n):St(e)?e(t):n}function Vm(t,e,n,r){var i=B0e(t,function(c){return Xr(c,e)});if(n==="number"){var a=i.filter(function(c){return Ge(c)||parseFloat(c)});return a.length?[c_(a),l_(a)]:[1/0,-1/0]}var o=r?i.filter(function(c){return!Pt(c)}):i;return o.map(function(c){return Qr(c)||c instanceof Date?c:""})}var $xe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=r?.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<c;f++){var p=f>0?i[f-1].coordinate:i[c-1].coordinate,g=i[f].coordinate,b=f>=c-1?i[0].coordinate:i[f+1].coordinate,w=void 0;if(ha(g-p)!==ha(b-g)){var P=[];if(ha(b-g)===ha(d[1]-d[0])){w=b;var T=g+d[1]-d[0];P[0]=Math.min(T,(T+p)/2),P[1]=Math.max(T,(T+p)/2)}else{w=p;var A=b+d[1]-d[0];P[0]=Math.min(g,(A+g)/2),P[1]=Math.max(g,(A+g)/2)}var C=[Math.min(g,(w+g)/2),Math.max(g,(w+g)/2)];if(e>C[0]&&e<=C[1]||e>=P[0]&&e<=P[1]){o=i[f].index;break}}else{var D=Math.min(p,b),R=Math.max(p,b);if(e>(D+g)/2&&e<=(R+g)/2){o=i[f].index;break}}}else for(var $=0;$<c;$++)if($===0&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$>0&&$<c-1&&e>(r[$].coordinate+r[$-1].coordinate)/2&&e<=(r[$].coordinate+r[$+1].coordinate)/2||$===c-1&&e>(r[$].coordinate+r[$-1].coordinate)/2){o=r[$].index;break}return o},vj=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,o=a.stroke,c=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},Fxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},c=Object.keys(a),d=0,f=c.length;d<f;d++)for(var p=a[c[d]].stackGroups,g=Object.keys(p),b=0,w=g.length;b<w;b++){var P=p[g[b]],T=P.items,A=P.cateAxisId,C=T.filter(function(N){return Ml(N.type).indexOf("Bar")>=0});if(C&&C.length){var D=C[0].type.defaultProps,R=D!==void 0?hr(hr({},D),C[0].props):C[0].props,$=R.barSize,I=R[A];o[I]||(o[I]=[]);var B=Pt($)?n:$;o[I].push({item:C[0],stackList:C.slice(1),barSize:Pt(B)?void 0:pa(B,r,0)})}}return o},qxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,c=e.maxBarSize,d=o.length;if(d<1)return null;var f=pa(n,i,0,!0),p,g=[];if(o[0].barSize===+o[0].barSize){var b=!1,w=i/d,P=o.reduce(function($,I){return $+I.barSize||0},0);P+=(d-1)*f,P>=i&&(P-=(d-1)*f,f=0),P>=i&&w>0&&(b=!0,w*=.9,P=d*w);var T=(i-P)/2>>0,A={offset:T-f,size:0};p=o.reduce(function($,I){var B={item:I.item,position:{offset:A.offset+A.size+f,size:b?w:I.barSize}},N=[].concat(J6($),[B]);return A=N[N.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(j){N.push({item:j,position:A})}),N},g)}else{var C=pa(r,i,0,!0);i-2*C-(d-1)*f<=0&&(f=0);var D=(i-2*C-(d-1)*f)/d;D>1&&(D>>=0);var R=c===+c?Math.min(D,c):D;p=o.reduce(function($,I,B){var N=[].concat(J6($),[{item:I.item,position:{offset:C+(D+f)*B+(D-R)/2,size:R}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(j){N.push({item:j,position:N[N.length-1].position})}),N},g)}return p},Hxe=function(e,n,r,i){var a=r.children,o=r.width,c=r.margin,d=o-(c.left||0)-(c.right||0),f=FH({children:a,legendWidth:d});if(f){var p=i||{},g=p.width,b=p.height,w=f.align,P=f.verticalAlign,T=f.layout;if((T==="vertical"||T==="horizontal"&&P==="middle")&&w!=="center"&&Ge(e[w]))return hr(hr({},e),{},ah({},w,e[w]+(g||0)));if((T==="horizontal"||T==="vertical"&&w==="center")&&P!=="middle"&&Ge(e[P]))return hr(hr({},e),{},ah({},P,e[P]+(b||0)))}return e},Gxe=function(e,n,r){return Pt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},qH=function(e,n,r,i,a){var o=n.props.children,c=os(o,yy).filter(function(f){return Gxe(i,a,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var g=Xr(p,r);if(Pt(g))return f;var b=Array.isArray(g)?[c_(g),l_(g)]:[g,g],w=d.reduce(function(P,T){var A=Xr(p,T,0),C=b[0]-Math.abs(Array.isArray(A)?A[0]:A),D=b[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(C,P[0]),Math.max(D,P[1])]},[1/0,-1/0]);return[Math.min(w[0],f[0]),Math.max(w[1],f[1])]},[1/0,-1/0])}return null},Kxe=function(e,n,r,i,a){var o=n.map(function(c){return qH(e,c,r,a,i)}).filter(function(c){return!Pt(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},HH=function(e,n,r,i,a){var o=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&qH(e,d,f,i)||Vm(e,f,r,a)});if(r==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,f){for(var p=0,g=f.length;p<g;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},GH=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},KH=function(e,n,r,i){if(i)return e.map(function(d){return d.coordinate});var a,o,c=e.map(function(d){return d.coordinate===n&&(a=!0),d.coordinate===r&&(o=!0),d.coordinate});return a||c.push(n),o||c.push(r),c},jl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&c?.length>=2?ha(c[0]-c[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var b=a?a.indexOf(g):g;return{coordinate:i(b)+f,value:g,offset:f}});return p.filter(function(g){return!uy(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,b){return{coordinate:i(g)+f,value:g,index:b,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+f,value:g,offset:f}}):i.domain().map(function(g,b){return{coordinate:i(g)+f,value:a?a[g]:g,index:b,offset:f}})},vE=new WeakMap,Kv=function(e,n){if(typeof n!="function")return e;vE.has(e)||vE.set(e,new WeakMap);var r=vE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},WH=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:gg(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:x0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lm(),realScaleType:"point"}:a==="category"?{scale:gg(),realScaleType:"band"}:{scale:x0(),realScaleType:"linear"};if(Od(i)){var d="scale".concat(Kx(i));return{scale:(B6[d]||Lm)(),realScaleType:B6[d]?d:"point"}}return St(i)?{scale:i}:{scale:Lm(),realScaleType:"point"}},tB=1e-4,ZH=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-tB,o=Math.max(i[0],i[1])+tB,c=e(n[0]),d=e(n[r-1]);(c<a||c>o||d<a||d>o)&&e.domain([n[0],n[r-1]])}},Wxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zxe=function(e,n){if(!n||n.length!==2||!Ge(n[0])||!Ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ge(e[0])||e[0]<r)&&(a[0]=r),(!Ge(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Yxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,c=0;c<n;++c){var d=uy(e[c][r][1])?e[c][r][0]:e[c][r][1];d>=0?(e[c][r][0]=a,e[c][r][1]=a+d,a=e[c][r][1]):(e[c][r][0]=o,e[c][r][1]=o+d,o=e[c][r][1])}},Xxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var c=uy(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=a,e[o][r][1]=a+c,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Qxe={sign:Yxe,expand:Bpe,none:vh,silhouette:zpe,wiggle:Upe,positive:Xxe},Jxe=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),a=Qxe[r],o=Vpe().keys(i).value(function(c,d){return+Xr(c,d,0)}).order(hO).offset(a);return o(e)},e_e=function(e,n,r,i,a,o){if(!e)return null;var c=o?n.reverse():n,d={},f=c.reduce(function(g,b){var w,P=(w=b.type)!==null&&w!==void 0&&w.defaultProps?hr(hr({},b.type.defaultProps),b.props):b.props,T=P.stackId,A=P.hide;if(A)return g;var C=P[r],D=g[C]||{hasStack:!1,stackGroups:{}};if(Qr(T)){var R=D.stackGroups[T]||{numericAxisId:r,cateAxisId:i,items:[]};R.items.push(b),D.hasStack=!0,D.stackGroups[T]=R}else D.stackGroups[lp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[b]};return hr(hr({},g),{},ah({},C,D))},d),p={};return Object.keys(f).reduce(function(g,b){var w=f[b];if(w.hasStack){var P={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(T,A){var C=w.stackGroups[A];return hr(hr({},T),{},ah({},A,{numericAxisId:r,cateAxisId:i,items:C.items,stackedData:Jxe(e,C.items,a)}))},P)}return hr(hr({},g),{},ah({},b,w))},p)},YH=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,c=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=pxe(f,a,c);return e.domain([c_(p),l_(p)]),{niceTicks:p}}if(a&&i==="number"){var g=e.domain(),b=mxe(g,a,c);return{niceTicks:b}}return null};function nB(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Pt(i[e.dataKey])){var c=n0(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Xr(i,Pt(o)?e.dataKey:o);return Pt(d)?null:e.scale(d)}var rB=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var d=Xr(o,n.dataKey,n.domain[c]);return Pt(d)?null:n.scale(d)-a/2+i},t_e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},n_e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Qr(a)){var o=n[a];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},r_e=function(e){return e.reduce(function(n,r){return[c_(r.concat([n[0]]).filter(Ge)),l_(r.concat([n[1]]).filter(Ge))]},[1/0,-1/0])},XH=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],c=o.stackedData,d=c.reduce(function(f,p){var g=r_e(p.slice(n,r+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VO=function(e,n,r){if(St(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(iB.test(e[0])){var a=+iB.exec(e[0])[1];i[0]=n[0]-a}else St(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(aB.test(e[1])){var o=+aB.exec(e[1])[1];i[1]=n[1]+o}else St(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},P0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=GN(n,function(g){return g.coordinate}),o=1/0,c=1,d=a.length;c<d;c++){var f=a[c],p=a[c-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},sB=function(e,n,r){return!e||!e.length||gy(e,ss(r,"type.defaultProps.domain"))?n:e},QH=function(e,n){var r=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,c=r.formatter,d=r.tooltipType,f=r.chartType,p=r.hide;return hr(hr({},pt(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:a||i,color:vj(e),value:Xr(n,i),type:d,payload:n,chartType:f,hide:p})};function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){JH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JH(t,e,n){return e=i_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i_e(t){var e=a_e(t,"string");return Ag(e)=="symbol"?e:e+""}function a_e(t,e){if(Ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_e(t,e){return u_e(t)||c_e(t,e)||l_e(t,e)||o_e()}function o_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(t,e){if(t){if(typeof t=="string")return lB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lB(t,e)}}function lB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function u_e(t){if(Array.isArray(t))return t}var O0=Math.PI/180,d_e=function(e){return e*180/Math.PI},zn=function(e,n,r,i){return{x:e+Math.cos(-O0*i)*r,y:n+Math.sin(-O0*i)*r}},eG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},f_e=function(e,n,r,i,a){var o=e.width,c=e.height,d=e.startAngle,f=e.endAngle,p=pa(e.cx,o,o/2),g=pa(e.cy,c,c/2),b=eG(o,c,r),w=pa(e.innerRadius,b,0),P=pa(e.outerRadius,b,b*.8),T=Object.keys(n);return T.reduce(function(A,C){var D=n[C],R=D.domain,$=D.reversed,I;if(Pt(D.range))i==="angleAxis"?I=[d,f]:i==="radiusAxis"&&(I=[w,P]),$&&(I=[I[1],I[0]]);else{I=D.range;var B=I,N=s_e(B,2);d=N[0],f=N[1]}var j=WH(D,a),V=j.realScaleType,K=j.scale;K.domain(R).range(I),ZH(K);var q=YH(K,Al(Al({},D),{},{realScaleType:V})),H=Al(Al(Al({},D),q),{},{range:I,radius:P,realScaleType:V,scale:K,cx:p,cy:g,innerRadius:w,outerRadius:P,startAngle:d,endAngle:f});return Al(Al({},A),{},JH({},C,H))},{})},h_e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},p_e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,c=h_e({x:r,y:i},{x:a,y:o});if(c<=0)return{radius:c};var d=(r-a)/c,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:c,angle:d_e(f),angleInRadian:f}},m_e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},g_e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),c=Math.min(a,o);return e+c*360},cB=function(e,n){var r=e.x,i=e.y,a=p_e({x:r,y:i},n),o=a.radius,c=a.angle,d=n.innerRadius,f=n.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=m_e(n),g=p.startAngle,b=p.endAngle,w=c,P;if(g<=b){for(;w>b;)w-=360;for(;w<g;)w+=360;P=w>=g&&w<=b}else{for(;w>g;)w-=360;for(;w<b;)w+=360;P=w>=b&&w<=g}return P?Al(Al({},n),{},{radius:o,angle:g_e(w,n)}):null},tG=function(e){return!k.isValidElement(e)&&!St(e)&&typeof e!="boolean"?e.className:""};function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}var y_e=["offset"];function v_e(t){return w_e(t)||__e(t)||x_e(t)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x_e(t,e){if(t){if(typeof t=="string")return BO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(t,e)}}function __e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w_e(t){if(Array.isArray(t))return BO(t)}function BO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S_e(t,e){if(t==null)return{};var n=T_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){A_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A_e(t,e,n){return e=E_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E_e(t){var e=P_e(t,"string");return Eg(e)=="symbol"?e:e+""}function P_e(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}var O_e=function(e){var n=e.value,r=e.formatter,i=Pt(e.children)?n:e.children;return St(r)?r(i):i},C_e=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),360);return r*i},N_e=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,c=e.className,d=a,f=d.cx,p=d.cy,g=d.innerRadius,b=d.outerRadius,w=d.startAngle,P=d.endAngle,T=d.clockWise,A=(g+b)/2,C=C_e(w,P),D=C>=0?1:-1,R,$;i==="insideStart"?(R=w+D*o,$=T):i==="insideEnd"?(R=P-D*o,$=!T):i==="end"&&(R=P+D*o,$=T),$=C<=0?$:!$;var I=zn(f,p,A,R),B=zn(f,p,A,R+($?1:-1)*359),N="M".concat(I.x,",").concat(I.y,`
    A`).concat(A,",").concat(A,",0,1,").concat($?0:1,`,
    `).concat(B.x,",").concat(B.y),j=Pt(e.id)?lp("recharts-radial-line-"):e.id;return ne.createElement("text",Pg({},r,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",c)}),ne.createElement("defs",null,ne.createElement("path",{id:j,d:N})),ne.createElement("textPath",{xlinkHref:"#".concat(j)},n))},j_e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,c=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,g=a.endAngle,b=(p+g)/2;if(i==="outside"){var w=zn(o,c,f+r,b),P=w.x,T=w.y;return{x:P,y:T,textAnchor:P>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var A=(d+f)/2,C=zn(o,c,A,b),D=C.x,R=C.y;return{x:D,y:R,textAnchor:"middle",verticalAnchor:"middle"}},I_e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,c=o.x,d=o.y,f=o.width,p=o.height,g=p>=0?1:-1,b=g*i,w=g>0?"end":"start",P=g>0?"start":"end",T=f>=0?1:-1,A=T*i,C=T>0?"end":"start",D=T>0?"start":"end";if(a==="top"){var R={x:c+f/2,y:d-g*i,textAnchor:"middle",verticalAnchor:w};return Zr(Zr({},R),r?{height:Math.max(d-r.y,0),width:f}:{})}if(a==="bottom"){var $={x:c+f/2,y:d+p+b,textAnchor:"middle",verticalAnchor:P};return Zr(Zr({},$),r?{height:Math.max(r.y+r.height-(d+p),0),width:f}:{})}if(a==="left"){var I={x:c-A,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return Zr(Zr({},I),r?{width:Math.max(I.x-r.x,0),height:p}:{})}if(a==="right"){var B={x:c+f+A,y:d+p/2,textAnchor:D,verticalAnchor:"middle"};return Zr(Zr({},B),r?{width:Math.max(r.x+r.width-B.x,0),height:p}:{})}var N=r?{width:f,height:p}:{};return a==="insideLeft"?Zr({x:c+A,y:d+p/2,textAnchor:D,verticalAnchor:"middle"},N):a==="insideRight"?Zr({x:c+f-A,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},N):a==="insideTop"?Zr({x:c+f/2,y:d+b,textAnchor:"middle",verticalAnchor:P},N):a==="insideBottom"?Zr({x:c+f/2,y:d+p-b,textAnchor:"middle",verticalAnchor:w},N):a==="insideTopLeft"?Zr({x:c+A,y:d+b,textAnchor:D,verticalAnchor:P},N):a==="insideTopRight"?Zr({x:c+f-A,y:d+b,textAnchor:C,verticalAnchor:P},N):a==="insideBottomLeft"?Zr({x:c+A,y:d+p-b,textAnchor:D,verticalAnchor:w},N):a==="insideBottomRight"?Zr({x:c+f-A,y:d+p-b,textAnchor:C,verticalAnchor:w},N):op(a)&&(Ge(a.x)||ld(a.x))&&(Ge(a.y)||ld(a.y))?Zr({x:c+pa(a.x,f),y:d+pa(a.y,p),textAnchor:"end",verticalAnchor:"end"},N):Zr({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},N)},R_e=function(e){return"cx"in e&&Ge(e.cx)};function pi(t){var e=t.offset,n=e===void 0?5:e,r=S_e(t,y_e),i=Zr({offset:n},r),a=i.viewBox,o=i.position,c=i.value,d=i.children,f=i.content,p=i.className,g=p===void 0?"":p,b=i.textBreakAll;if(!a||Pt(c)&&Pt(d)&&!k.isValidElement(f)&&!St(f))return null;if(k.isValidElement(f))return k.cloneElement(f,i);var w;if(St(f)){if(w=k.createElement(f,i),k.isValidElement(w))return w}else w=O_e(i);var P=R_e(a),T=pt(i,!0);if(P&&(o==="insideStart"||o==="insideEnd"||o==="end"))return N_e(i,w,T);var A=P?j_e(i):I_e(i);return ne.createElement(Nd,Pg({className:Nt("recharts-label",g)},T,A,{breakAll:b}),w)}pi.displayName="Label";var nG=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,c=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,g=e.x,b=e.y,w=e.top,P=e.left,T=e.width,A=e.height,C=e.clockWise,D=e.labelViewBox;if(D)return D;if(Ge(T)&&Ge(A)){if(Ge(g)&&Ge(b))return{x:g,y:b,width:T,height:A};if(Ge(w)&&Ge(P))return{x:w,y:P,width:T,height:A}}return Ge(g)&&Ge(b)?{x:g,y:b,width:0,height:0}:Ge(n)&&Ge(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:C}:e.viewBox?e.viewBox:{}},M_e=function(e,n){return e?e===!0?ne.createElement(pi,{key:"label-implicit",viewBox:n}):Qr(e)?ne.createElement(pi,{key:"label-implicit",viewBox:n,value:e}):k.isValidElement(e)?e.type===pi?k.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(pi,{key:"label-implicit",content:e,viewBox:n}):St(e)?ne.createElement(pi,{key:"label-implicit",content:e,viewBox:n}):op(e)?ne.createElement(pi,Pg({viewBox:n},e,{key:"label-implicit"})):null:null},D_e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=nG(e),o=os(i,pi).map(function(d,f){return k.cloneElement(d,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return o;var c=M_e(e.label,n||a);return[c].concat(v_e(o))};pi.parseViewBox=nG;pi.renderCallByParent=D_e;var bE,dB;function k_e(){if(dB)return bE;dB=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return bE=t,bE}var L_e=k_e();const V_e=pn(L_e);function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}var B_e=["valueAccessor"],z_e=["data","dataKey","clockWise","id","textBreakAll"];function U_e(t){return H_e(t)||q_e(t)||F_e(t)||$_e()}function $_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F_e(t,e){if(t){if(typeof t=="string")return zO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zO(t,e)}}function q_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H_e(t){if(Array.isArray(t))return zO(t)}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){G_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_e(t,e,n){return e=K_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K_e(t){var e=W_e(t,"string");return Og(e)=="symbol"?e:e+""}function W_e(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pB(t,e){if(t==null)return{};var n=Z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Y_e=function(e){return Array.isArray(e.value)?V_e(e.value):e.value};function kl(t){var e=t.valueAccessor,n=e===void 0?Y_e:e,r=pB(t,B_e),i=r.data,a=r.dataKey,o=r.clockWise,c=r.id,d=r.textBreakAll,f=pB(r,z_e);return!i||!i.length?null:ne.createElement(dn,{className:"recharts-label-list"},i.map(function(p,g){var b=Pt(a)?n(p,g):Xr(p&&p.payload,a),w=Pt(c)?{}:{id:"".concat(c,"-").concat(g)};return ne.createElement(pi,C0({},pt(p,!0),f,w,{parentViewBox:p.parentViewBox,value:b,textBreakAll:d,viewBox:pi.parseViewBox(Pt(o)?p:hB(hB({},p),{},{clockWise:o})),key:"label-".concat(g),index:g}))}))}kl.displayName="LabelList";function X_e(t,e){return t?t===!0?ne.createElement(kl,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||St(t)?ne.createElement(kl,{key:"labelList-implicit",data:e,content:t}):op(t)?ne.createElement(kl,C0({data:e},t,{key:"labelList-implicit"})):null:null}function Q_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=os(r,kl).map(function(o,c){return k.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var a=X_e(t.label,e);return[a].concat(U_e(i))}kl.renderCallByParent=Q_e;function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UO.apply(this,arguments)}function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){J_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J_e(t,e,n){return e=ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ewe(t){var e=twe(t,"string");return Cg(e)=="symbol"?e:e+""}function twe(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nwe=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,c=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(c?1:-1)+i,g=Math.asin(d/p)/O0,b=f?a:a+o*g,w=zn(n,r,p,b),P=zn(n,r,i,b),T=f?a-o*g:a,A=zn(n,r,p*Math.cos(g*O0),T);return{center:w,circleTangency:P,lineTangency:A,theta:g}},rG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,c=e.endAngle,d=nwe(o,c),f=o+d,p=zn(n,r,a,o),g=zn(n,r,a,f),b="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var w=zn(n,r,i,o),P=zn(n,r,i,f);b+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(w.x,",").concat(w.y," Z")}else b+="L ".concat(n,",").concat(r," Z");return b},rwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,g=ha(p-f),b=Wv({cx:n,cy:r,radius:a,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),w=b.circleTangency,P=b.lineTangency,T=b.theta,A=Wv({cx:n,cy:r,radius:a,angle:p,sign:-g,cornerRadius:o,cornerIsExternal:d}),C=A.circleTangency,D=A.lineTangency,R=A.theta,$=d?Math.abs(f-p):Math.abs(f-p)-T-R;if($<0)return c?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rG({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var I="M ".concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,`
  `);if(i>0){var B=Wv({cx:n,cy:r,radius:i,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),N=B.circleTangency,j=B.lineTangency,V=B.theta,K=Wv({cx:n,cy:r,radius:i,angle:p,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),q=K.circleTangency,H=K.lineTangency,z=K.theta,ie=d?Math.abs(f-p):Math.abs(f-p)-V-z;if(ie<0&&o===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat(H.x,",").concat(H.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ie>180),",").concat(+(g>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},iwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iG=function(e){var n=gB(gB({},iwe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,p=n.startAngle,g=n.endAngle,b=n.className;if(o<a||p===g)return null;var w=Nt("recharts-sector",b),P=o-a,T=pa(c,P,0,!0),A;return T>0&&Math.abs(p-g)<360?A=rwe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(T,P/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:g}):A=rG({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:g}),ne.createElement("path",UO({},pt(n,!0),{className:w,d:A,role:"img"}))};function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function $O(){return $O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$O.apply(this,arguments)}function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(n),!0).forEach(function(r){awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function awe(t,e,n){return e=swe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function swe(t){var e=owe(t,"string");return Ng(e)=="symbol"?e:e+""}function owe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bB={curveBasisClosed:Ppe,curveBasisOpen:Ope,curveBasis:Epe,curveBumpX:fpe,curveBumpY:hpe,curveLinearClosed:Cpe,curveLinear:Zx,curveMonotoneX:Npe,curveMonotoneY:jpe,curveNatural:Ipe,curveStep:Rpe,curveStepAfter:Dpe,curveStepBefore:Mpe},Zv=function(e){return e.x===+e.x&&e.y===+e.y},am=function(e){return e.x},sm=function(e){return e.y},lwe=function(e,n){if(St(e))return e;var r="curve".concat(Kx(e));return(r==="curveMonotone"||r==="curveBump")&&n?bB["".concat(r).concat(n==="vertical"?"Y":"X")]:bB[r]||Zx},cwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,c=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=lwe(r,c),g=f?a.filter(function(T){return Zv(T)}):a,b;if(Array.isArray(o)){var w=f?o.filter(function(T){return Zv(T)}):o,P=g.map(function(T,A){return vB(vB({},T),{},{base:w[A]})});return c==="vertical"?b=zv().y(sm).x1(am).x0(function(T){return T.base.x}):b=zv().x(am).y1(sm).y0(function(T){return T.base.y}),b.defined(Zv).curve(p),b(P)}return c==="vertical"&&Ge(o)?b=zv().y(sm).x1(am).x0(o):Ge(o)?b=zv().x(am).y1(sm).y0(o):b=n7().x(am).y(sm),b.defined(Zv).curve(p),b(g)},N0=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?cwe(e):i;return k.createElement("path",$O({},pt(e,!1),r0(e),{className:Nt("recharts-curve",n),d:o,ref:a}))},xE={exports:{}},_E,xB;function uwe(){if(xB)return _E;xB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _E=t,_E}var wE,_B;function dwe(){if(_B)return wE;_B=1;var t=uwe();function e(){}function n(){}return n.resetWarningCache=e,wE=function(){function r(o,c,d,f,p,g){if(g!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},wE}var wB;function fwe(){return wB||(wB=1,xE.exports=dwe()()),xE.exports}var hwe=fwe();const yn=pn(hwe);var pwe=Object.getOwnPropertyNames,mwe=Object.getOwnPropertySymbols,gwe=Object.prototype.hasOwnProperty;function SB(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Yv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),c=a.get(r);if(o&&c)return o===r&&c===n;a.set(n,r),a.set(r,n);var d=t(n,r,i);return a.delete(n),a.delete(r),d}}function ywe(t){return t?.[Symbol.toStringTag]}function TB(t){return pwe(t).concat(mwe(t))}var vwe=Object.hasOwn||(function(t,e){return gwe.call(t,e)});function Hd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var bwe="__v",xwe="__o",_we="_owner",AB=Object.getOwnPropertyDescriptor,EB=Object.keys;function wwe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Swe(t,e){return Hd(t.getTime(),e.getTime())}function Twe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Awe(t,e){return t===e}function PB(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,c,d=0;(o=a.next())&&!o.done;){for(var f=e.entries(),p=!1,g=0;(c=f.next())&&!c.done;){if(i[g]){g++;continue}var b=o.value,w=c.value;if(n.equals(b[0],w[0],d,g,t,e,n)&&n.equals(b[1],w[1],b[0],w[0],t,e,n)){p=i[g]=!0;break}g++}if(!p)return!1;d++}return!0}var Ewe=Hd;function Pwe(t,e,n){var r=EB(t),i=r.length;if(EB(e).length!==i)return!1;for(;i-- >0;)if(!aG(t,e,n,r[i]))return!1;return!0}function om(t,e,n){var r=TB(t),i=r.length;if(TB(e).length!==i)return!1;for(var a,o,c;i-- >0;)if(a=r[i],!aG(t,e,n,a)||(o=AB(t,a),c=AB(e,a),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function Owe(t,e){return Hd(t.valueOf(),e.valueOf())}function Cwe(t,e){return t.source===e.source&&t.flags===e.flags}function OB(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,c;(o=a.next())&&!o.done;){for(var d=e.values(),f=!1,p=0;(c=d.next())&&!c.done;){if(!i[p]&&n.equals(o.value,c.value,o.value,c.value,t,e,n)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function Nwe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aG(t,e,n,r){return(r===_we||r===xwe||r===bwe)&&(t.$$typeof||e.$$typeof)?!0:vwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Iwe="[object Arguments]",Rwe="[object Boolean]",Mwe="[object Date]",Dwe="[object Error]",kwe="[object Map]",Lwe="[object Number]",Vwe="[object Object]",Bwe="[object RegExp]",zwe="[object Set]",Uwe="[object String]",$we="[object URL]",Fwe=Array.isArray,CB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NB=Object.assign,qwe=Object.prototype.toString.call.bind(Object.prototype.toString);function Hwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,p=t.areSetsEqual,g=t.areTypedArraysEqual,b=t.areUrlsEqual,w=t.unknownTagComparators;return function(T,A,C){if(T===A)return!0;if(T==null||A==null)return!1;var D=typeof T;if(D!==typeof A)return!1;if(D!=="object")return D==="number"?o(T,A,C):D==="function"?i(T,A,C):!1;var R=T.constructor;if(R!==A.constructor)return!1;if(R===Object)return c(T,A,C);if(Fwe(T))return e(T,A,C);if(CB!=null&&CB(T))return g(T,A,C);if(R===Date)return n(T,A,C);if(R===RegExp)return f(T,A,C);if(R===Map)return a(T,A,C);if(R===Set)return p(T,A,C);var $=qwe(T);if($===Mwe)return n(T,A,C);if($===Bwe)return f(T,A,C);if($===kwe)return a(T,A,C);if($===zwe)return p(T,A,C);if($===Vwe)return typeof T.then!="function"&&typeof A.then!="function"&&c(T,A,C);if($===$we)return b(T,A,C);if($===Dwe)return r(T,A,C);if($===Iwe)return c(T,A,C);if($===Rwe||$===Lwe||$===Uwe)return d(T,A,C);if(w){var I=w[$];if(!I){var B=ywe(T);B&&(I=w[B])}if(I)return I(T,A,C)}return!1}}function Gwe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?om:wwe,areDatesEqual:Swe,areErrorsEqual:Twe,areFunctionsEqual:Awe,areMapsEqual:r?SB(PB,om):PB,areNumbersEqual:Ewe,areObjectsEqual:r?om:Pwe,arePrimitiveWrappersEqual:Owe,areRegExpsEqual:Cwe,areSetsEqual:r?SB(OB,om):OB,areTypedArraysEqual:r?om:Nwe,areUrlsEqual:jwe,unknownTagComparators:void 0};if(n&&(i=NB({},i,n(i))),e){var a=Yv(i.areArraysEqual),o=Yv(i.areMapsEqual),c=Yv(i.areObjectsEqual),d=Yv(i.areSetsEqual);i=NB({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:d})}return i}function Kwe(t){return function(e,n,r,i,a,o,c){return t(e,n,c)}}function Wwe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(d,f){var p=r(),g=p.cache,b=g===void 0?e?new WeakMap:void 0:g,w=p.meta;return n(d,f,{cache:b,equals:i,meta:w,strict:a})};if(e)return function(d,f){return n(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return n(d,f,o)}}var Zwe=yu();yu({strict:!0});yu({circular:!0});yu({circular:!0,strict:!0});yu({createInternalComparator:function(){return Hd}});yu({strict:!0,createInternalComparator:function(){return Hd}});yu({circular:!0,createInternalComparator:function(){return Hd}});yu({circular:!0,createInternalComparator:function(){return Hd},strict:!0});function yu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,c=Gwe(t),d=Hwe(c),f=r?r(d):Kwe(d);return Wwe({circular:n,comparator:d,createState:i,equals:f,strict:o})}function Ywe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Ywe(i)};requestAnimationFrame(r)}function FO(t){"@babel/helpers - typeof";return FO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FO(t)}function Xwe(t){return t1e(t)||e1e(t)||Jwe(t)||Qwe()}function Qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jwe(t,e){if(t){if(typeof t=="string")return IB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IB(t,e)}}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t1e(t){if(Array.isArray(t))return t}function n1e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,c=Xwe(o),d=c[0],f=c.slice(1);if(typeof d=="number"){jB(i.bind(null,f),d);return}i(d),jB(i.bind(null,f));return}FO(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(r){sG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sG(t,e,n){return e=r1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r1e(t){var e=i1e(t,"string");return jg(e)==="symbol"?e:String(e)}function i1e(t,e){if(jg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},s1e=function(e){return e},o1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bm=function(e,n){return Object.keys(n).reduce(function(r,i){return MB(MB({},r),{},sG({},i,e(i,n[i])))},{})},DB=function(e,n,r){return e.map(function(i){return"".concat(o1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function l1e(t,e){return d1e(t)||u1e(t,e)||oG(t,e)||c1e()}function c1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function d1e(t){if(Array.isArray(t))return t}function f1e(t){return m1e(t)||p1e(t)||oG(t)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(t,e){if(t){if(typeof t=="string")return qO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qO(t,e)}}function p1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m1e(t){if(Array.isArray(t))return qO(t)}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j0=1e-4,lG=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cG=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},kB=function(e,n){return function(r){var i=lG(e,n);return cG(i,r)}},g1e=function(e,n){return function(r){var i=lG(e,n),a=[].concat(f1e(i.map(function(o,c){return o*c}).slice(1)),[0]);return cG(a,r)}},LB=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,c=1;break;case"ease":i=.25,a=.1,o=.25,c=1;break;case"ease-in":i=.42,a=0,o=1,c=1;break;case"ease-out":i=.42,a=0,o=.58,c=1;break;case"ease-in-out":i=0,a=0,o=.58,c=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),p=l1e(f,4);i=p[0],a=p[1],o=p[2],c=p[3]}}}var g=kB(i,o),b=kB(a,c),w=g1e(i,o),P=function(C){return C>1?1:C<0?0:C},T=function(C){for(var D=C>1?1:C,R=D,$=0;$<8;++$){var I=g(R)-D,B=w(R);if(Math.abs(I-D)<j0||B<j0)return b(R);R=P(R-I/B)}return b(R)};return T.isStepper=!1,T},y1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,d=function(p,g,b){var w=-(p-g)*r,P=b*a,T=b+(w-P)*c/1e3,A=b*c/1e3+p;return Math.abs(A-g)<j0&&Math.abs(T)<j0?[g,0]:[A,T]};return d.isStepper=!0,d.dt=c,d},v1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LB(i);case"spring":return y1e();default:if(i.split("(")[0]==="cubic-bezier")return LB(i)}return typeof i=="function"?i:null};function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function VB(t){return _1e(t)||x1e(t)||uG(t)||b1e()}function b1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _1e(t){if(Array.isArray(t))return GO(t)}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(n),!0).forEach(function(r){HO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HO(t,e,n){return e=w1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1e(t){var e=S1e(t,"string");return Ig(e)==="symbol"?e:String(e)}function S1e(t,e){if(Ig(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1e(t,e){return P1e(t)||E1e(t,e)||uG(t,e)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(t,e){if(t){if(typeof t=="string")return GO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function P1e(t){if(Array.isArray(t))return t}var I0=function(e,n,r){return e+(n-e)*r},KO=function(e){var n=e.from,r=e.to;return n!==r},O1e=function t(e,n,r){var i=Bm(function(a,o){if(KO(o)){var c=e(o.from,o.to,o.velocity),d=T1e(c,2),f=d[0],p=d[1];return Ei(Ei({},o),{},{from:f,velocity:p})}return o},n);return r<1?Bm(function(a,o){return KO(o)?Ei(Ei({},o),{},{velocity:I0(o.velocity,i[a].velocity,r),from:I0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const C1e=(function(t,e,n,r,i){var a=a1e(t,e),o=a.reduce(function(A,C){return Ei(Ei({},A),{},HO({},C,[t[C],e[C]]))},{}),c=a.reduce(function(A,C){return Ei(Ei({},A),{},HO({},C,{from:t[C],velocity:0,to:e[C]}))},{}),d=-1,f,p,g=function(){return null},b=function(){return Bm(function(C,D){return D.from},c)},w=function(){return!Object.values(c).filter(KO).length},P=function(C){f||(f=C);var D=C-f,R=D/n.dt;c=O1e(n,c,R),i(Ei(Ei(Ei({},t),e),b())),f=C,w()||(d=requestAnimationFrame(g))},T=function(C){p||(p=C);var D=(C-p)/r,R=Bm(function(I,B){return I0.apply(void 0,VB(B).concat([n(D)]))},o);if(i(Ei(Ei(Ei({},t),e),R)),D<1)d=requestAnimationFrame(g);else{var $=Bm(function(I,B){return I0.apply(void 0,VB(B).concat([n(1)]))},o);i(Ei(Ei(Ei({},t),e),$))}};return g=n.isStepper?P:T,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(d)}}});function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}var N1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function j1e(t,e){if(t==null)return{};var n=I1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SE(t){return k1e(t)||D1e(t)||M1e(t)||R1e()}function R1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1e(t,e){if(t){if(typeof t=="string")return WO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WO(t,e)}}function D1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k1e(t){if(Array.isArray(t))return WO(t)}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wm(t,e,n){return e=dG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dG(r.key),r)}}function B1e(t,e,n){return e&&V1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dG(t){var e=z1e(t,"string");return Ph(e)==="symbol"?e:String(e)}function z1e(t,e){if(Ph(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZO(t,e)}function $1e(t){var e=F1e();return function(){var r=R0(t),i;if(e){var a=R0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return YO(this,i)}}function YO(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XO(t)}function XO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}var Xo=(function(t){U1e(n,t);var e=$1e(n);function n(r,i){var a;L1e(this,n),a=e.call(this,r,i);var o=a.props,c=o.isActive,d=o.attributeName,f=o.from,p=o.to,g=o.steps,b=o.children,w=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(XO(a)),a.changeStyle=a.changeStyle.bind(XO(a)),!c||w<=0)return a.state={style:{}},typeof b=="function"&&(a.state={style:p}),YO(a);if(g&&g.length)a.state={style:g[0].style};else if(f){if(typeof b=="function")return a.state={style:f},YO(a);a.state={style:d?wm({},d,f):f}}else a.state={style:{}};return a}return B1e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,c=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,g=a.from,b=this.state.style;if(c){if(!o){var w={style:d?wm({},d,p):p};this.state&&b&&(d&&b[d]!==p||!d&&b!==p)&&this.setState(w);return}if(!(Zwe(i.to,p)&&i.canBegin&&i.isActive)){var P=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var T=P||f?g:i.to;if(this.state&&b){var A={style:d?wm({},d,T):T};(d&&b[d]!==T||!d&&b!==T)&&this.setState(A)}this.runAnimation(eo(eo({},this.props),{},{from:T,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,c=i.to,d=i.duration,f=i.easing,p=i.begin,g=i.onAnimationEnd,b=i.onAnimationStart,w=C1e(o,c,v1e(f),d,this.changeStyle),P=function(){a.stopJSAnimation=w()};this.manager.start([b,p,P,d,g])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,c=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,g=f.duration,b=g===void 0?0:g,w=function(T,A,C){if(C===0)return T;var D=A.duration,R=A.easing,$=R===void 0?"ease":R,I=A.style,B=A.properties,N=A.onAnimationEnd,j=C>0?o[C-1]:A,V=B||Object.keys(I);if(typeof $=="function"||$==="spring")return[].concat(SE(T),[a.runJSAnimation.bind(a,{from:j.style,to:I,duration:D,easing:$}),D]);var K=DB(V,D,$),q=eo(eo(eo({},j.style),I),{},{transition:K});return[].concat(SE(T),[q,D,N]).filter(s1e)};return this.manager.start([d].concat(SE(o.reduce(w,[p,Math.max(b,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=n1e());var a=i.begin,o=i.duration,c=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,g=i.onAnimationEnd,b=i.steps,w=i.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof f=="function"||typeof w=="function"||f==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var T=c?wm({},c,d):d,A=DB(Object.keys(T),o,f);P.start([p,a,eo(eo({},T),{},{transition:A}),o,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=j1e(i,N1e),f=k.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!c||f===0||o<=0)return a;var g=function(w){var P=w.props,T=P.style,A=T===void 0?{}:T,C=P.className,D=k.cloneElement(w,eo(eo({},d),{},{style:eo(eo({},A),p),className:C}));return D};return f===1?g(k.Children.only(a)):ne.createElement("div",null,k.Children.map(a,function(b){return g(b)}))}}]),n})(k.PureComponent);Xo.displayName="Animate";Xo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xo.propTypes={from:yn.oneOfType([yn.object,yn.string]),to:yn.oneOfType([yn.object,yn.string]),attributeName:yn.string,duration:yn.number,begin:yn.number,easing:yn.oneOfType([yn.string,yn.func]),steps:yn.arrayOf(yn.shape({duration:yn.number.isRequired,style:yn.object.isRequired,easing:yn.oneOfType([yn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yn.func]),properties:yn.arrayOf("string"),onAnimationEnd:yn.func})),children:yn.oneOfType([yn.node,yn.func]),isActive:yn.bool,canBegin:yn.bool,onAnimationEnd:yn.func,shouldReAnimate:yn.bool,onAnimationStart:yn.func,onAnimationReStart:yn.func};function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function q1e(t,e){return W1e(t)||K1e(t,e)||G1e(t,e)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G1e(t,e){if(t){if(typeof t=="string")return UB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UB(t,e)}}function UB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function W1e(t){if(Array.isArray(t))return t}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){Z1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z1e(t,e,n){return e=Y1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1e(t){var e=X1e(t,"string");return Rg(e)=="symbol"?e:e+""}function X1e(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qB=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,p;if(o>0&&a instanceof Array){for(var g=[0,0,0,0],b=0,w=4;b<w;b++)g[b]=a[b]>o?o:a[b];p="M".concat(e,",").concat(n+c*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(n)),p+="L ".concat(e+r-d*g[1],",").concat(n),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+c*g[1])),p+="L ".concat(e+r,",").concat(n+i-c*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+r-d*g[2],",").concat(n+i)),p+="L ".concat(e+d*g[3],",").concat(n+i),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-c*g[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var P=Math.min(o,a);p="M ".concat(e,",").concat(n+c*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e+d*P,",").concat(n,`
            L `).concat(e+r-d*P,",").concat(n,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e+r,",").concat(n+c*P,`
            L `).concat(e+r,",").concat(n+i-c*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e+r-d*P,",").concat(n+i,`
            L `).concat(e+d*P,",").concat(n+i,`
            A `).concat(P,",").concat(P,",0,0,").concat(f,",").concat(e,",").concat(n+i-c*P," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},Q1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,c=n.width,d=n.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(a,a+c),p=Math.max(a,a+c),g=Math.min(o,o+d),b=Math.max(o,o+d);return r>=f&&r<=p&&i>=g&&i<=b}return!1},J1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bj=function(e){var n=FB(FB({},J1e),e),r=k.useRef(),i=k.useState(-1),a=q1e(i,2),o=a[0],c=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&c($)}catch{}},[]);var d=n.x,f=n.y,p=n.width,g=n.height,b=n.radius,w=n.className,P=n.animationEasing,T=n.animationDuration,A=n.animationBegin,C=n.isAnimationActive,D=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||p===0||g===0)return null;var R=Nt("recharts-rectangle",w);return D?ne.createElement(Xo,{canBegin:o>0,from:{width:p,height:g,x:d,y:f},to:{width:p,height:g,x:d,y:f},duration:T,animationEasing:P,isActive:D},function($){var I=$.width,B=$.height,N=$.x,j=$.y;return ne.createElement(Xo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:T,isActive:C,easing:P},ne.createElement("path",M0({},pt(n,!0),{className:R,d:qB(N,j,I,B,b),ref:r})))}):ne.createElement("path",M0({},pt(n,!0),{className:R,d:qB(d,f,p,g,b)}))},eSe=["points","className","baseLinePoints","connectNulls"];function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function tSe(t,e){if(t==null)return{};var n=nSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HB(t){return sSe(t)||aSe(t)||iSe(t)||rSe()}function rSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iSe(t,e){if(t){if(typeof t=="string")return QO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QO(t,e)}}function aSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sSe(t){if(Array.isArray(t))return QO(t)}function QO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GB=function(e){return e&&e.x===+e.x&&e.y===+e.y},oSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){GB(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),GB(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zm=function(e,n){var r=oSe(e);n&&(r=[r.reduce(function(a,o){return[].concat(HB(a),HB(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,c,d){return"".concat(o).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},lSe=function(e,n,r){var i=zm(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zm(n.reverse(),r).slice(1))},cSe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=tSe(e,eSe);if(!n||!n.length)return null;var c=Nt("recharts-polygon",r);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=lSe(n,i,a);return ne.createElement("g",{className:c},ne.createElement("path",Gf({},pt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?ne.createElement("path",Gf({},pt(o,!0),{fill:"none",d:zm(n,a)})):null,d?ne.createElement("path",Gf({},pt(o,!0),{fill:"none",d:zm(i,a)})):null)}var p=zm(n,a);return ne.createElement("path",Gf({},pt(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:c,d:p}))};function JO(){return JO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JO.apply(this,arguments)}var f_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Nt("recharts-dot",a);return n===+n&&r===+r&&i===+i?k.createElement("circle",JO({},pt(e,!1),r0(e),{className:o,cx:n,cy:r,r:i})):null};function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}var uSe=["x","y","top","left","width","height","className"];function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eC.apply(this,arguments)}function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){fSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fSe(t,e,n){return e=hSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hSe(t){var e=pSe(t,"string");return Mg(e)=="symbol"?e:e+""}function pSe(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mSe(t,e){if(t==null)return{};var n=gSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ySe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},vSe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,c=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,g=p===void 0?0:p,b=e.height,w=b===void 0?0:b,P=e.className,T=mSe(e,uSe),A=dSe({x:r,y:a,top:c,left:f,width:g,height:w},T);return!Ge(r)||!Ge(a)||!Ge(g)||!Ge(w)||!Ge(c)||!Ge(f)?null:ne.createElement("path",eC({},pt(A,!0),{className:Nt("recharts-cross",P),d:ySe(r,a,g,w,c,f)}))},TE,WB;function bSe(){if(WB)return TE;WB=1;var t=o_(),e=EH(),n=nl();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return TE=r,TE}var xSe=bSe();const _Se=pn(xSe);var AE,ZB;function wSe(){if(ZB)return AE;ZB=1;var t=o_(),e=nl(),n=PH();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return AE=r,AE}var SSe=wSe();const TSe=pn(SSe);var ASe=["cx","cy","angle","ticks","axisLine"],ESe=["ticks","tick","angle","tickFormatter","stroke"];function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){h_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XB(t,e){if(t==null)return{};var n=PSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hG(r.key),r)}}function CSe(t,e,n){return e&&QB(t.prototype,e),n&&QB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NSe(t,e,n){return e=D0(e),jSe(t,fG()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function jSe(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ISe(t)}function ISe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function RSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tC(t,e)}function h_(t,e,n){return e=hG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=MSe(t,"string");return Oh(e)=="symbol"?e:e+""}function MSe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p_=(function(t){function e(){return OSe(this,e),NSe(this,e,arguments)}return RSe(e,t),CSe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,c=a.cx,d=a.cy;return zn(c,d,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,c=r.ticks,d=_Se(c,function(p){return p.coordinate||0}),f=TSe(c,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,c=r.ticks,d=r.axisLine,f=XB(r,ASe),p=c.reduce(function(P,T){return[Math.min(P[0],T.coordinate),Math.max(P[1],T.coordinate)]},[1/0,-1/0]),g=zn(i,a,p[0],o),b=zn(i,a,p[1],o),w=Xu(Xu(Xu({},pt(f,!1)),{},{fill:"none"},pt(d,!1)),{},{x1:g.x,y1:g.y,x2:b.x,y2:b.y});return ne.createElement("line",Um({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,c=i.angle,d=i.tickFormatter,f=i.stroke,p=XB(i,ESe),g=this.getTickTextAnchor(),b=pt(p,!1),w=pt(o,!1),P=a.map(function(T,A){var C=r.getTickValueCoord(T),D=Xu(Xu(Xu(Xu({textAnchor:g,transform:"rotate(".concat(90-c,", ").concat(C.x,", ").concat(C.y,")")},b),{},{stroke:"none",fill:f},w),{},{index:A},C),{},{payload:T});return ne.createElement(dn,Um({className:Nt("recharts-polar-radius-axis-tick",tG(o)),key:"tick-".concat(T.coordinate)},Cd(r.props,T,A)),e.renderTickItem(o,D,d?d(T.value,A):T.value))});return ne.createElement(dn,{className:"recharts-polar-radius-axis-ticks"},P)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:ne.createElement(dn,{className:Nt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),pi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ne.isValidElement(r)?o=ne.cloneElement(r,i):St(r)?o=r(i):o=ne.createElement(Nd,Um({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(k.PureComponent);h_(p_,"displayName","PolarRadiusAxis");h_(p_,"axisType","radiusAxis");h_(p_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(this,arguments)}function JB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ez(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mG(r.key),r)}}function kSe(t,e,n){return e&&ez(t.prototype,e),n&&ez(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LSe(t,e,n){return e=k0(e),VSe(t,pG()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function VSe(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BSe(t)}function BSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function zSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function m_(t,e,n){return e=mG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=USe(t,"string");return Ch(e)=="symbol"?e:e+""}function USe(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Se=Math.PI/180,tz=1e-5,g_=(function(t){function e(){return DSe(this,e),LSe(this,e,arguments)}return zSe(e,t),kSe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,c=i.radius,d=i.orientation,f=i.tickSize,p=f||8,g=zn(a,o,c,r.coordinate),b=zn(a,o,c+(d==="inner"?-1:1)*p,r.coordinate);return{x1:g.x,y1:g.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*$Se),o;return a>tz?o=i==="outer"?"start":"end":a<-tz?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,c=r.axisLine,d=r.axisLineType,f=Qu(Qu({},pt(this.props,!1)),{},{fill:"none"},pt(c,!1));if(d==="circle")return ne.createElement(f_,id({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var p=this.props.ticks,g=p.map(function(b){return zn(i,a,o,b.coordinate)});return ne.createElement(cSe,id({className:"recharts-polar-angle-axis-line"},f,{points:g}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,c=i.tickLine,d=i.tickFormatter,f=i.stroke,p=pt(this.props,!1),g=pt(o,!1),b=Qu(Qu({},p),{},{fill:"none"},pt(c,!1)),w=a.map(function(P,T){var A=r.getTickLineCoord(P),C=r.getTickTextAnchor(P),D=Qu(Qu(Qu({textAnchor:C},p),{},{stroke:"none",fill:f},g),{},{index:T,payload:P,x:A.x2,y:A.y2});return ne.createElement(dn,id({className:Nt("recharts-polar-angle-axis-tick",tG(o)),key:"tick-".concat(P.coordinate)},Cd(r.props,P,T)),c&&ne.createElement("line",id({className:"recharts-polar-angle-axis-tick-line"},b,A)),o&&e.renderTickItem(o,D,d?d(P.value,T):P.value))});return ne.createElement(dn,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:ne.createElement(dn,{className:Nt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ne.isValidElement(r)?o=ne.cloneElement(r,i):St(r)?o=r(i):o=ne.createElement(Nd,id({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(k.PureComponent);m_(g_,"displayName","PolarAngleAxis");m_(g_,"axisType","angleAxis");m_(g_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var EE,nz;function FSe(){if(nz)return EE;nz=1;var t=A7(),e=t(Object.getPrototypeOf,Object);return EE=e,EE}var PE,rz;function qSe(){if(rz)return PE;rz=1;var t=Ql(),e=FSe(),n=Jl(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,c=a.hasOwnProperty,d=o.call(Object);function f(p){if(!n(p)||t(p)!=r)return!1;var g=e(p);if(g===null)return!0;var b=c.call(g,"constructor")&&g.constructor;return typeof b=="function"&&b instanceof b&&o.call(b)==d}return PE=f,PE}var HSe=qSe();const GSe=pn(HSe);var OE,iz;function KSe(){if(iz)return OE;iz=1;var t=Ql(),e=Jl(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return OE=r,OE}var WSe=KSe();const ZSe=pn(WSe);function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function YSe(t,e){return eTe(t)||JSe(t,e)||QSe(t,e)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QSe(t,e){if(t){if(typeof t=="string")return az(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return az(t,e)}}function az(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function eTe(t){if(Array.isArray(t))return t}function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){tTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tTe(t,e,n){return e=nTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nTe(t){var e=rTe(t,"string");return Dg(e)=="symbol"?e:e+""}function rTe(t,e){if(Dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lz=function(e,n,r,i,a){var o=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-o/2,",").concat(n+a),c+="L ".concat(e+r-o/2-i,",").concat(n+a),c+="L ".concat(e,",").concat(n," Z"),c},iTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aTe=function(e){var n=oz(oz({},iTe),e),r=k.useRef(),i=k.useState(-1),a=YSe(i,2),o=a[0],c=a[1];k.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&c(R)}catch{}},[]);var d=n.x,f=n.y,p=n.upperWidth,g=n.lowerWidth,b=n.height,w=n.className,P=n.animationEasing,T=n.animationDuration,A=n.animationBegin,C=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||b!==+b||p===0&&g===0||b===0)return null;var D=Nt("recharts-trapezoid",w);return C?ne.createElement(Xo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:b,x:d,y:f},to:{upperWidth:p,lowerWidth:g,height:b,x:d,y:f},duration:T,animationEasing:P,isActive:C},function(R){var $=R.upperWidth,I=R.lowerWidth,B=R.height,N=R.x,j=R.y;return ne.createElement(Xo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:T,easing:P},ne.createElement("path",L0({},pt(n,!0),{className:D,d:lz(N,j,$,I,B),ref:r})))}):ne.createElement("g",null,ne.createElement("path",L0({},pt(n,!0),{className:D,d:lz(d,f,p,g,b)})))},sTe=["option","shapeType","propTransformer","activeClassName","isActive"];function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function oTe(t,e){if(t==null)return{};var n=lTe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(n),!0).forEach(function(r){cTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cTe(t,e,n){return e=uTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uTe(t){var e=dTe(t,"string");return kg(e)=="symbol"?e:e+""}function dTe(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fTe(t,e){return V0(V0({},e),t)}function hTe(t,e){return t==="symbols"}function uz(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(bj,n);case"trapezoid":return ne.createElement(aTe,n);case"sector":return ne.createElement(iG,n);case"symbols":if(hTe(e))return ne.createElement(VN,n);break;default:return null}}function pTe(t){return k.isValidElement(t)?t.props:t}function gG(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?fTe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,c=t.isActive,d=oTe(t,sTe),f;if(k.isValidElement(e))f=k.cloneElement(e,V0(V0({},d),pTe(e)));else if(St(e))f=e(d);else if(GSe(e)&&!ZSe(e)){var p=i(e,d);f=ne.createElement(uz,{shapeType:n,elementProps:p})}else{var g=d;f=ne.createElement(uz,{shapeType:n,elementProps:g})}return c?ne.createElement(dn,{className:o},f):f}function y_(t,e){return e!=null&&"trapezoids"in t.props}function v_(t,e){return e!=null&&"sectors"in t.props}function Lg(t,e){return e!=null&&"points"in t.props}function mTe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function gTe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function yTe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function vTe(t,e){var n;return y_(t,e)?n=mTe:v_(t,e)?n=gTe:Lg(t,e)&&(n=yTe),n}function bTe(t,e){var n;return y_(t,e)?n="trapezoids":v_(t,e)?n="sectors":Lg(t,e)&&(n="points"),n}function xTe(t,e){if(y_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(v_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Lg(t,e)?e.payload:{}}function _Te(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bTe(n,e),a=xTe(n,e),o=r.filter(function(d,f){var p=gy(a,d),g=n.props[i].filter(function(P){var T=vTe(n,e);return T(P,e)}),b=n.props[i].indexOf(g[g.length-1]),w=f===b;return p&&w}),c=r.indexOf(o[o.length-1]);return c}var vb;function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}function dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(n),!0).forEach(function(r){Rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vG(r.key),r)}}function STe(t,e,n){return e&&fz(t.prototype,e),n&&fz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TTe(t,e,n){return e=B0(e),ATe(t,yG()?Reflect.construct(e,n||[],B0(t).constructor):e.apply(t,n))}function ATe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ETe(t)}function ETe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B0(t)}function PTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rC(t,e)}function Rs(t,e,n){return e=vG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vG(t){var e=OTe(t,"string");return Nh(e)=="symbol"?e:e+""}function OTe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tc=(function(t){function e(n){var r;return wTe(this,e),r=TTe(this,e,[n]),Rs(r,"pieRef",null),Rs(r,"sectorRefs",[]),Rs(r,"id",lp("recharts-pie-")),Rs(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),St(i)&&i()}),Rs(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),St(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return PTe(e,t),STe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,c=a.labelLine,d=a.dataKey,f=a.valueKey,p=pt(this.props,!1),g=pt(o,!1),b=pt(c,!1),w=o&&o.offsetRadius||20,P=r.map(function(T,A){var C=(T.startAngle+T.endAngle)/2,D=zn(T.cx,T.cy,T.outerRadius+w,C),R=Ln(Ln(Ln(Ln({},p),T),{},{stroke:"none"},g),{},{index:A,textAnchor:e.getTextAnchor(D.x,T.cx)},D),$=Ln(Ln(Ln(Ln({},p),T),{},{fill:"none",stroke:T.fill},b),{},{index:A,points:[zn(T.cx,T.cy,T.outerRadius,C),D]}),I=d;return Pt(d)&&Pt(f)?I="value":Pt(d)&&(I=f),ne.createElement(dn,{key:"label-".concat(T.startAngle,"-").concat(T.endAngle,"-").concat(T.midAngle,"-").concat(A)},c&&e.renderLabelLineItem(c,$,"line"),e.renderLabelItem(o,R,Xr(T,I)))});return ne.createElement(dn,{className:"recharts-pie-labels"},P)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,c=a.blendStroke,d=a.inactiveShape;return r.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&r.length!==1)return null;var g=i.isActiveIndex(p),b=d&&i.hasActiveIndex()?d:null,w=g?o:b,P=Ln(Ln({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return ne.createElement(dn,Kf({ref:function(A){A&&!i.sectorRefs.includes(A)&&i.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},Cd(i.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),ne.createElement(gG,Kf({option:w,isActive:g,shapeType:"sector"},P)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state,b=g.prevSectors,w=g.prevIsAnimationActive;return ne.createElement(Xo,{begin:c,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(P){var T=P.t,A=[],C=a&&a[0],D=C.startAngle;return a.forEach(function(R,$){var I=b&&b[$],B=$>0?ss(R,"paddingAngle",0):0;if(I){var N=es(I.endAngle-I.startAngle,R.endAngle-R.startAngle),j=Ln(Ln({},R),{},{startAngle:D+B,endAngle:D+N(T)+B});A.push(j),D=j.endAngle}else{var V=R.endAngle,K=R.startAngle,q=es(0,V-K),H=q(T),z=Ln(Ln({},R),{},{startAngle:D+B,endAngle:D+H+B});A.push(z),D=z.endAngle}}),ne.createElement(dn,null,r.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!gy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,c=i.className,d=i.label,f=i.cx,p=i.cy,g=i.innerRadius,b=i.outerRadius,w=i.isAnimationActive,P=this.state.isAnimationFinished;if(a||!o||!o.length||!Ge(f)||!Ge(p)||!Ge(g)||!Ge(b))return null;var T=Nt("recharts-pie",c);return ne.createElement(dn,{tabIndex:this.props.rootTabIndex,className:T,ref:function(C){r.pieRef=C}},this.renderSectors(),d&&this.renderLabels(o),pi.renderCallByParent(this.props,null,!1),(!w||P)&&kl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(ne.isValidElement(r))return ne.cloneElement(r,i);if(St(r))return r(i);var o=Nt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ne.createElement(N0,Kf({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(ne.isValidElement(r))return ne.cloneElement(r,i);var o=a;if(St(r)&&(o=r(i),ne.isValidElement(o)))return o;var c=Nt("recharts-pie-label-text",typeof r!="boolean"&&!St(r)?r.className:"");return ne.createElement(Nd,Kf({},i,{alignmentBaseline:"middle",className:c}),o)}}])})(k.PureComponent);vb=tc;Rs(tc,"displayName","Pie");Rs(tc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!$d.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Rs(tc,"parseDeltaAngle",function(t,e){var n=ha(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Rs(tc,"getRealPieData",function(t){var e=t.data,n=t.children,r=pt(t,!1),i=os(n,e_);return e&&e.length?e.map(function(a,o){return Ln(Ln(Ln({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ln(Ln({},r),a.props)}):[]});Rs(tc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=eG(i,a),c=r+pa(t.cx,i,i/2),d=n+pa(t.cy,a,a/2),f=pa(t.innerRadius,o,0),p=pa(t.outerRadius,o,o*.8),g=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:g}});Rs(tc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ln(Ln({},e.type.defaultProps),e.props):e.props,i=vb.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,c=r.endAngle,d=r.paddingAngle,f=r.dataKey,p=r.nameKey,g=r.valueKey,b=r.tooltipType,w=Math.abs(r.minAngle),P=vb.parseCoordinateOfPie(r,n),T=vb.parseDeltaAngle(o,c),A=Math.abs(T),C=f;Pt(f)&&Pt(g)?(oo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):Pt(f)&&(oo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=g);var D=i.filter(function(j){return Xr(j,C,0)!==0}).length,R=(A>=360?D:D-1)*d,$=A-D*w-R,I=i.reduce(function(j,V){var K=Xr(V,C,0);return j+(Ge(K)?K:0)},0),B;if(I>0){var N;B=i.map(function(j,V){var K=Xr(j,C,0),q=Xr(j,p,V),H=(Ge(K)?K:0)/I,z;V?z=N.endAngle+ha(T)*d*(K!==0?1:0):z=o;var ie=z+ha(T)*((K!==0?w:0)+H*$),de=(z+ie)/2,X=(P.innerRadius+P.outerRadius)/2,re=[{name:q,value:K,payload:j,dataKey:C,type:b}],ee=zn(P.cx,P.cy,X,de);return N=Ln(Ln(Ln({percent:H,cornerRadius:a,name:q,tooltipPayload:re,midAngle:de,middleRadius:X,tooltipPosition:ee},j),P),{},{value:Xr(j,C),startAngle:z,endAngle:ie,payload:j,paddingAngle:ha(T)*d}),N})}return Ln(Ln({},P),{},{sectors:B,data:i})});var CE,hz;function CTe(){if(hz)return CE;hz=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var c=-1,d=e(t((i-r)/(a||1)),0),f=Array(d);d--;)f[o?d:++c]=r,r+=a;return f}return CE=n,CE}var NE,pz;function bG(){if(pz)return NE;pz=1;var t=U7(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return NE=r,NE}var jE,mz;function NTe(){if(mz)return jE;mz=1;var t=CTe(),e=Jx(),n=bG();function r(i){return function(a,o,c){return c&&typeof c!="number"&&e(a,o,c)&&(o=c=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),c=c===void 0?a<o?1:-1:n(c),t(a,o,c,i)}}return jE=r,jE}var IE,gz;function jTe(){if(gz)return IE;gz=1;var t=NTe(),e=t();return IE=e,IE}var ITe=jTe();const z0=pn(ITe);function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(n),!0).forEach(function(r){xG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xG(t,e,n){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RTe(t){var e=MTe(t,"string");return Vg(e)=="symbol"?e:e+""}function MTe(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DTe=["Webkit","Moz","O","ms"],kTe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=DTe.reduce(function(a,o){return vz(vz({},a),{},xG({},o+r,n))},{});return i[e]=n,i};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(r){Xa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wG(r.key),r)}}function VTe(t,e,n){return e&&xz(t.prototype,e),n&&xz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BTe(t,e,n){return e=$0(e),zTe(t,_G()?Reflect.construct(e,n||[],$0(t).constructor):e.apply(t,n))}function zTe(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UTe(t)}function UTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!t})()}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$0(t)}function $Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iC(t,e)}function Xa(t,e,n){return e=wG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wG(t){var e=FTe(t,"string");return jh(e)=="symbol"?e:e+""}function FTe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qTe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=Lm().domain(z0(0,d)).range([a,a+o-c]),p=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:p}},_z=function(e){return e.changedTouches&&!!e.changedTouches.length},Ih=(function(t){function e(n){var r;return LTe(this,e),r=BTe(this,e,[n]),Xa(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Xa(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Xa(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,c=i.startIndex;o?.({endIndex:a,startIndex:c})}),r.detachDragEndListener()}),Xa(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Xa(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Xa(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Xa(r,"handleSlideDragStart",function(i){var a=_z(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $Te(e,t),VTe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,g=Math.min(i,a),b=Math.max(i,a),w=e.getIndexInRange(o,g),P=e.getIndexInRange(o,b);return{startIndex:w-w%d,endIndex:P===p?p:P-P%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,c=i.dataKey,d=Xr(a[r],c,r);return St(o)?o(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,c=i.endX,d=this.props,f=d.x,p=d.width,g=d.travellerWidth,b=d.startIndex,w=d.endIndex,P=d.onChange,T=r.pageX-a;T>0?T=Math.min(T,f+p-g-c,f+p-g-o):T<0&&(T=Math.max(T,f-o,f-c));var A=this.getIndex({startX:o+T,endX:c+T});(A.startIndex!==b||A.endIndex!==w)&&P&&P(A),this.setState({startX:o+T,endX:c+T,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=_z(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,d=i.startX,f=this.state[o],p=this.props,g=p.x,b=p.width,w=p.travellerWidth,P=p.onChange,T=p.gap,A=p.data,C={startX:this.state.startX,endX:this.state.endX},D=r.pageX-a;D>0?D=Math.min(D,g+b-w-f):D<0&&(D=Math.max(D,g-f)),C[o]=f+D;var R=this.getIndex(C),$=R.startIndex,I=R.endIndex,B=function(){var j=A.length-1;return o==="startX"&&(c>d?$%T===0:I%T===0)||c<d&&I===j||o==="endX"&&(c>d?I%T===0:$%T===0)||c>d&&I===j};this.setState(Xa(Xa({},o,f+D),"brushMoveStartX",r.pageX),function(){P&&B()&&P(R)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,c=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],g=c.indexOf(p);if(g!==-1){var b=g+r;if(!(b===-1||b>=c.length)){var w=c[b];i==="startX"&&w>=f||i==="endX"&&w<=d||this.setState(Xa({},i,w),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,d=r.fill,f=r.stroke;return ne.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,d=r.data,f=r.children,p=r.padding,g=k.Children.only(f);return g?ne.cloneElement(g,{x:i,y:a,width:o,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,c=this,d=this.props,f=d.y,p=d.travellerWidth,g=d.height,b=d.traveller,w=d.ariaLabel,P=d.data,T=d.startIndex,A=d.endIndex,C=Math.max(r,this.props.x),D=RE(RE({},pt(this.props,!1)),{},{x:C,y:f,width:p,height:g}),R=w||"Min value: ".concat((a=P[T])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=P[A])===null||o===void 0?void 0:o.name);return ne.createElement(dn,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),c.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(b,D))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,c=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(r,i)+f,g=Math.max(Math.abs(i-r)-f,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:g,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,c=r.height,d=r.travellerWidth,f=r.stroke,p=this.state,g=p.startX,b=p.endX,w=5,P={pointerEvents:"none",fill:f};return ne.createElement(dn,{className:"recharts-brush-texts"},ne.createElement(Nd,U0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,b)-w,y:o+c/2},P),this.getTextOfTick(i)),ne.createElement(Nd,U0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,b)+d+w,y:o+c/2},P),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,c=r.x,d=r.y,f=r.width,p=r.height,g=r.alwaysShowText,b=this.state,w=b.startX,P=b.endX,T=b.isTextActive,A=b.isSlideMoving,C=b.isTravellerMoving,D=b.isTravellerFocused;if(!i||!i.length||!Ge(c)||!Ge(d)||!Ge(f)||!Ge(p)||f<=0||p<=0)return null;var R=Nt("recharts-brush",a),$=ne.Children.count(o)===1,I=kTe("userSelect","none");return ne.createElement(dn,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(w,P),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(P,"endX"),(T||A||C||D||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,c=r.height,d=r.stroke,f=Math.floor(a+c/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:o,height:c,fill:d,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,i):St(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,c=r.x,d=r.travellerWidth,f=r.updateId,p=r.startIndex,g=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return RE({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:o},a&&a.length?qTe({data:a,width:o,x:c,travellerWidth:d,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+o-d]);var b=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,c=a-1;c-o>1;){var d=Math.floor((o+c)/2);r[d]>i?c=d:o=d}return i>=r[c]?c:o}}])})(k.PureComponent);Xa(Ih,"displayName","Brush");Xa(Ih,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ME,wz;function HTe(){if(wz)return ME;wz=1;var t=HN();function e(n,r){var i;return t(n,function(a,o,c){return i=r(a,o,c),!i}),!!i}return ME=e,ME}var DE,Sz;function GTe(){if(Sz)return DE;Sz=1;var t=v7(),e=nl(),n=HTe(),r=ka(),i=Jx();function a(o,c,d){var f=r(o)?t:n;return d&&i(o,c,d)&&(c=void 0),f(o,e(c,3))}return DE=a,DE}var KTe=GTe();const WTe=pn(KTe);var Go=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},kE,Tz;function ZTe(){if(Tz)return kE;Tz=1;var t=k7();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return kE=e,kE}var LE,Az;function YTe(){if(Az)return LE;Az=1;var t=ZTe(),e=M7(),n=nl();function r(i,a){var o={};return a=n(a,3),e(i,function(c,d,f){t(o,d,a(c,d,f))}),o}return LE=r,LE}var XTe=YTe();const QTe=pn(XTe);var VE,Ez;function JTe(){if(Ez)return VE;Ez=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return VE=t,VE}var BE,Pz;function eAe(){if(Pz)return BE;Pz=1;var t=HN();function e(n,r){var i=!0;return t(n,function(a,o,c){return i=!!r(a,o,c),i}),i}return BE=e,BE}var zE,Oz;function tAe(){if(Oz)return zE;Oz=1;var t=JTe(),e=eAe(),n=nl(),r=ka(),i=Jx();function a(o,c,d){var f=r(o)?t:e;return d&&i(o,c,d)&&(c=void 0),f(o,n(c,3))}return zE=a,zE}var nAe=tAe();const SG=pn(nAe);var rAe=["x","y"];function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(this,arguments)}function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){iAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iAe(t,e,n){return e=aAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aAe(t){var e=sAe(t,"string");return Bg(e)=="symbol"?e:e+""}function sAe(t,e){if(Bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oAe(t,e){if(t==null)return{};var n=lAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cAe(t,e){var n=t.x,r=t.y,i=oAe(t,rAe),a="".concat(n),o=parseInt(a,10),c="".concat(r),d=parseInt(c,10),f="".concat(e.height||i.height),p=parseInt(f,10),g="".concat(e.width||i.width),b=parseInt(g,10);return lm(lm(lm(lm(lm({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:b,name:e.name,radius:e.radius})}function Nz(t){return ne.createElement(gG,aC({shapeType:"rectangle",propTransformer:cAe,activeClassName:"recharts-active-bar"},t))}var uAe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ge(r)||Rhe(r);return a?e(r,i):(a||Id(),n)}},dAe=["value","background"],TG;function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function fAe(t,e){if(t==null)return{};var n=hAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(n),!0).forEach(function(r){Hc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EG(r.key),r)}}function mAe(t,e,n){return e&&Iz(t.prototype,e),n&&Iz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gAe(t,e,n){return e=q0(e),yAe(t,AG()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function yAe(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(t)}function vAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(t)}function bAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sC(t,e)}function sC(t,e){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sC(t,e)}function Hc(t,e,n){return e=EG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EG(t){var e=xAe(t,"string");return Rh(e)=="symbol"?e:e+""}function xAe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gd=(function(t){function e(){var n;pAe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gAe(this,e,[].concat(i)),Hc(n,"state",{isAnimationFinished:!1}),Hc(n,"id",lp("recharts-bar-")),Hc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Hc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return bAe(e,t),mAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.dataKey,d=a.activeIndex,f=a.activeBar,p=pt(this.props,!1);return r&&r.map(function(g,b){var w=b===d,P=w?f:o,T=Rr(Rr(Rr({},p),g),{},{isActive:w,option:P,index:b,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(dn,F0({className:"recharts-bar-rectangle"},Cd(i.props,g,b),{key:"rectangle-".concat(g?.x,"-").concat(g?.y,"-").concat(g?.value,"-").concat(b)}),ne.createElement(Nz,T))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,c=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,g=i.animationId,b=this.state.prevData;return ne.createElement(Xo,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var P=w.t,T=a.map(function(A,C){var D=b&&b[C];if(D){var R=es(D.x,A.x),$=es(D.y,A.y),I=es(D.width,A.width),B=es(D.height,A.height);return Rr(Rr({},A),{},{x:R(P),y:$(P),width:I(P),height:B(P)})}if(o==="horizontal"){var N=es(0,A.height),j=N(P);return Rr(Rr({},A),{},{y:A.y+A.height-j,height:j})}var V=es(0,A.width),K=V(P);return Rr(Rr({},A),{},{width:K})});return ne.createElement(dn,null,r.renderRectanglesStatically(T))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!gy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,c=i.activeIndex,d=pt(this.props.background,!1);return a.map(function(f,p){f.value;var g=f.background,b=fAe(f,dAe);if(!g)return null;var w=Rr(Rr(Rr(Rr(Rr({},b),{},{fill:"#eee"},g),d),Cd(r.props,f,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return ne.createElement(Nz,F0({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},w))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,c=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,g=os(p,yy);if(!g)return null;var b=f==="vertical"?o[0].height/2:o[0].width/2,w=function(A,C){var D=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:D,errorVal:Xr(A,C)}},P={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(dn,P,g.map(function(T){return ne.cloneElement(T,{key:"error-bar-".concat(i,"-").concat(T.props.dataKey),data:o,xAxis:c,yAxis:d,layout:f,offset:b,dataPointFormatter:w})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,c=r.xAxis,d=r.yAxis,f=r.left,p=r.top,g=r.width,b=r.height,w=r.isAnimationActive,P=r.background,T=r.id;if(i||!a||!a.length)return null;var A=this.state.isAnimationFinished,C=Nt("recharts-bar",o),D=c&&c.allowDataOverflow,R=d&&d.allowDataOverflow,$=D||R,I=Pt(T)?this.id:T;return ne.createElement(dn,{className:C},D||R?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(I)},ne.createElement("rect",{x:D?f:f-g/2,y:R?p:p-b/2,width:D?g:g*2,height:R?b:b*2}))):null,ne.createElement(dn,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(I,")"):null},P?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,I),(!w||A)&&kl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(k.PureComponent);TG=Gd;Hc(Gd,"displayName","Bar");Hc(Gd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!$d.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hc(Gd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,g=t.displayedData,b=t.offset,w=Wxe(r,n);if(!w)return null;var P=e.layout,T=n.type.defaultProps,A=T!==void 0?Rr(Rr({},T),n.props):n.props,C=A.dataKey,D=A.children,R=A.minPointSize,$=P==="horizontal"?o:a,I=f?$.scale.domain():null,B=t_e({numericAxis:$}),N=os(D,e_),j=g.map(function(V,K){var q,H,z,ie,de,X;f?q=Zxe(f[p+K],I):(q=Xr(V,C),Array.isArray(q)||(q=[B,q]));var re=uAe(R,TG.defaultProps.minPointSize)(q[1],K);if(P==="horizontal"){var ee,le=[o.scale(q[0]),o.scale(q[1])],oe=le[0],Q=le[1];H=rB({axis:a,ticks:c,bandSize:i,offset:w.offset,entry:V,index:K}),z=(ee=Q??oe)!==null&&ee!==void 0?ee:void 0,ie=w.size;var ae=oe-Q;if(de=Number.isNaN(ae)?0:ae,X={x:H,y:o.y,width:ie,height:o.height},Math.abs(re)>0&&Math.abs(de)<Math.abs(re)){var ce=ha(de||re)*(Math.abs(re)-Math.abs(de));z-=ce,de+=ce}}else{var fe=[a.scale(q[0]),a.scale(q[1])],xe=fe[0],Ce=fe[1];if(H=xe,z=rB({axis:o,ticks:d,bandSize:i,offset:w.offset,entry:V,index:K}),ie=Ce-xe,de=w.size,X={x:a.x,y:z,width:a.width,height:de},Math.abs(re)>0&&Math.abs(ie)<Math.abs(re)){var Oe=ha(ie||re)*(Math.abs(re)-Math.abs(ie));ie+=Oe}}return Rr(Rr(Rr({},V),{},{x:H,y:z,width:ie,height:de,value:f?q:q[1],payload:V,background:X},N&&N[K]&&N[K].props),{},{tooltipPayload:[QH(n,V)],tooltipPosition:{x:H+ie/2,y:z+de/2}})});return Rr({data:j,layout:P},b)});function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function _Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PG(r.key),r)}}function wAe(t,e,n){return e&&Rz(t.prototype,e),n&&Rz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b_(t,e,n){return e=PG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=SAe(t,"string");return zg(e)=="symbol"?e:e+""}function SAe(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OG=function(e,n,r,i,a){var o=e.width,c=e.height,d=e.layout,f=e.children,p=Object.keys(n),g={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},b=!!Qa(f,Gd);return p.reduce(function(w,P){var T=n[P],A=T.orientation,C=T.domain,D=T.padding,R=D===void 0?{}:D,$=T.mirror,I=T.reversed,B="".concat(A).concat($?"Mirror":""),N,j,V,K,q;if(T.type==="number"&&(T.padding==="gap"||T.padding==="no-gap")){var H=C[1]-C[0],z=1/0,ie=T.categoricalDomain.sort(khe);if(ie.forEach(function(fe,xe){xe>0&&(z=Math.min((fe||0)-(ie[xe-1]||0),z))}),Number.isFinite(z)){var de=z/H,X=T.layout==="vertical"?r.height:r.width;if(T.padding==="gap"&&(N=de*X/2),T.padding==="no-gap"){var re=pa(e.barCategoryGap,de*X),ee=de*X/2;N=ee-re-(ee-re)/X*re}}}i==="xAxis"?j=[r.left+(R.left||0)+(N||0),r.left+r.width-(R.right||0)-(N||0)]:i==="yAxis"?j=d==="horizontal"?[r.top+r.height-(R.bottom||0),r.top+(R.top||0)]:[r.top+(R.top||0)+(N||0),r.top+r.height-(R.bottom||0)-(N||0)]:j=T.range,I&&(j=[j[1],j[0]]);var le=WH(T,a,b),oe=le.scale,Q=le.realScaleType;oe.domain(C).range(j),ZH(oe);var ae=YH(oe,ro(ro({},T),{},{realScaleType:Q}));i==="xAxis"?(q=A==="top"&&!$||A==="bottom"&&$,V=r.left,K=g[B]-q*T.height):i==="yAxis"&&(q=A==="left"&&!$||A==="right"&&$,V=g[B]-q*T.width,K=r.top);var ce=ro(ro(ro({},T),ae),{},{realScaleType:Q,x:V,y:K,scale:oe,width:i==="xAxis"?r.width:T.width,height:i==="yAxis"?r.height:T.height});return ce.bandSize=P0(ce,ae),!T.hide&&i==="xAxis"?g[B]+=(q?-1:1)*ce.height:T.hide||(g[B]+=(q?-1:1)*ce.width),ro(ro({},w),{},b_({},P,ce))},{})},CG=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},TAe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return CG({x:n,y:r},{x:i,y:a})},NG=(function(){function t(e){_Ae(this,t),this.scale=e}return wAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();b_(NG,"EPS",1e-4);var xj=function(e){var n=Object.keys(e).reduce(function(r,i){return ro(ro({},r),{},b_({},i,NG.create(e[i])))},{});return ro(ro({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,c=a.position;return QTe(i,function(d,f){return n[f].apply(d,{bandAware:o,position:c})})},isInRange:function(i){return SG(i,function(a,o){return n[o].isInRange(a)})}})};function AAe(t){return(t%180+180)%180}var EAe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=AAe(i),o=a*Math.PI/180,c=Math.atan(r/n),d=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},UE,Dz;function PAe(){if(Dz)return UE;Dz=1;var t=nl(),e=dy(),n=Xx();function r(i){return function(a,o,c){var d=Object(a);if(!e(a)){var f=t(o,3);a=n(a),o=function(g){return f(d[g],g,d)}}var p=i(a,o,c);return p>-1?d[f?a[p]:p]:void 0}}return UE=r,UE}var $E,kz;function OAe(){if(kz)return $E;kz=1;var t=bG();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return $E=e,$E}var FE,Lz;function CAe(){if(Lz)return FE;Lz=1;var t=C7(),e=nl(),n=OAe(),r=Math.max;function i(a,o,c){var d=a==null?0:a.length;if(!d)return-1;var f=c==null?0:n(c);return f<0&&(f=r(d+f,0)),t(a,e(o,3),f)}return FE=i,FE}var qE,Vz;function NAe(){if(Vz)return qE;Vz=1;var t=PAe(),e=CAe(),n=t(e);return qE=n,qE}var jAe=NAe();const IAe=pn(jAe);var RAe=H8();const MAe=pn(RAe);var DAe=MAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_j=k.createContext(void 0),wj=k.createContext(void 0),jG=k.createContext(void 0),IG=k.createContext({}),RG=k.createContext(void 0),MG=k.createContext(0),DG=k.createContext(0),Bz=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,c=e.children,d=e.width,f=e.height,p=DAe(a);return ne.createElement(_j.Provider,{value:r},ne.createElement(wj.Provider,{value:i},ne.createElement(IG.Provider,{value:a},ne.createElement(jG.Provider,{value:p},ne.createElement(RG.Provider,{value:o},ne.createElement(MG.Provider,{value:f},ne.createElement(DG.Provider,{value:d},c)))))))},kAe=function(){return k.useContext(RG)},kG=function(e){var n=k.useContext(_j);n==null&&Id();var r=n[e];return r==null&&Id(),r},LAe=function(){var e=k.useContext(_j);return Uc(e)},VAe=function(){var e=k.useContext(wj),n=IAe(e,function(r){return SG(r.domain,Number.isFinite)});return n||Uc(e)},LG=function(e){var n=k.useContext(wj);n==null&&Id();var r=n[e];return r==null&&Id(),r},BAe=function(){var e=k.useContext(jG);return e},zAe=function(){return k.useContext(IG)},Sj=function(){return k.useContext(DG)},Tj=function(){return k.useContext(MG)};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function UAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BG(r.key),r)}}function FAe(t,e,n){return e&&$Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qAe(t,e,n){return e=H0(e),HAe(t,VG()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function HAe(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GAe(t)}function GAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function KAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oC(t,e)}function zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(n),!0).forEach(function(r){Aj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aj(t,e,n){return e=BG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t){var e=WAe(t,"string");return Mh(e)=="symbol"?e:e+""}function WAe(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZAe(t,e){return JAe(t)||QAe(t,e)||XAe(t,e)||YAe()}function YAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XAe(t,e){if(t){if(typeof t=="string")return $z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $z(t,e)}}function $z(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function JAe(t){if(Array.isArray(t))return t}function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lC.apply(this,arguments)}var eEe=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):St(e)?r=e(n):r=ne.createElement("line",lC({},n,{className:"recharts-reference-line-line"})),r},tEe=function(e,n,r,i,a,o,c,d,f){var p=a.x,g=a.y,b=a.width,w=a.height;if(r){var P=f.y,T=e.y.apply(P,{position:o});if(Go(f,"discard")&&!e.y.isInRange(T))return null;var A=[{x:p+b,y:T},{x:p,y:T}];return d==="left"?A.reverse():A}if(n){var C=f.x,D=e.x.apply(C,{position:o});if(Go(f,"discard")&&!e.x.isInRange(D))return null;var R=[{x:D,y:g+w},{x:D,y:g}];return c==="top"?R.reverse():R}if(i){var $=f.segment,I=$.map(function(B){return e.apply(B,{position:o})});return Go(f,"discard")&&WTe(I,function(B){return!e.isInRange(B)})?null:I}return null};function nEe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,c=t.className,d=t.alwaysShow,f=kAe(),p=kG(i),g=LG(a),b=BAe();if(!f||!b)return null;oo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=xj({x:p.scale,y:g.scale}),P=Qr(e),T=Qr(n),A=r&&r.length===2,C=tEe(w,P,T,A,b,t.position,p.orientation,g.orientation,t);if(!C)return null;var D=ZAe(C,2),R=D[0],$=R.x,I=R.y,B=D[1],N=B.x,j=B.y,V=Go(t,"hidden")?"url(#".concat(f,")"):void 0,K=Uz(Uz({clipPath:V},pt(t,!0)),{},{x1:$,y1:I,x2:N,y2:j});return ne.createElement(dn,{className:Nt("recharts-reference-line",c)},eEe(o,K),pi.renderCallByParent(t,TAe({x1:$,y1:I,x2:N,y2:j})))}var Ej=(function(t){function e(){return UAe(this,e),qAe(this,e,arguments)}return KAe(e,t),FAe(e,[{key:"render",value:function(){return ne.createElement(nEe,this.props)}}])})(ne.Component);Aj(Ej,"displayName","ReferenceLine");Aj(Ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cC.apply(this,arguments)}function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){x_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UG(r.key),r)}}function aEe(t,e,n){return e&&iEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,n){return e=G0(e),oEe(t,zG()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function oEe(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zG=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function cEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uC(t,e)}function x_(t,e,n){return e=UG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UG(t){var e=uEe(t,"string");return Dh(e)=="symbol"?e:e+""}function uEe(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dEe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=xj({x:i.scale,y:a.scale}),c=o.apply({x:n,y:r},{bandAware:!0});return Go(e,"discard")&&!o.isInRange(c)?null:c},__=(function(t){function e(){return rEe(this,e),sEe(this,e,arguments)}return cEe(e,t),aEe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,c=r.alwaysShow,d=r.clipPathId,f=Qr(i),p=Qr(a);if(oo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var g=dEe(this.props);if(!g)return null;var b=g.x,w=g.y,P=this.props,T=P.shape,A=P.className,C=Go(this.props,"hidden")?"url(#".concat(d,")"):void 0,D=qz(qz({clipPath:C},pt(this.props,!0)),{},{cx:b,cy:w});return ne.createElement(dn,{className:Nt("recharts-reference-dot",A)},e.renderDot(T,D),pi.renderCallByParent(this.props,{x:b-o,y:w-o,width:2*o,height:2*o}))}}])})(ne.Component);x_(__,"displayName","ReferenceDot");x_(__,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});x_(__,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):St(t)?n=t(e):n=ne.createElement(f_,cC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function dC(){return dC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dC.apply(this,arguments)}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(n),!0).forEach(function(r){w_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FG(r.key),r)}}function pEe(t,e,n){return e&&hEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mEe(t,e,n){return e=K0(e),gEe(t,$G()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function gEe(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yEe(t)}function yEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function vEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fC(t,e)}function w_(t,e,n){return e=FG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=bEe(t,"string");return kh(e)=="symbol"?e:e+""}function bEe(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xEe=function(e,n,r,i,a){var o=a.x1,c=a.x2,d=a.y1,f=a.y2,p=a.xAxis,g=a.yAxis;if(!p||!g)return null;var b=xj({x:p.scale,y:g.scale}),w={x:e?b.x.apply(o,{position:"start"}):b.x.rangeMin,y:r?b.y.apply(d,{position:"start"}):b.y.rangeMin},P={x:n?b.x.apply(c,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(f,{position:"end"}):b.y.rangeMax};return Go(a,"discard")&&(!b.isInRange(w)||!b.isInRange(P))?null:CG(w,P)},S_=(function(t){function e(){return fEe(this,e),mEe(this,e,arguments)}return vEe(e,t),pEe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,c=r.y2,d=r.className,f=r.alwaysShow,p=r.clipPathId;oo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Qr(i),b=Qr(a),w=Qr(o),P=Qr(c),T=this.props.shape;if(!g&&!b&&!w&&!P&&!T)return null;var A=xEe(g,b,w,P,this.props);if(!A&&!T)return null;var C=Go(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ne.createElement(dn,{className:Nt("recharts-reference-area",d)},e.renderRect(T,Gz(Gz({clipPath:C},pt(this.props,!0)),A)),pi.renderCallByParent(this.props,A))}}])})(ne.Component);w_(S_,"displayName","ReferenceArea");w_(S_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});w_(S_,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):St(t)?n=t(e):n=ne.createElement(bj,dC({},e,{className:"recharts-reference-area-rect"})),n});function qG(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function _Ee(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return EAe(r,n)}function wEe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,c=t.height;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function W0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function SEe(t,e){return qG(t,e+1)}function TEe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,c=e.end,d=0,f=1,p=o,g=function(){var P=r?.[d];if(P===void 0)return{v:qG(r,f)};var T=d,A,C=function(){return A===void 0&&(A=n(P,T)),A},D=P.coordinate,R=d===0||W0(t,D,C,p,c);R||(d=0,p=o,f+=1),R&&(p=D+t*(C()/2+i),d+=f)},b;f<=a.length;)if(b=g(),b)return b.v;return[]}function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(n),!0).forEach(function(r){AEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AEe(t,e,n){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EEe(t){var e=PEe(t,"string");return Ug(e)=="symbol"?e:e+""}function PEe(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OEe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,c=e.start,d=e.end,f=function(b){var w=a[b],P,T=function(){return P===void 0&&(P=n(w,b)),P};if(b===o-1){var A=t*(w.coordinate+t*T()/2-d);a[b]=w=Gi(Gi({},w),{},{tickCoord:A>0?w.coordinate-A*t:w.coordinate})}else a[b]=w=Gi(Gi({},w),{},{tickCoord:w.coordinate});var C=W0(t,w.tickCoord,T,c,d);C&&(d=w.tickCoord-t*(T()/2+i),a[b]=Gi(Gi({},w),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return a}function CEe(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,d=e.start,f=e.end;if(a){var p=r[c-1],g=n(p,c-1),b=t*(p.coordinate+t*g/2-f);o[c-1]=p=Gi(Gi({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate});var w=W0(t,p.tickCoord,function(){return g},d,f);w&&(f=p.tickCoord-t*(g/2+i),o[c-1]=Gi(Gi({},p),{},{isShow:!0}))}for(var P=a?c-1:c,T=function(D){var R=o[D],$,I=function(){return $===void 0&&($=n(R,D)),$};if(D===0){var B=t*(R.coordinate-t*I()/2-d);o[D]=R=Gi(Gi({},R),{},{tickCoord:B<0?R.coordinate-B*t:R.coordinate})}else o[D]=R=Gi(Gi({},R),{},{tickCoord:R.coordinate});var N=W0(t,R.tickCoord,I,d,f);N&&(d=R.tickCoord+t*(I()/2+i),o[D]=Gi(Gi({},R),{},{isShow:!0}))},A=0;A<P;A++)T(A);return o}function Pj(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,c=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,g=t.angle;if(!i||!i.length||!r)return[];if(Ge(d)||$d.isSsr)return SEe(i,typeof d=="number"&&Ge(d)?d:0);var b=[],w=c==="top"||c==="bottom"?"width":"height",P=p&&w==="width"?km(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=function(R,$){var I=St(f)?f(R.value,$):R.value;return w==="width"?_Ee(km(I,{fontSize:e,letterSpacing:n}),P,g):km(I,{fontSize:e,letterSpacing:n})[w]},A=i.length>=2?ha(i[1].coordinate-i[0].coordinate):1,C=wEe(a,A,w);return d==="equidistantPreserveStart"?TEe(A,C,T,i,o):(d==="preserveStart"||d==="preserveStartEnd"?b=CEe(A,C,T,i,o,d==="preserveStartEnd"):b=OEe(A,C,T,i,o),b.filter(function(D){return D.isShow}))}var NEe=["viewBox"],jEe=["viewBox"],IEe=["ticks"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}function Wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(n),!0).forEach(function(r){Oj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HE(t,e){if(t==null)return{};var n=REe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function REe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GG(r.key),r)}}function DEe(t,e,n){return e&&Zz(t.prototype,e),n&&Zz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kEe(t,e,n){return e=Z0(e),LEe(t,HG()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function LEe(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(t)}function VEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}function BEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function Oj(t,e,n){return e=GG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=zEe(t,"string");return Lh(e)=="symbol"?e:e+""}function zEe(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hp=(function(t){function e(n){var r;return MEe(this,e),r=kEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return BEe(e,t),DEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=HE(r,NEe),c=this.props,d=c.viewBox,f=HE(c,jEe);return!nh(a,d)||!nh(o,f)||!nh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,c=i.width,d=i.height,f=i.orientation,p=i.tickSize,g=i.mirror,b=i.tickMargin,w,P,T,A,C,D,R=g?-1:1,$=r.tickSize||p,I=Ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":w=P=r.coordinate,A=o+ +!g*d,T=A-R*$,D=T-R*b,C=I;break;case"left":T=A=r.coordinate,P=a+ +!g*c,w=P-R*$,C=w-R*b,D=I;break;case"right":T=A=r.coordinate,P=a+ +g*c,w=P+R*$,C=w+R*b,D=I;break;default:w=P=r.coordinate,A=o+ +g*d,T=A+R*$,D=T+R*b,C=I;break}return{line:{x1:w,y1:T,x2:P,y2:A},tick:{x:C,y:D}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,d=r.orientation,f=r.mirror,p=r.axisLine,g=Wr(Wr(Wr({},pt(this.props,!1)),pt(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var b=+(d==="top"&&!f||d==="bottom"&&f);g=Wr(Wr({},g),{},{x1:i,y1:a+b*c,x2:i+o,y2:a+b*c})}else{var w=+(d==="left"&&!f||d==="right"&&f);g=Wr(Wr({},g),{},{x1:i+w*o,y1:a,x2:i+w*o,y2:a+c})}return ne.createElement("line",Wf({},g,{className:Nt("recharts-cartesian-axis-line",ss(p,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,g=c.tickFormatter,b=c.unit,w=Pj(Wr(Wr({},this.props),{},{ticks:r}),i,a),P=this.getTickTextAnchor(),T=this.getTickVerticalAnchor(),A=pt(this.props,!1),C=pt(p,!1),D=Wr(Wr({},A),{},{fill:"none"},pt(d,!1)),R=w.map(function($,I){var B=o.getTickLineCoord($),N=B.line,j=B.tick,V=Wr(Wr(Wr(Wr({textAnchor:P,verticalAnchor:T},A),{},{stroke:"none",fill:f},C),j),{},{index:I,payload:$,visibleTicksCount:w.length,tickFormatter:g});return ne.createElement(dn,Wf({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Cd(o.props,$,I)),d&&ne.createElement("line",Wf({},D,N,{className:Nt("recharts-cartesian-axis-tick-line",ss(d,"className"))})),p&&e.renderTickItem(p,V,"".concat(St(g)?g($.value,I):$.value).concat(b||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,c=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var g=this.props,b=g.ticks,w=HE(g,IEe),P=b;return St(d)&&(P=b&&b.length>0?d(this.props):d(w)),o<=0||c<=0||!P||!P.length?null:ne.createElement(dn,{className:Nt("recharts-cartesian-axis",f),ref:function(A){r.layerReference=A}},a&&this.renderAxisLine(),this.renderTicks(P,this.state.fontSize,this.state.letterSpacing),pi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,c=Nt(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(r)?o=ne.cloneElement(r,Wr(Wr({},i),{},{className:c})):St(r)?o=r(Wr(Wr({},i),{},{className:c})):o=ne.createElement(Nd,Wf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(k.Component);Oj(hp,"displayName","CartesianAxis");Oj(hp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UEe=["x1","y1","x2","y2","key"],$Ee=["offset"];function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(r){FEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FEe(t,e,n){return e=qEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qEe(t){var e=HEe(t,"string");return Rd(e)=="symbol"?e:e+""}function HEe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function Xz(t,e){if(t==null)return{};var n=GEe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KEe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,c=e.height,d=e.ry;return ne.createElement("rect",{x:i,y:a,ry:d,width:o,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KG(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(St(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,c=e.key,d=Xz(e,UEe),f=pt(d,!1);f.offset;var p=Xz(f,$Ee);n=ne.createElement("line",dd({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:c}))}return n}function WEe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,d){var f=Zi(Zi({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(d),index:d});return KG(i,f)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ZEe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(c,d){var f=Zi(Zi({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(d),index:d});return KG(i,f)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function YEe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,c=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=c.map(function(b){return Math.round(b+i-i)}).sort(function(b,w){return b-w});i!==p[0]&&p.unshift(0);var g=p.map(function(b,w){var P=!p[w+1],T=P?i+o-b:p[w+1]-b;if(T<=0)return null;var A=w%e.length;return ne.createElement("rect",{key:"react-".concat(w),y:b,x:r,height:T,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function XEe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,c=t.width,d=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var p=f.map(function(b){return Math.round(b+a-a)}).sort(function(b,w){return b-w});a!==p[0]&&p.unshift(0);var g=p.map(function(b,w){var P=!p[w+1],T=P?a+c-b:p[w+1]-b;if(T<=0)return null;var A=w%r.length;return ne.createElement("rect",{key:"react-".concat(w),x:b,y:o,width:T,height:d,stroke:"none",fill:r[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var QEe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return KH(Pj(Zi(Zi(Zi({},hp.defaultProps),r),{},{ticks:jl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},JEe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return KH(Pj(Zi(Zi(Zi({},hp.defaultProps),r),{},{ticks:jl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},If={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pC(t){var e,n,r,i,a,o,c=Sj(),d=Tj(),f=zAe(),p=Zi(Zi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:If.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:If.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:If.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:If.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:If.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:If.verticalFill,x:Ge(t.x)?t.x:f.left,y:Ge(t.y)?t.y:f.top,width:Ge(t.width)?t.width:f.width,height:Ge(t.height)?t.height:f.height}),g=p.x,b=p.y,w=p.width,P=p.height,T=p.syncWithTicks,A=p.horizontalValues,C=p.verticalValues,D=LAe(),R=VAe();if(!Ge(w)||w<=0||!Ge(P)||P<=0||!Ge(g)||g!==+g||!Ge(b)||b!==+b)return null;var $=p.verticalCoordinatesGenerator||QEe,I=p.horizontalCoordinatesGenerator||JEe,B=p.horizontalPoints,N=p.verticalPoints;if((!B||!B.length)&&St(I)){var j=A&&A.length,V=I({yAxis:R?Zi(Zi({},R),{},{ticks:j?A:R.ticks}):void 0,width:c,height:d,offset:f},j?!0:T);oo(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Rd(V),"]")),Array.isArray(V)&&(B=V)}if((!N||!N.length)&&St($)){var K=C&&C.length,q=$({xAxis:D?Zi(Zi({},D),{},{ticks:K?C:D.ticks}):void 0,width:c,height:d,offset:f},K?!0:T);oo(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Rd(q),"]")),Array.isArray(q)&&(N=q)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(KEe,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),ne.createElement(WEe,dd({},p,{offset:f,horizontalPoints:B,xAxis:D,yAxis:R})),ne.createElement(ZEe,dd({},p,{offset:f,verticalPoints:N,xAxis:D,yAxis:R})),ne.createElement(YEe,dd({},p,{horizontalPoints:B})),ne.createElement(XEe,dd({},p,{verticalPoints:N})))}pC.displayName="CartesianGrid";var ePe=["type","layout","connectNulls","ref"],tPe=["key"];function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function Qz(t,e){if(t==null)return{};var n=nPe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rf(t){return sPe(t)||aPe(t)||iPe(t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function aPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sPe(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZG(r.key),r)}}function lPe(t,e,n){return e&&eU(t.prototype,e),n&&eU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cPe(t,e,n){return e=Y0(e),uPe(t,WG()?Reflect.construct(e,n||[],Y0(t).constructor):e.apply(t,n))}function uPe(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dPe(t)}function dPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}function fPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gC(t,e)}function io(t,e,n){return e=ZG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZG(t){var e=hPe(t,"string");return Vh(e)=="symbol"?e:e+""}function hPe(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vy=(function(t){function e(){var n;oPe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=cPe(this,e,[].concat(i)),io(n,"state",{isAnimationFinished:!0,totalLength:0}),io(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),io(n,"getStrokeDasharray",function(o,c,d){var f=d.reduce(function(C,D){return C+D});if(!f)return n.generateSimpleStrokeDasharray(c,o);for(var p=Math.floor(o/f),g=o%f,b=c-o,w=[],P=0,T=0;P<d.length;T+=d[P],++P)if(T+d[P]>g){w=[].concat(Rf(d.slice(0,P)),[g-T]);break}var A=w.length%2===0?[0,b]:[b];return[].concat(Rf(e.repeat(d,p)),Rf(w),A).map(function(C){return"".concat(C,"px")}).join(", ")}),io(n,"id",lp("recharts-line-")),io(n,"pathRef",function(o){n.mainCurve=o}),io(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),io(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return fPe(e,t),lPe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,g=os(p,yy);if(!g)return null;var b=function(T,A){return{x:T.x,y:T.y,value:T.value,errorVal:Xr(T.payload,A)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(dn,w,g.map(function(P){return ne.cloneElement(P,{key:"bar-".concat(P.props.dataKey),data:o,xAxis:c,yAxis:d,layout:f,dataPointFormatter:b})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,g=pt(this.props,!1),b=pt(d,!0),w=f.map(function(T,A){var C=Ya(Ya(Ya({key:"dot-".concat(A),r:3},g),b),{},{index:A,cx:T.x,cy:T.y,value:T.value,dataKey:p,payload:T.payload,points:f});return e.renderDotItem(d,C)}),P={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(dn,$m({className:"recharts-line-dots",key:"dots"},P),w)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var g=Qz(c,ePe),b=Ya(Ya(Ya({},pt(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:d,layout:f,connectNulls:p});return ne.createElement(N0,$m({},b,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,d=o.strokeDasharray,f=o.isAnimationActive,p=o.animationBegin,g=o.animationDuration,b=o.animationEasing,w=o.animationId,P=o.animateNewValues,T=o.width,A=o.height,C=this.state,D=C.prevPoints,R=C.totalLength;return ne.createElement(Xo,{begin:p,duration:g,isActive:f,easing:b,from:{t:0},to:{t:1},key:"line-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var I=$.t;if(D){var B=D.length/c.length,N=c.map(function(H,z){var ie=Math.floor(z*B);if(D[ie]){var de=D[ie],X=es(de.x,H.x),re=es(de.y,H.y);return Ya(Ya({},H),{},{x:X(I),y:re(I)})}if(P){var ee=es(T*2,H.x),le=es(A/2,H.y);return Ya(Ya({},H),{},{x:ee(I),y:le(I)})}return Ya(Ya({},H),{},{x:H.x,y:H.y})});return a.renderCurveStatically(N,r,i)}var j=es(0,R),V=j(I),K;if(d){var q="".concat(d).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});K=a.getStrokeDasharray(V,R,q)}else K=a.generateSimpleStrokeDasharray(R,V);return a.renderCurveStatically(c,r,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!gy(f,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,d=i.className,f=i.xAxis,p=i.yAxis,g=i.top,b=i.left,w=i.width,P=i.height,T=i.isAnimationActive,A=i.id;if(a||!c||!c.length)return null;var C=this.state.isAnimationFinished,D=c.length===1,R=Nt("recharts-line",d),$=f&&f.allowDataOverflow,I=p&&p.allowDataOverflow,B=$||I,N=Pt(A)?this.id:A,j=(r=pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},V=j.r,K=V===void 0?3:V,q=j.strokeWidth,H=q===void 0?2:q,z=Hhe(o)?o:{},ie=z.clipDot,de=ie===void 0?!0:ie,X=K*2+H;return ne.createElement(dn,{className:R},$||I?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(N)},ne.createElement("rect",{x:$?b:b-w/2,y:I?g:g-P/2,width:$?w:w*2,height:I?P:P*2})),!de&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ne.createElement("rect",{x:b-X/2,y:g-X/2,width:w+X,height:P+X}))):null,!D&&this.renderCurve(B,N),this.renderErrorBar(B,N),(D||o)&&this.renderDots(B,de,N),(!T||C)&&kl.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Rf(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(Rf(o),Rf(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(ne.isValidElement(r))a=ne.cloneElement(r,i);else if(St(r))a=r(i);else{var o=i.key,c=Qz(i,tPe),d=Nt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ne.createElement(f_,$m({key:o},c,{className:d}))}return a}}])})(k.PureComponent);io(vy,"displayName","Line");io(vy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!$d.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});io(vy,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,d=t.displayedData,f=t.offset,p=e.layout,g=d.map(function(b,w){var P=Xr(b,o);return p==="horizontal"?{x:nB({axis:n,ticks:i,bandSize:c,entry:b,index:w}),y:Pt(P)?null:r.scale(P),value:P,payload:b}:{x:Pt(P)?null:n.scale(P),y:nB({axis:r,ticks:a,bandSize:c,entry:b,index:w}),value:P,payload:b}});return Ya({points:g,layout:p},f)});function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function pPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QG(r.key),r)}}function gPe(t,e,n){return e&&mPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yPe(t,e,n){return e=X0(e),vPe(t,YG()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function vPe(t,e){if(e&&(Bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bPe(t)}function bPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function xPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yC(t,e)}function yC(t,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yC(t,e)}function XG(t,e,n){return e=QG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QG(t){var e=_Pe(t,"string");return Bh(e)=="symbol"?e:e+""}function _Pe(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vC.apply(this,arguments)}function wPe(t){var e=t.xAxisId,n=Sj(),r=Tj(),i=kG(e);return i==null?null:k.createElement(hp,vC({},i,{className:Nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return jl(o,!0)}}))}var zh=(function(t){function e(){return pPe(this,e),yPe(this,e,arguments)}return xPe(e,t),gPe(e,[{key:"render",value:function(){return k.createElement(wPe,this.props)}}])})(k.Component);XG(zh,"displayName","XAxis");XG(zh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function SPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tK(r.key),r)}}function APe(t,e,n){return e&&TPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EPe(t,e,n){return e=Q0(e),PPe(t,JG()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function PPe(t,e){if(e&&(Uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OPe(t)}function OPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function CPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bC(t,e)}function bC(t,e){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bC(t,e)}function eK(t,e,n){return e=tK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=NPe(t,"string");return Uh(e)=="symbol"?e:e+""}function NPe(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xC.apply(this,arguments)}var jPe=function(e){var n=e.yAxisId,r=Sj(),i=Tj(),a=LG(n);return a==null?null:k.createElement(hp,xC({},a,{className:Nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return jl(c,!0)}}))},$h=(function(t){function e(){return SPe(this,e),EPe(this,e,arguments)}return CPe(e,t),APe(e,[{key:"render",value:function(){return k.createElement(jPe,this.props)}}])})(k.Component);eK($h,"displayName","YAxis");eK($h,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tU(t){return DPe(t)||MPe(t)||RPe(t)||IPe()}function IPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(t,e){if(t){if(typeof t=="string")return _C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(t,e)}}function MPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DPe(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wC=function(e,n,r,i,a){var o=os(e,Ej),c=os(e,__),d=[].concat(tU(o),tU(c)),f=os(e,S_),p="".concat(i,"Id"),g=i[0],b=n;if(d.length&&(b=d.reduce(function(T,A){if(A.props[p]===r&&Go(A.props,"extendDomain")&&Ge(A.props[g])){var C=A.props[g];return[Math.min(T[0],C),Math.max(T[1],C)]}return T},b)),f.length){var w="".concat(g,"1"),P="".concat(g,"2");b=f.reduce(function(T,A){if(A.props[p]===r&&Go(A.props,"extendDomain")&&Ge(A.props[w])&&Ge(A.props[P])){var C=A.props[w],D=A.props[P];return[Math.min(T[0],C,D),Math.max(T[1],C,D)]}return T},b)}return a&&a.length&&(b=a.reduce(function(T,A){return Ge(A)?[Math.min(T[0],A),Math.max(T[1],A)]:T},b)),b},GE={exports:{}},nU;function kPe(){return nU||(nU=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||d,b),P=n?n+f:f;return d._events[P]?d._events[P].fn?d._events[P]=[d._events[P],w]:d._events[P].push(w):(d._events[P]=w,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,P=new Array(w);b<w;b++)P[b]=g[b].fn;return P},c.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,p,g,b,w,P){var T=n?n+f:f;if(!this._events[T])return!1;var A=this._events[T],C=arguments.length,D,R;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,b),!0;case 5:return A.fn.call(A.context,p,g,b,w),!0;case 6:return A.fn.call(A.context,p,g,b,w,P),!0}for(R=1,D=new Array(C-1);R<C;R++)D[R-1]=arguments[R];A.fn.apply(A.context,D)}else{var $=A.length,I;for(R=0;R<$;R++)switch(A[R].once&&this.removeListener(f,A[R].fn,void 0,!0),C){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,p);break;case 3:A[R].fn.call(A[R].context,p,g);break;case 4:A[R].fn.call(A[R].context,p,g,b);break;default:if(!D)for(I=1,D=new Array(C-1);I<C;I++)D[I-1]=arguments[I];A[R].fn.apply(A[R].context,D)}}return!0},c.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},c.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},c.prototype.removeListener=function(f,p,g,b){var w=n?n+f:f;if(!this._events[w])return this;if(!p)return o(this,w),this;var P=this._events[w];if(P.fn)P.fn===p&&(!b||P.once)&&(!g||P.context===g)&&o(this,w);else{for(var T=0,A=[],C=P.length;T<C;T++)(P[T].fn!==p||b&&!P[T].once||g&&P[T].context!==g)&&A.push(P[T]);A.length?this._events[w]=A.length===1?A[0]:A:o(this,w)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(GE)),GE.exports}var LPe=kPe();const VPe=pn(LPe);var KE=new VPe,WE="recharts.syncMouseEvents";function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function BPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nK(r.key),r)}}function UPe(t,e,n){return e&&zPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZE(t,e,n){return e=nK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=$Pe(t,"string");return $g(e)=="symbol"?e:e+""}function $Pe(t,e){if($g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FPe=(function(){function t(){BPe(this,t),ZE(this,"activeIndex",0),ZE(this,"coordinateList",[]),ZE(this,"layout","horizontal")}return UPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,c=o===void 0?null:o,d=n.layout,f=d===void 0?null:d,p=n.offset,g=p===void 0?null:p,b=n.mouseHandlerCallback,w=b===void 0?null:b;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,g=a+d+f,b=o+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:g,pageY:b})}}}])})();function qPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&Ge(r)&&Ge(i))return!0}return!1}function HPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function rK(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=zn(e,n,r,i),c=zn(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function GPe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,g=e.angle,b=zn(c,d,f,g),w=zn(c,d,p,g);r=b.x,i=b.y,a=w.x,o=w.y}else return rK(e);return[{x:r,y:i},{x:a,y:o}]}function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function rU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(n),!0).forEach(function(r){KPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KPe(t,e,n){return e=WPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WPe(t){var e=ZPe(t,"string");return Fg(e)=="symbol"?e:e+""}function ZPe(t,e){if(Fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YPe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,c=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,b=t.chartName,w=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!w||!a||!o||b!=="ScatterChart"&&i!=="axis")return null;var P,T=N0;if(b==="ScatterChart")P=o,T=vSe;else if(b==="BarChart")P=HPe(g,o,d,p),T=bj;else if(g==="radial"){var A=rK(o),C=A.cx,D=A.cy,R=A.radius,$=A.startAngle,I=A.endAngle;P={cx:C,cy:D,startAngle:$,endAngle:I,innerRadius:R,outerRadius:R},T=iG}else P={points:GPe(g,o,d)},T=N0;var B=Xv(Xv(Xv(Xv({stroke:"#ccc",pointerEvents:"none"},d),P),pt(w,!1)),{},{payload:c,payloadIndex:f,className:Nt("recharts-tooltip-cursor",w.className)});return k.isValidElement(w)?k.cloneElement(w,B):k.createElement(T,B)}var XPe=["item"],QPe=["children","className","width","height","style","compact","title","desc"];function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}function iU(t,e){return tOe(t)||eOe(t,e)||aK(t,e)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return c}}function tOe(t){if(Array.isArray(t))return t}function aU(t,e){if(t==null)return{};var n=nOe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iOe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sK(r.key),r)}}function aOe(t,e,n){return e&&iOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sOe(t,e,n){return e=J0(e),oOe(t,iK()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function oOe(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lOe(t)}function lOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function cOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SC(t,e)}function SC(t,e){return SC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SC(t,e)}function qh(t){return fOe(t)||dOe(t)||aK(t)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aK(t,e){if(t){if(typeof t=="string")return TC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(t,e)}}function dOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fOe(t){if(Array.isArray(t))return TC(t)}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(n),!0).forEach(function(r){vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vt(t,e,n){return e=sK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sK(t){var e=hOe(t,"string");return Fh(e)=="symbol"?e:e+""}function hOe(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pOe={xAxis:["bottom","top"],yAxis:["left","right"]},mOe={width:"100%",height:"100%"},oK={x:0,y:0};function Qv(t){return t}var gOe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yOe=function(e,n,r,i){var a=n.find(function(p){return p&&p.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,c=i.radius;return Re(Re(Re({},i),zn(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var d=a.coordinate,f=i.angle;return Re(Re(Re({},i),zn(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return oK},T_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(qh(c),qh(f)):c},[]);return o.length>0?o:e&&e.length&&Ge(i)&&Ge(a)?e.slice(i,a+1):[]};function lK(t){return t==="number"?[0,"auto"]:void 0}var AC=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,c=T_(n,e);return r<0||!a||!a.length||r>=c.length?null:a.reduce(function(d,f){var p,g=(p=f.props.data)!==null&&p!==void 0?p:n;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var b;if(o.dataKey&&!o.allowDuplicatedCategory){var w=g===void 0?c:g;b=n0(w,o.dataKey,i)}else b=g&&g[r]||c[r];return b?[].concat(qh(d),[QH(f,b)]):d},[])},oU=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=gOe(a,r),c=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=$xe(o,c,f,d);if(p>=0&&f){var g=f[p]&&f[p].value,b=AC(e,n,p,g),w=yOe(r,c,p,a);return{activeTooltipIndex:p,activeLabel:g,activePayload:b,activeCoordinate:w}}return null},vOe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.layout,g=e.children,b=e.stackOffset,w=GH(p,a);return r.reduce(function(P,T){var A,C=T.type.defaultProps!==void 0?Re(Re({},T.type.defaultProps),T.props):T.props,D=C.type,R=C.dataKey,$=C.allowDataOverflow,I=C.allowDuplicatedCategory,B=C.scale,N=C.ticks,j=C.includeHidden,V=C[o];if(P[V])return P;var K=T_(e.data,{graphicalItems:i.filter(function(ae){var ce,fe=o in ae.props?ae.props[o]:(ce=ae.type.defaultProps)===null||ce===void 0?void 0:ce[o];return fe===V}),dataStartIndex:d,dataEndIndex:f}),q=K.length,H,z,ie;qPe(C.domain,$,D)&&(H=VO(C.domain,null,$),w&&(D==="number"||B!=="auto")&&(ie=Vm(K,R,"category")));var de=lK(D);if(!H||H.length===0){var X,re=(X=C.domain)!==null&&X!==void 0?X:de;if(R){if(H=Vm(K,R,D),D==="category"&&w){var ee=Dhe(H);I&&ee?(z=H,H=z0(0,q)):I||(H=sB(re,H,T).reduce(function(ae,ce){return ae.indexOf(ce)>=0?ae:[].concat(qh(ae),[ce])},[]))}else if(D==="category")I?H=H.filter(function(ae){return ae!==""&&!Pt(ae)}):H=sB(re,H,T).reduce(function(ae,ce){return ae.indexOf(ce)>=0||ce===""||Pt(ce)?ae:[].concat(qh(ae),[ce])},[]);else if(D==="number"){var le=Kxe(K,i.filter(function(ae){var ce,fe,xe=o in ae.props?ae.props[o]:(ce=ae.type.defaultProps)===null||ce===void 0?void 0:ce[o],Ce="hide"in ae.props?ae.props.hide:(fe=ae.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return xe===V&&(j||!Ce)}),R,a,p);le&&(H=le)}w&&(D==="number"||B!=="auto")&&(ie=Vm(K,R,"category"))}else w?H=z0(0,q):c&&c[V]&&c[V].hasStack&&D==="number"?H=b==="expand"?[0,1]:XH(c[V].stackGroups,d,f):H=HH(K,i.filter(function(ae){var ce=o in ae.props?ae.props[o]:ae.type.defaultProps[o],fe="hide"in ae.props?ae.props.hide:ae.type.defaultProps.hide;return ce===V&&(j||!fe)}),D,p,!0);if(D==="number")H=wC(g,H,V,a,N),re&&(H=VO(re,H,$));else if(D==="category"&&re){var oe=re,Q=H.every(function(ae){return oe.indexOf(ae)>=0});Q&&(H=oe)}}return Re(Re({},P),{},vt({},V,Re(Re({},C),{},{axisType:a,domain:H,categoricalDomain:ie,duplicateDomain:z,originalDomain:(A=C.domain)!==null&&A!==void 0?A:de,isCategorical:w,layout:p})))},{})},bOe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.layout,g=e.children,b=T_(e.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),w=b.length,P=GH(p,a),T=-1;return r.reduce(function(A,C){var D=C.type.defaultProps!==void 0?Re(Re({},C.type.defaultProps),C.props):C.props,R=D[o],$=lK("number");if(!A[R]){T++;var I;return P?I=z0(0,w):c&&c[R]&&c[R].hasStack?(I=XH(c[R].stackGroups,d,f),I=wC(g,I,R,a)):(I=VO($,HH(b,r.filter(function(B){var N,j,V=o in B.props?B.props[o]:(N=B.type.defaultProps)===null||N===void 0?void 0:N[o],K="hide"in B.props?B.props.hide:(j=B.type.defaultProps)===null||j===void 0?void 0:j.hide;return V===R&&!K}),"number",p),i.defaultProps.allowDataOverflow),I=wC(g,I,R,a)),Re(Re({},A),{},vt({},R,Re(Re({axisType:a},i.defaultProps),{},{hide:!0,orientation:ss(pOe,"".concat(a,".").concat(T%2),null),domain:I,originalDomain:$,isCategorical:P,layout:p})))}return A},{})},xOe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=e.children,g="".concat(i,"Id"),b=os(p,a),w={};return b&&b.length?w=vOe(e,{axes:b,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(w=bOe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),w},_Oe=function(e){var n=Uc(e),r=jl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:GN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:P0(n,r)}},lU=function(e){var n=e.children,r=e.defaultShowTooltip,i=Qa(n,Ih),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},wOe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ml(n&&n.type);return r&&r.indexOf("Bar")>=0})},cU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SOe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,c=e.yAxisMap,d=c===void 0?{}:c,f=r.width,p=r.height,g=r.children,b=r.margin||{},w=Qa(g,Ih),P=Qa(g,rh),T=Object.keys(d).reduce(function(I,B){var N=d[B],j=N.orientation;return!N.mirror&&!N.hide?Re(Re({},I),{},vt({},j,I[j]+N.width)):I},{left:b.left||0,right:b.right||0}),A=Object.keys(o).reduce(function(I,B){var N=o[B],j=N.orientation;return!N.mirror&&!N.hide?Re(Re({},I),{},vt({},j,ss(I,"".concat(j))+N.height)):I},{top:b.top||0,bottom:b.bottom||0}),C=Re(Re({},A),T),D=C.bottom;w&&(C.bottom+=w.props.height||Ih.defaultProps.height),P&&n&&(C=Hxe(C,i,r,n));var R=f-C.left-C.right,$=p-C.top-C.bottom;return Re(Re({brushBottom:D},C),{},{width:Math.max(R,0),height:Math.max($,0)})},TOe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Cj=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,b=function(C,D){var R=D.graphicalItems,$=D.stackGroups,I=D.offset,B=D.updateId,N=D.dataStartIndex,j=D.dataEndIndex,V=C.barSize,K=C.layout,q=C.barGap,H=C.barCategoryGap,z=C.maxBarSize,ie=cU(K),de=ie.numericAxisName,X=ie.cateAxisName,re=wOe(R),ee=[];return R.forEach(function(le,oe){var Q=T_(C.data,{graphicalItems:[le],dataStartIndex:N,dataEndIndex:j}),ae=le.type.defaultProps!==void 0?Re(Re({},le.type.defaultProps),le.props):le.props,ce=ae.dataKey,fe=ae.maxBarSize,xe=ae["".concat(de,"Id")],Ce=ae["".concat(X,"Id")],Oe={},we=d.reduce(function(Ye,mt){var an=D["".concat(mt.axisType,"Map")],_n=ae["".concat(mt.axisType,"Id")];an&&an[_n]||mt.axisType==="zAxis"||Id();var Vr=an[_n];return Re(Re({},Ye),{},vt(vt({},mt.axisType,Vr),"".concat(mt.axisType,"Ticks"),jl(Vr)))},Oe),pe=we[X],Be=we["".concat(X,"Ticks")],$e=$&&$[xe]&&$[xe].hasStack&&n_e(le,$[xe].stackGroups),be=Ml(le.type).indexOf("Bar")>=0,Me=P0(pe,Be),Pe=[],je=re&&Fxe({barSize:V,stackGroups:$,totalSize:TOe(we,X)});if(be){var Fe,We,ct=Pt(fe)?z:fe,He=(Fe=(We=P0(pe,Be,!0))!==null&&We!==void 0?We:ct)!==null&&Fe!==void 0?Fe:0;Pe=qxe({barGap:q,barCategoryGap:H,bandSize:He!==Me?He:Me,sizeList:je[Ce],maxBarSize:ct}),He!==Me&&(Pe=Pe.map(function(Ye){return Re(Re({},Ye),{},{position:Re(Re({},Ye.position),{},{offset:Ye.position.offset-He/2})})}))}var Ze=le&&le.type&&le.type.getComposedData;Ze&&ee.push({props:Re(Re({},Ze(Re(Re({},we),{},{displayedData:Q,props:C,dataKey:ce,item:le,bandSize:Me,barPosition:Pe,offset:I,stackedData:$e,layout:K,dataStartIndex:N,dataEndIndex:j}))),{},vt(vt(vt({key:le.key||"item-".concat(oe)},de,we[de]),X,we[X]),"animationId",B)),childIndex:Whe(le,C.children),item:le})}),ee},w=function(C,D){var R=C.props,$=C.dataStartIndex,I=C.dataEndIndex,B=C.updateId;if(!x5({props:R}))return null;var N=R.children,j=R.layout,V=R.stackOffset,K=R.data,q=R.reverseStackOrder,H=cU(j),z=H.numericAxisName,ie=H.cateAxisName,de=os(N,r),X=e_e(K,de,"".concat(z,"Id"),"".concat(ie,"Id"),V,q),re=d.reduce(function(ae,ce){var fe="".concat(ce.axisType,"Map");return Re(Re({},ae),{},vt({},fe,xOe(R,Re(Re({},ce),{},{graphicalItems:de,stackGroups:ce.axisType===z&&X,dataStartIndex:$,dataEndIndex:I}))))},{}),ee=SOe(Re(Re({},re),{},{props:R,graphicalItems:de}),D?.legendBBox);Object.keys(re).forEach(function(ae){re[ae]=p(R,re[ae],ee,ae.replace("Map",""),n)});var le=re["".concat(ie,"Map")],oe=_Oe(le),Q=b(R,Re(Re({},re),{},{dataStartIndex:$,dataEndIndex:I,updateId:B,graphicalItems:de,stackGroups:X,offset:ee}));return Re(Re({formattedGraphicalItems:Q,graphicalItems:de,offset:ee,stackGroups:X},oe),re)},P=(function(A){function C(D){var R,$,I;return rOe(this,C),I=sOe(this,C,[D]),vt(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vt(I,"accessibilityManager",new FPe),vt(I,"handleLegendBBoxUpdate",function(B){if(B){var N=I.state,j=N.dataStartIndex,V=N.dataEndIndex,K=N.updateId;I.setState(Re({legendBBox:B},w({props:I.props,dataStartIndex:j,dataEndIndex:V,updateId:K},Re(Re({},I.state),{},{legendBBox:B}))))}}),vt(I,"handleReceiveSyncEvent",function(B,N,j){if(I.props.syncId===B){if(j===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(N)}}),vt(I,"handleBrushChange",function(B){var N=B.startIndex,j=B.endIndex;if(N!==I.state.dataStartIndex||j!==I.state.dataEndIndex){var V=I.state.updateId;I.setState(function(){return Re({dataStartIndex:N,dataEndIndex:j},w({props:I.props,dataStartIndex:N,dataEndIndex:j,updateId:V},I.state))}),I.triggerSyncEvent({dataStartIndex:N,dataEndIndex:j})}}),vt(I,"handleMouseEnter",function(B){var N=I.getMouseInfo(B);if(N){var j=Re(Re({},N),{},{isTooltipActive:!0});I.setState(j),I.triggerSyncEvent(j);var V=I.props.onMouseEnter;St(V)&&V(j,B)}}),vt(I,"triggeredAfterMouseMove",function(B){var N=I.getMouseInfo(B),j=N?Re(Re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(j),I.triggerSyncEvent(j);var V=I.props.onMouseMove;St(V)&&V(j,B)}),vt(I,"handleItemMouseEnter",function(B){I.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),vt(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),vt(I,"handleMouseMove",function(B){B.persist(),I.throttleTriggeredAfterMouseMove(B)}),vt(I,"handleMouseLeave",function(B){I.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};I.setState(N),I.triggerSyncEvent(N);var j=I.props.onMouseLeave;St(j)&&j(N,B)}),vt(I,"handleOuterEvent",function(B){var N=Khe(B),j=ss(I.props,"".concat(N));if(N&&St(j)){var V,K;/.*touch.*/i.test(N)?K=I.getMouseInfo(B.changedTouches[0]):K=I.getMouseInfo(B),j((V=K)!==null&&V!==void 0?V:{},B)}}),vt(I,"handleClick",function(B){var N=I.getMouseInfo(B);if(N){var j=Re(Re({},N),{},{isTooltipActive:!0});I.setState(j),I.triggerSyncEvent(j);var V=I.props.onClick;St(V)&&V(j,B)}}),vt(I,"handleMouseDown",function(B){var N=I.props.onMouseDown;if(St(N)){var j=I.getMouseInfo(B);N(j,B)}}),vt(I,"handleMouseUp",function(B){var N=I.props.onMouseUp;if(St(N)){var j=I.getMouseInfo(B);N(j,B)}}),vt(I,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),vt(I,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&I.handleMouseDown(B.changedTouches[0])}),vt(I,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&I.handleMouseUp(B.changedTouches[0])}),vt(I,"handleDoubleClick",function(B){var N=I.props.onDoubleClick;if(St(N)){var j=I.getMouseInfo(B);N(j,B)}}),vt(I,"handleContextMenu",function(B){var N=I.props.onContextMenu;if(St(N)){var j=I.getMouseInfo(B);N(j,B)}}),vt(I,"triggerSyncEvent",function(B){I.props.syncId!==void 0&&KE.emit(WE,I.props.syncId,B,I.eventEmitterSymbol)}),vt(I,"applySyncEvent",function(B){var N=I.props,j=N.layout,V=N.syncMethod,K=I.state.updateId,q=B.dataStartIndex,H=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)I.setState(Re({dataStartIndex:q,dataEndIndex:H},w({props:I.props,dataStartIndex:q,dataEndIndex:H,updateId:K},I.state)));else if(B.activeTooltipIndex!==void 0){var z=B.chartX,ie=B.chartY,de=B.activeTooltipIndex,X=I.state,re=X.offset,ee=X.tooltipTicks;if(!re)return;if(typeof V=="function")de=V(ee,B);else if(V==="value"){de=-1;for(var le=0;le<ee.length;le++)if(ee[le].value===B.activeLabel){de=le;break}}var oe=Re(Re({},re),{},{x:re.left,y:re.top}),Q=Math.min(z,oe.x+oe.width),ae=Math.min(ie,oe.y+oe.height),ce=ee[de]&&ee[de].value,fe=AC(I.state,I.props.data,de),xe=ee[de]?{x:j==="horizontal"?ee[de].coordinate:Q,y:j==="horizontal"?ae:ee[de].coordinate}:oK;I.setState(Re(Re({},B),{},{activeLabel:ce,activeCoordinate:xe,activePayload:fe,activeTooltipIndex:de}))}else I.setState(B)}),vt(I,"renderCursor",function(B){var N,j=I.state,V=j.isTooltipActive,K=j.activeCoordinate,q=j.activePayload,H=j.offset,z=j.activeTooltipIndex,ie=j.tooltipAxisBandSize,de=I.getTooltipEventType(),X=(N=B.props.active)!==null&&N!==void 0?N:V,re=I.props.layout,ee=B.key||"_recharts-cursor";return ne.createElement(YPe,{key:ee,activeCoordinate:K,activePayload:q,activeTooltipIndex:z,chartName:n,element:B,isActive:X,layout:re,offset:H,tooltipAxisBandSize:ie,tooltipEventType:de})}),vt(I,"renderPolarAxis",function(B,N,j){var V=ss(B,"type.axisType"),K=ss(I.state,"".concat(V,"Map")),q=B.type.defaultProps,H=q!==void 0?Re(Re({},q),B.props):B.props,z=K&&K[H["".concat(V,"Id")]];return k.cloneElement(B,Re(Re({},z),{},{className:Nt(V,z.className),key:B.key||"".concat(N,"-").concat(j),ticks:jl(z,!0)}))}),vt(I,"renderPolarGrid",function(B){var N=B.props,j=N.radialLines,V=N.polarAngles,K=N.polarRadius,q=I.state,H=q.radiusAxisMap,z=q.angleAxisMap,ie=Uc(H),de=Uc(z),X=de.cx,re=de.cy,ee=de.innerRadius,le=de.outerRadius;return k.cloneElement(B,{polarAngles:Array.isArray(V)?V:jl(de,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(K)?K:jl(ie,!0).map(function(oe){return oe.coordinate}),cx:X,cy:re,innerRadius:ee,outerRadius:le,key:B.key||"polar-grid",radialLines:j})}),vt(I,"renderLegend",function(){var B=I.state.formattedGraphicalItems,N=I.props,j=N.children,V=N.width,K=N.height,q=I.props.margin||{},H=V-(q.left||0)-(q.right||0),z=FH({children:j,formattedGraphicalItems:B,legendWidth:H,legendContent:f});if(!z)return null;var ie=z.item,de=aU(z,XPe);return k.cloneElement(ie,Re(Re({},de),{},{chartWidth:V,chartHeight:K,margin:q,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),vt(I,"renderTooltip",function(){var B,N=I.props,j=N.children,V=N.accessibilityLayer,K=Qa(j,Ns);if(!K)return null;var q=I.state,H=q.isTooltipActive,z=q.activeCoordinate,ie=q.activePayload,de=q.activeLabel,X=q.offset,re=(B=K.props.active)!==null&&B!==void 0?B:H;return k.cloneElement(K,{viewBox:Re(Re({},X),{},{x:X.left,y:X.top}),active:re,label:de,payload:re?ie:[],coordinate:z,accessibilityLayer:V})}),vt(I,"renderBrush",function(B){var N=I.props,j=N.margin,V=N.data,K=I.state,q=K.offset,H=K.dataStartIndex,z=K.dataEndIndex,ie=K.updateId;return k.cloneElement(B,{key:B.key||"_recharts-brush",onChange:Kv(I.handleBrushChange,B.props.onChange),data:V,x:Ge(B.props.x)?B.props.x:q.left,y:Ge(B.props.y)?B.props.y:q.top+q.height+q.brushBottom-(j.bottom||0),width:Ge(B.props.width)?B.props.width:q.width,startIndex:H,endIndex:z,updateId:"brush-".concat(ie)})}),vt(I,"renderReferenceElement",function(B,N,j){if(!B)return null;var V=I,K=V.clipPathId,q=I.state,H=q.xAxisMap,z=q.yAxisMap,ie=q.offset,de=B.type.defaultProps||{},X=B.props,re=X.xAxisId,ee=re===void 0?de.xAxisId:re,le=X.yAxisId,oe=le===void 0?de.yAxisId:le;return k.cloneElement(B,{key:B.key||"".concat(N,"-").concat(j),xAxis:H[ee],yAxis:z[oe],viewBox:{x:ie.left,y:ie.top,width:ie.width,height:ie.height},clipPathId:K})}),vt(I,"renderActivePoints",function(B){var N=B.item,j=B.activePoint,V=B.basePoint,K=B.childIndex,q=B.isRange,H=[],z=N.props.key,ie=N.item.type.defaultProps!==void 0?Re(Re({},N.item.type.defaultProps),N.item.props):N.item.props,de=ie.activeDot,X=ie.dataKey,re=Re(Re({index:K,dataKey:X,cx:j.x,cy:j.y,r:4,fill:vj(N.item),strokeWidth:2,stroke:"#fff",payload:j.payload,value:j.value},pt(de,!1)),r0(de));return H.push(C.renderActiveDot(de,re,"".concat(z,"-activePoint-").concat(K))),V?H.push(C.renderActiveDot(de,Re(Re({},re),{},{cx:V.x,cy:V.y}),"".concat(z,"-basePoint-").concat(K))):q&&H.push(null),H}),vt(I,"renderGraphicChild",function(B,N,j){var V=I.filterFormatItem(B,N,j);if(!V)return null;var K=I.getTooltipEventType(),q=I.state,H=q.isTooltipActive,z=q.tooltipAxis,ie=q.activeTooltipIndex,de=q.activeLabel,X=I.props.children,re=Qa(X,Ns),ee=V.props,le=ee.points,oe=ee.isRange,Q=ee.baseLine,ae=V.item.type.defaultProps!==void 0?Re(Re({},V.item.type.defaultProps),V.item.props):V.item.props,ce=ae.activeDot,fe=ae.hide,xe=ae.activeBar,Ce=ae.activeShape,Oe=!!(!fe&&H&&re&&(ce||xe||Ce)),we={};K!=="axis"&&re&&re.props.trigger==="click"?we={onClick:Kv(I.handleItemMouseEnter,B.props.onClick)}:K!=="axis"&&(we={onMouseLeave:Kv(I.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:Kv(I.handleItemMouseEnter,B.props.onMouseEnter)});var pe=k.cloneElement(B,Re(Re({},V.props),we));function Be(mt){return typeof z.dataKey=="function"?z.dataKey(mt.payload):null}if(Oe)if(ie>=0){var $e,be;if(z.dataKey&&!z.allowDuplicatedCategory){var Me=typeof z.dataKey=="function"?Be:"payload.".concat(z.dataKey.toString());$e=n0(le,Me,de),be=oe&&Q&&n0(Q,Me,de)}else $e=le?.[ie],be=oe&&Q&&Q[ie];if(Ce||xe){var Pe=B.props.activeIndex!==void 0?B.props.activeIndex:ie;return[k.cloneElement(B,Re(Re(Re({},V.props),we),{},{activeIndex:Pe})),null,null]}if(!Pt($e))return[pe].concat(qh(I.renderActivePoints({item:V,activePoint:$e,basePoint:be,childIndex:ie,isRange:oe})))}else{var je,Fe=(je=I.getItemByXY(I.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:pe},We=Fe.graphicalItem,ct=We.item,He=ct===void 0?B:ct,Ze=We.childIndex,Ye=Re(Re(Re({},V.props),we),{},{activeIndex:Ze});return[k.cloneElement(He,Ye),null,null]}return oe?[pe,null,null]:[pe,null]}),vt(I,"renderCustomized",function(B,N,j){return k.cloneElement(B,Re(Re({key:"recharts-customized-".concat(j)},I.props),I.state))}),vt(I,"renderMap",{CartesianGrid:{handler:Qv,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Qv},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Qv},YAxis:{handler:Qv},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((R=D.id)!==null&&R!==void 0?R:lp("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=$7(I.triggeredAfterMouseMove,($=D.throttleDelay)!==null&&$!==void 0?$:1e3/60),I.state={},I}return cOe(C,A),aOe(C,[{key:"componentDidMount",value:function(){var R,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,$=R.children,I=R.data,B=R.height,N=R.layout,j=Qa($,Ns);if(j){var V=j.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,q=AC(this.state,I,V,K),H=this.state.tooltipTicks[V].coordinate,z=(this.state.offset.top+B)/2,ie=N==="horizontal",de=ie?{x:H,y:z}:{y:H,x:z},X=this.state.formattedGraphicalItems.find(function(ee){var le=ee.item;return le.type.name==="Scatter"});X&&(de=Re(Re({},de),X.props.points[V].tooltipPosition),q=X.props.points[V].tooltipPayload);var re={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:K,activePayload:q,activeCoordinate:de};this.setState(re),this.renderCursor(j),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var I,B;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(R){sO([Qa(R.children,Ns)],[Qa(this.props.children,Ns)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=Qa(this.props.children,Ns);if(R&&typeof R.props.shared=="boolean"){var $=R.props.shared?"axis":"item";return c.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var $=this.container,I=$.getBoundingClientRect(),B=Mye(I),N={chartX:Math.round(R.pageX-B.left),chartY:Math.round(R.pageY-B.top)},j=I.width/$.offsetWidth||1,V=this.inRange(N.chartX,N.chartY,j);if(!V)return null;var K=this.state,q=K.xAxisMap,H=K.yAxisMap,z=this.getTooltipEventType(),ie=oU(this.state,this.props.data,this.props.layout,V);if(z!=="axis"&&q&&H){var de=Uc(q).scale,X=Uc(H).scale,re=de&&de.invert?de.invert(N.chartX):null,ee=X&&X.invert?X.invert(N.chartY):null;return Re(Re({},N),{},{xValue:re,yValue:ee},ie)}return ie?Re(Re({},N),ie):null}},{key:"inRange",value:function(R,$){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,N=R/I,j=$/I;if(B==="horizontal"||B==="vertical"){var V=this.state.offset,K=N>=V.left&&N<=V.left+V.width&&j>=V.top&&j<=V.top+V.height;return K?{x:N,y:j}:null}var q=this.state,H=q.angleAxisMap,z=q.radiusAxisMap;if(H&&z){var ie=Uc(H);return cB({x:N,y:j},ie)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,$=this.getTooltipEventType(),I=Qa(R,Ns),B={};I&&$==="axis"&&(I.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=r0(this.props,this.handleOuterEvent);return Re(Re({},N),B)}},{key:"addListener",value:function(){KE.on(WE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){KE.removeListener(WE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,$,I){for(var B=this.state.formattedGraphicalItems,N=0,j=B.length;N<j;N++){var V=B[N];if(V.item===R||V.props.key===R.key||$===Ml(V.item.type)&&I===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,$=this.state.offset,I=$.left,B=$.top,N=$.height,j=$.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:R},ne.createElement("rect",{x:I,y:B,height:N,width:j})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function($,I){var B=iU(I,2),N=B[0],j=B[1];return Re(Re({},$),{},vt({},N,j.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function($,I){var B=iU(I,2),N=B[0],j=B[1];return Re(Re({},$),{},vt({},N,j.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[R])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(R){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[R])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(R){var $=this.state,I=$.formattedGraphicalItems,B=$.activeItem;if(I&&I.length)for(var N=0,j=I.length;N<j;N++){var V=I[N],K=V.props,q=V.item,H=q.type.defaultProps!==void 0?Re(Re({},q.type.defaultProps),q.props):q.props,z=Ml(q.type);if(z==="Bar"){var ie=(K.data||[]).find(function(ee){return Q1e(R,ee)});if(ie)return{graphicalItem:V,payload:ie}}else if(z==="RadialBar"){var de=(K.data||[]).find(function(ee){return cB(R,ee)});if(de)return{graphicalItem:V,payload:de}}else if(y_(V,B)||v_(V,B)||Lg(V,B)){var X=_Te({graphicalItem:V,activeTooltipItem:B,itemData:H.data}),re=H.activeIndex===void 0?X:H.activeIndex;return{graphicalItem:Re(Re({},V),{},{childIndex:re}),payload:Lg(V,B)?H.data[X]:V.props.data[X]}}}return null}},{key:"render",value:function(){var R=this;if(!x5(this))return null;var $=this.props,I=$.children,B=$.className,N=$.width,j=$.height,V=$.style,K=$.compact,q=$.title,H=$.desc,z=aU($,QPe),ie=pt(z,!1);if(K)return ne.createElement(Bz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(lO,Zf({},ie,{width:N,height:j,title:q,desc:H}),this.renderClipPath(),w5(I,this.renderMap)));if(this.props.accessibilityLayer){var de,X;ie.tabIndex=(de=this.props.tabIndex)!==null&&de!==void 0?de:0,ie.role=(X=this.props.role)!==null&&X!==void 0?X:"application",ie.onKeyDown=function(ee){R.accessibilityManager.keyboardEvent(ee)},ie.onFocus=function(){R.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return ne.createElement(Bz,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Zf({className:Nt("recharts-wrapper",B),style:Re({position:"relative",cursor:"default",width:N,height:j},V)},re,{ref:function(le){R.container=le}}),ne.createElement(lO,Zf({},ie,{width:N,height:j,title:q,desc:H,style:mOe}),this.renderClipPath(),w5(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);vt(P,"displayName",n),vt(P,"defaultProps",Re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),vt(P,"getDerivedStateFromProps",function(A,C){var D=A.dataKey,R=A.data,$=A.children,I=A.width,B=A.height,N=A.layout,j=A.stackOffset,V=A.margin,K=C.dataStartIndex,q=C.dataEndIndex;if(C.updateId===void 0){var H=lU(A);return Re(Re(Re({},H),{},{updateId:0},w(Re(Re({props:A},H),{},{updateId:0}),C)),{},{prevDataKey:D,prevData:R,prevWidth:I,prevHeight:B,prevLayout:N,prevStackOffset:j,prevMargin:V,prevChildren:$})}if(D!==C.prevDataKey||R!==C.prevData||I!==C.prevWidth||B!==C.prevHeight||N!==C.prevLayout||j!==C.prevStackOffset||!nh(V,C.prevMargin)){var z=lU(A),ie={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},de=Re(Re({},oU(C,R,N)),{},{updateId:C.updateId+1}),X=Re(Re(Re({},z),ie),de);return Re(Re(Re({},X),w(Re({props:A},X),C)),{},{prevDataKey:D,prevData:R,prevWidth:I,prevHeight:B,prevLayout:N,prevStackOffset:j,prevMargin:V,prevChildren:$})}if(!sO($,C.prevChildren)){var re,ee,le,oe,Q=Qa($,Ih),ae=Q&&(re=(ee=Q.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&re!==void 0?re:K,ce=Q&&(le=(oe=Q.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&le!==void 0?le:q,fe=ae!==K||ce!==q,xe=!Pt(R),Ce=xe&&!fe?C.updateId:C.updateId+1;return Re(Re({updateId:Ce},w(Re(Re({props:A},C),{},{updateId:Ce,dataStartIndex:ae,dataEndIndex:ce}),C)),{},{prevChildren:$,dataStartIndex:ae,dataEndIndex:ce})}return null}),vt(P,"renderActiveDot",function(A,C,D){var R;return k.isValidElement(A)?R=k.cloneElement(A,C):St(A)?R=A(C):R=ne.createElement(f_,C),ne.createElement(dn,{className:"recharts-active-dot",key:D},R)});var T=k.forwardRef(function(C,D){return ne.createElement(P,Zf({},C,{ref:D}))});return T.displayName=P.displayName,T},AOe=Cj({chartName:"LineChart",GraphicalChild:vy,axisComponents:[{axisType:"xAxis",AxisComp:zh},{axisType:"yAxis",AxisComp:$h}],formatAxisMap:OG}),EOe=Cj({chartName:"BarChart",GraphicalChild:Gd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zh},{axisType:"yAxis",AxisComp:$h}],formatAxisMap:OG}),POe=Cj({chartName:"PieChart",GraphicalChild:tc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:g_},{axisType:"radiusAxis",AxisComp:p_}],formatAxisMap:f_e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Sm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var OOe=Sm.exports,uU;function COe(){return uU||(uU=1,(function(t,e){(function(n,r){r(e)})(OOe,(function(n){var r="1.9.4";function i(u){var y,_,O,U;for(_=1,O=arguments.length;_<O;_++){U=arguments[_];for(y in U)u[y]=U[y]}return u}var a=Object.create||(function(){function u(){}return function(y){return u.prototype=y,new u}})();function o(u,y){var _=Array.prototype.slice;if(u.bind)return u.bind.apply(u,_.call(arguments,1));var O=_.call(arguments,2);return function(){return u.apply(y,O.length?O.concat(_.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function f(u,y,_){var O,U,Z,se;return se=function(){O=!1,U&&(Z.apply(_,U),U=!1)},Z=function(){O?U=arguments:(u.apply(_,arguments),setTimeout(se,y),O=!0)},Z}function p(u,y,_){var O=y[1],U=y[0],Z=O-U;return u===O&&_?u:((u-U)%Z+Z)%Z+U}function g(){return!1}function b(u,y){if(y===!1)return u;var _=Math.pow(10,y===void 0?6:y);return Math.round(u*_)/_}function w(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function P(u){return w(u).split(/\s+/)}function T(u,y){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var _ in y)u.options[_]=y[_];return u.options}function A(u,y,_){var O=[];for(var U in u)O.push(encodeURIComponent(_?U.toUpperCase():U)+"="+encodeURIComponent(u[U]));return(!y||y.indexOf("?")===-1?"?":"&")+O.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function D(u,y){return u.replace(C,function(_,O){var U=y[O];if(U===void 0)throw new Error("No value provided for variable "+_);return typeof U=="function"&&(U=U(y)),U})}var R=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function $(u,y){for(var _=0;_<u.length;_++)if(u[_]===y)return _;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var N=0;function j(u){var y=+new Date,_=Math.max(0,16-(y-N));return N=y+_,window.setTimeout(u,_)}var V=window.requestAnimationFrame||B("RequestAnimationFrame")||j,K=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function q(u,y,_){if(_&&V===j)u.call(y);else return V.call(window,o(u,y))}function H(u){u&&K.call(window,u)}var z={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:d,throttle:f,wrapNum:p,falseFn:g,formatNum:b,trim:w,splitWords:P,setOptions:T,getParamString:A,template:D,isArray:R,indexOf:$,emptyImageUrl:I,requestFn:V,cancelFn:K,requestAnimFrame:q,cancelAnimFrame:H};function ie(){}ie.extend=function(u){var y=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=y.__super__=this.prototype,O=a(_);O.constructor=y,y.prototype=O;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(y[U]=this[U]);return u.statics&&i(y,u.statics),u.includes&&(de(u.includes),i.apply(null,[O].concat(u.includes))),i(O,u),delete O.statics,delete O.includes,O.options&&(O.options=_.options?a(_.options):{},i(O.options,u.options)),O._initHooks=[],O.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,se=O._initHooks.length;Z<se;Z++)O._initHooks[Z].call(this)}},y},ie.include=function(u){var y=this.prototype.options;return i(this.prototype,u),u.options&&(this.prototype.options=y,this.mergeOptions(u.options)),this},ie.mergeOptions=function(u){return i(this.prototype.options,u),this},ie.addInitHook=function(u){var y=Array.prototype.slice.call(arguments,1),_=typeof u=="function"?u:function(){this[u].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function de(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=R(u)?u:[u];for(var y=0;y<u.length;y++)u[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(u,y,_){if(typeof u=="object")for(var O in u)this._on(O,u[O],y);else{u=P(u);for(var U=0,Z=u.length;U<Z;U++)this._on(u[U],y,_)}return this},off:function(u,y,_){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var O in u)this._off(O,u[O],y);else{u=P(u);for(var U=arguments.length===1,Z=0,se=u.length;Z<se;Z++)U?this._off(u[Z]):this._off(u[Z],y,_)}return this},_on:function(u,y,_,O){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(u,y,_)===!1){_===this&&(_=void 0);var U={fn:y,ctx:_};O&&(U.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(U)}},_off:function(u,y,_){var O,U,Z;if(this._events&&(O=this._events[u],!!O)){if(arguments.length===1){if(this._firingCount)for(U=0,Z=O.length;U<Z;U++)O[U].fn=g;delete this._events[u];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var se=this._listens(u,y,_);if(se!==!1){var ye=O[se];this._firingCount&&(ye.fn=g,this._events[u]=O=O.slice()),O.splice(se,1)}}},fire:function(u,y,_){if(!this.listens(u,_))return this;var O=i({},y,{type:u,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var U=this._events[u];if(U){this._firingCount=this._firingCount+1||1;for(var Z=0,se=U.length;Z<se;Z++){var ye=U[Z],Te=ye.fn;ye.once&&this.off(u,Te,ye.ctx),Te.call(ye.ctx||this,O)}this._firingCount--}}return _&&this._propagateEvent(O),this},listens:function(u,y,_,O){typeof u!="string"&&console.warn('"string" type argument expected');var U=y;typeof y!="function"&&(O=!!y,U=void 0,_=void 0);var Z=this._events&&this._events[u];if(Z&&Z.length&&this._listens(u,U,_)!==!1)return!0;if(O){for(var se in this._eventParents)if(this._eventParents[se].listens(u,y,_,O))return!0}return!1},_listens:function(u,y,_){if(!this._events)return!1;var O=this._events[u]||[];if(!y)return!!O.length;_===this&&(_=void 0);for(var U=0,Z=O.length;U<Z;U++)if(O[U].fn===y&&O[U].ctx===_)return U;return!1},once:function(u,y,_){if(typeof u=="object")for(var O in u)this._on(O,u[O],y,!0);else{u=P(u);for(var U=0,Z=u.length;U<Z;U++)this._on(u[U],y,_,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var y in this._eventParents)this._eventParents[y].fire(u.type,i({layer:u.target,propagatedFrom:u.target},u),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var re=ie.extend(X);function ee(u,y,_){this.x=_?Math.round(u):u,this.y=_?Math.round(y):y}var le=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(u){return this.clone()._add(oe(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(oe(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ee(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ee(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(u){u=oe(u);var y=u.x-this.x,_=u.y-this.y;return Math.sqrt(y*y+_*_)},equals:function(u){return u=oe(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=oe(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function oe(u,y,_){return u instanceof ee?u:R(u)?new ee(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new ee(u.x,u.y):new ee(u,y,_)}function Q(u,y){if(u)for(var _=y?[u,y]:u,O=0,U=_.length;O<U;O++)this.extend(_[O])}Q.prototype={extend:function(u){var y,_;if(!u)return this;if(u instanceof ee||typeof u[0]=="number"||"x"in u)y=_=oe(u);else if(u=ae(u),y=u.min,_=u.max,!y||!_)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=_.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(u){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var y,_;return typeof u[0]=="number"||u instanceof ee?u=oe(u):u=ae(u),u instanceof Q?(y=u.min,_=u.max):y=_=u,y.x>=this.min.x&&_.x<=this.max.x&&y.y>=this.min.y&&_.y<=this.max.y},intersects:function(u){u=ae(u);var y=this.min,_=this.max,O=u.min,U=u.max,Z=U.x>=y.x&&O.x<=_.x,se=U.y>=y.y&&O.y<=_.y;return Z&&se},overlaps:function(u){u=ae(u);var y=this.min,_=this.max,O=u.min,U=u.max,Z=U.x>y.x&&O.x<_.x,se=U.y>y.y&&O.y<_.y;return Z&&se},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var y=this.min,_=this.max,O=Math.abs(y.x-_.x)*u,U=Math.abs(y.y-_.y)*u;return ae(oe(y.x-O,y.y-U),oe(_.x+O,_.y+U))},equals:function(u){return u?(u=ae(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function ae(u,y){return!u||u instanceof Q?u:new Q(u,y)}function ce(u,y){if(u)for(var _=y?[u,y]:u,O=0,U=_.length;O<U;O++)this.extend(_[O])}ce.prototype={extend:function(u){var y=this._southWest,_=this._northEast,O,U;if(u instanceof xe)O=u,U=u;else if(u instanceof ce){if(O=u._southWest,U=u._northEast,!O||!U)return this}else return u?this.extend(Ce(u)||fe(u)):this;return!y&&!_?(this._southWest=new xe(O.lat,O.lng),this._northEast=new xe(U.lat,U.lng)):(y.lat=Math.min(O.lat,y.lat),y.lng=Math.min(O.lng,y.lng),_.lat=Math.max(U.lat,_.lat),_.lng=Math.max(U.lng,_.lng)),this},pad:function(u){var y=this._southWest,_=this._northEast,O=Math.abs(y.lat-_.lat)*u,U=Math.abs(y.lng-_.lng)*u;return new ce(new xe(y.lat-O,y.lng-U),new xe(_.lat+O,_.lng+U))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof xe||"lat"in u?u=Ce(u):u=fe(u);var y=this._southWest,_=this._northEast,O,U;return u instanceof ce?(O=u.getSouthWest(),U=u.getNorthEast()):O=U=u,O.lat>=y.lat&&U.lat<=_.lat&&O.lng>=y.lng&&U.lng<=_.lng},intersects:function(u){u=fe(u);var y=this._southWest,_=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),Z=U.lat>=y.lat&&O.lat<=_.lat,se=U.lng>=y.lng&&O.lng<=_.lng;return Z&&se},overlaps:function(u){u=fe(u);var y=this._southWest,_=this._northEast,O=u.getSouthWest(),U=u.getNorthEast(),Z=U.lat>y.lat&&O.lat<_.lat,se=U.lng>y.lng&&O.lng<_.lng;return Z&&se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,y){return u?(u=fe(u),this._southWest.equals(u.getSouthWest(),y)&&this._northEast.equals(u.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(u,y){return u instanceof ce?u:new ce(u,y)}function xe(u,y,_){if(isNaN(u)||isNaN(y))throw new Error("Invalid LatLng object: ("+u+", "+y+")");this.lat=+u,this.lng=+y,_!==void 0&&(this.alt=+_)}xe.prototype={equals:function(u,y){if(!u)return!1;u=Ce(u);var _=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return _<=(y===void 0?1e-9:y)},toString:function(u){return"LatLng("+b(this.lat,u)+", "+b(this.lng,u)+")"},distanceTo:function(u){return we.distance(this,Ce(u))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(u){var y=180*u/40075017,_=y/Math.cos(Math.PI/180*this.lat);return fe([this.lat-y,this.lng-_],[this.lat+y,this.lng+_])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};function Ce(u,y,_){return u instanceof xe?u:R(u)&&typeof u[0]!="object"?u.length===3?new xe(u[0],u[1],u[2]):u.length===2?new xe(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new xe(u.lat,"lng"in u?u.lng:u.lon,u.alt):y===void 0?null:new xe(u,y,_)}var Oe={latLngToPoint:function(u,y){var _=this.projection.project(u),O=this.scale(y);return this.transformation._transform(_,O)},pointToLatLng:function(u,y){var _=this.scale(y),O=this.transformation.untransform(u,_);return this.projection.unproject(O)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var y=this.projection.bounds,_=this.scale(u),O=this.transformation.transform(y.min,_),U=this.transformation.transform(y.max,_);return new Q(O,U)},infinite:!1,wrapLatLng:function(u){var y=this.wrapLng?p(u.lng,this.wrapLng,!0):u.lng,_=this.wrapLat?p(u.lat,this.wrapLat,!0):u.lat,O=u.alt;return new xe(_,y,O)},wrapLatLngBounds:function(u){var y=u.getCenter(),_=this.wrapLatLng(y),O=y.lat-_.lat,U=y.lng-_.lng;if(O===0&&U===0)return u;var Z=u.getSouthWest(),se=u.getNorthEast(),ye=new xe(Z.lat-O,Z.lng-U),Te=new xe(se.lat-O,se.lng-U);return new ce(ye,Te)}},we=i({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(u,y){var _=Math.PI/180,O=u.lat*_,U=y.lat*_,Z=Math.sin((y.lat-u.lat)*_/2),se=Math.sin((y.lng-u.lng)*_/2),ye=Z*Z+Math.cos(O)*Math.cos(U)*se*se,Te=2*Math.atan2(Math.sqrt(ye),Math.sqrt(1-ye));return this.R*Te}}),pe=6378137,Be={R:pe,MAX_LATITUDE:85.0511287798,project:function(u){var y=Math.PI/180,_=this.MAX_LATITUDE,O=Math.max(Math.min(_,u.lat),-_),U=Math.sin(O*y);return new ee(this.R*u.lng*y,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(u){var y=180/Math.PI;return new xe((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*y,u.x*y/this.R)},bounds:(function(){var u=pe*Math.PI;return new Q([-u,-u],[u,u])})()};function $e(u,y,_,O){if(R(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=y,this._c=_,this._d=O}$e.prototype={transform:function(u,y){return this._transform(u.clone(),y)},_transform:function(u,y){return y=y||1,u.x=y*(this._a*u.x+this._b),u.y=y*(this._c*u.y+this._d),u},untransform:function(u,y){return y=y||1,new ee((u.x/y-this._b)/this._a,(u.y/y-this._d)/this._c)}};function be(u,y,_,O){return new $e(u,y,_,O)}var Me=i({},we,{code:"EPSG:3857",projection:Be,transformation:(function(){var u=.5/(Math.PI*Be.R);return be(u,.5,-u,.5)})()}),Pe=i({},Me,{code:"EPSG:900913"});function je(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function Fe(u,y){var _="",O,U,Z,se,ye,Te;for(O=0,Z=u.length;O<Z;O++){for(ye=u[O],U=0,se=ye.length;U<se;U++)Te=ye[U],_+=(U?"L":"M")+Te.x+" "+Te.y;_+=y?Qe.svg?"z":"x":""}return _||"M0 0"}var We=document.documentElement.style,ct="ActiveXObject"in window,He=ct&&!document.addEventListener,Ze="msLaunchUri"in navigator&&!("documentMode"in document),Ye=Dn("webkit"),mt=Dn("android"),an=Dn("android 2")||Dn("android 3"),_n=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Vr=mt&&Dn("Google")&&_n<537&&!("AudioNode"in window),Un=!!window.opera,Ii=!Ze&&Dn("chrome"),Rn=Dn("gecko")&&!Ye&&!Un&&!ct,ga=!Ii&&Dn("safari"),ti=Dn("phantom"),ya="OTransition"in We,Ri=navigator.platform.indexOf("Win")===0,vr=ct&&"transition"in We,Mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!an,Ar="MozPerspective"in We,tn=!window.L_DISABLE_3D&&(vr||Mn||Ar)&&!ya&&!ti,yi=typeof orientation<"u"||Dn("mobile"),va=yi&&Ye,Br=yi&&Mn,er=!window.PointerEvent&&window.MSPointerEvent,zr=!!(window.PointerEvent||er),On="ontouchstart"in window||!!window.TouchEvent,Mi=!window.L_NO_TOUCH&&(On||zr),dt=yi&&Un,Xt=yi&&Rn,Gn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kn=(function(){var u=!1;try{var y=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",g,y),window.removeEventListener("testPassiveEventSupport",g,y)}catch{}return u})(),Ur=(function(){return!!document.createElement("canvas").getContext})(),nn=!!(document.createElementNS&&je("svg").createSVGRect),Er=!!nn&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ni=!nn&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var y=u.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Wn=navigator.platform.indexOf("Mac")===0,tr=navigator.platform.indexOf("Linux")===0;function Dn(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Qe={ie:ct,ielt9:He,edge:Ze,webkit:Ye,android:mt,android23:an,androidStock:Vr,opera:Un,chrome:Ii,gecko:Rn,safari:ga,phantom:ti,opera12:ya,win:Ri,ie3d:vr,webkit3d:Mn,gecko3d:Ar,any3d:tn,mobile:yi,mobileWebkit:va,mobileWebkit3d:Br,msPointer:er,pointer:zr,touch:Mi,touchNative:On,mobileOpera:dt,mobileGecko:Xt,retina:Gn,passiveEvents:Kn,canvas:Ur,svg:nn,vml:ni,inlineSvg:Er,mac:Wn,linux:tr},ls=Qe.msPointer?"MSPointerDown":"pointerdown",ri=Qe.msPointer?"MSPointerMove":"pointermove",Di=Qe.msPointer?"MSPointerUp":"pointerup",Cn=Qe.msPointer?"MSPointerCancel":"pointercancel",Zn={touchstart:ls,touchmove:ri,touchend:Di,touchcancel:Cn},$r={touchstart:bi,touchmove:br,touchend:br,touchcancel:br},vi={},nr=!1;function ba(u,y,_){return y==="touchstart"&&ii(),$r[y]?(_=$r[y].bind(this,_),u.addEventListener(Zn[y],_,!1),_):(console.warn("wrong event specified:",y),g)}function cs(u,y,_){if(!Zn[y]){console.warn("wrong event specified:",y);return}u.removeEventListener(Zn[y],_,!1)}function ki(u){vi[u.pointerId]=u}function us(u){vi[u.pointerId]&&(vi[u.pointerId]=u)}function Li(u){delete vi[u.pointerId]}function ii(){nr||(document.addEventListener(ls,ki,!0),document.addEventListener(ri,us,!0),document.addEventListener(Di,Li,!0),document.addEventListener(Cn,Li,!0),nr=!0)}function br(u,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var _ in vi)y.touches.push(vi[_]);y.changedTouches=[y],u(y)}}function bi(u,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&me(y),br(u,y)}function $n(u){var y={},_,O;for(O in u)_=u[O],y[O]=_&&_.bind?_.bind(u):_;return u=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var $s=200;function po(u,y){u.addEventListener("dblclick",y);var _=0,O;function U(Z){if(Z.detail!==1){O=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var se=Je(Z);if(!(se.some(function(Te){return Te instanceof HTMLLabelElement&&Te.attributes.for})&&!se.some(function(Te){return Te instanceof HTMLInputElement||Te instanceof HTMLSelectElement}))){var ye=Date.now();ye-_<=$s?(O++,O===2&&y($n(Z))):O=1,_=ye}}}return u.addEventListener("click",U),{dblclick:y,simDblclick:U}}function lr(u,y){u.removeEventListener("dblclick",y.dblclick),u.removeEventListener("click",y.simDblclick)}var xi=go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ds=go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mo=ds==="webkitTransition"||ds==="OTransition"?ds+"End":"transitionend";function rl(u){return typeof u=="string"?document.getElementById(u):u}function fs(u,y){var _=u.style[y]||u.currentStyle&&u.currentStyle[y];if((!_||_==="auto")&&document.defaultView){var O=document.defaultView.getComputedStyle(u,null);_=O?O[y]:null}return _==="auto"?null:_}function Dt(u,y,_){var O=document.createElement(u);return O.className=y||"",_&&_.appendChild(O),O}function Lt(u){var y=u.parentNode;y&&y.removeChild(u)}function kn(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function wn(u){var y=u.parentNode;y&&y.lastChild!==u&&y.appendChild(u)}function Vi(u){var y=u.parentNode;y&&y.firstChild!==u&&y.insertBefore(u,y.firstChild)}function hs(u,y){if(u.classList!==void 0)return u.classList.contains(y);var _=ea(u);return _.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(_)}function et(u,y){if(u.classList!==void 0)for(var _=P(y),O=0,U=_.length;O<U;O++)u.classList.add(_[O]);else if(!hs(u,y)){var Z=ea(u);Ji(u,(Z?Z+" ":"")+y)}}function sn(u,y){u.classList!==void 0?u.classList.remove(y):Ji(u,w((" "+ea(u)+" ").replace(" "+y+" "," ")))}function Ji(u,y){u.className.baseVal===void 0?u.className=y:u.className.baseVal=y}function ea(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Sn(u,y){"opacity"in u.style?u.style.opacity=y:"filter"in u.style&&Fs(u,y)}function Fs(u,y){var _=!1,O="DXImageTransform.Microsoft.Alpha";try{_=u.filters.item(O)}catch{if(y===1)return}y=Math.round(y*100),_?(_.Enabled=y!==100,_.Opacity=y):u.style.filter+=" progid:"+O+"(opacity="+y+")"}function go(u){for(var y=document.documentElement.style,_=0;_<u.length;_++)if(u[_]in y)return u[_];return!1}function Bi(u,y,_){var O=y||new ee(0,0);u.style[xi]=(Qe.ie3d?"translate("+O.x+"px,"+O.y+"px)":"translate3d("+O.x+"px,"+O.y+"px,0)")+(_?" scale("+_+")":"")}function mn(u,y){u._leaflet_pos=y,Qe.any3d?Bi(u,y):(u.style.left=y.x+"px",u.style.top=y.y+"px")}function ta(u){return u._leaflet_pos||new ee(0,0)}var _i,rr,yo;if("onselectstart"in document)_i=function(){ut(window,"selectstart",me)},rr=function(){Zt(window,"selectstart",me)};else{var xr=go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_i=function(){if(xr){var u=document.documentElement.style;yo=u[xr],u[xr]="none"}},rr=function(){xr&&(document.documentElement.style[xr]=yo,yo=void 0)}}function qs(){ut(window,"dragstart",me)}function na(){Zt(window,"dragstart",me)}var Hs,ra;function ia(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Fr(),Hs=u,ra=u.style.outlineStyle,u.style.outlineStyle="none",ut(window,"keydown",Fr))}function Fr(){Hs&&(Hs.style.outlineStyle=ra,Hs=void 0,ra=void 0,Zt(window,"keydown",Fr))}function La(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function ai(u){var y=u.getBoundingClientRect();return{x:y.width/u.offsetWidth||1,y:y.height/u.offsetHeight||1,boundingClientRect:y}}var ps={__proto__:null,TRANSFORM:xi,TRANSITION:ds,TRANSITION_END:mo,get:rl,getStyle:fs,create:Dt,remove:Lt,empty:kn,toFront:wn,toBack:Vi,hasClass:hs,addClass:et,removeClass:sn,setClass:Ji,getClass:ea,setOpacity:Sn,testProp:go,setTransform:Bi,setPosition:mn,getPosition:ta,get disableTextSelection(){return _i},get enableTextSelection(){return rr},disableImageDrag:qs,enableImageDrag:na,preventOutline:ia,restoreOutline:Fr,getSizedParentNode:La,getScale:ai};function ut(u,y,_,O){if(y&&typeof y=="object")for(var U in y)si(u,U,y[U],_);else{y=P(y);for(var Z=0,se=y.length;Z<se;Z++)si(u,y[Z],_,O)}return this}var Pr="_leaflet_events";function Zt(u,y,_,O){if(arguments.length===1)Va(u),delete u[Pr];else if(y&&typeof y=="object")for(var U in y)Ba(u,U,y[U],_);else if(y=P(y),arguments.length===2)Va(u,function(ye){return $(y,ye)!==-1});else for(var Z=0,se=y.length;Z<se;Z++)Ba(u,y[Z],_,O);return this}function Va(u,y){for(var _ in u[Pr]){var O=_.split(/\d/)[0];(!y||y(O))&&Ba(u,O,null,null,_)}}var wi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function si(u,y,_,O){var U=y+d(_)+(O?"_"+d(O):"");if(u[Pr]&&u[Pr][U])return this;var Z=function(ye){return _.call(O||u,ye||window.event)},se=Z;!Qe.touchNative&&Qe.pointer&&y.indexOf("touch")===0?Z=ba(u,y,Z):Qe.touch&&y==="dblclick"?Z=po(u,Z):"addEventListener"in u?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?u.addEventListener(wi[y]||y,Z,Qe.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(Z=function(ye){ye=ye||window.event,Yn(u,ye)&&se(ye)},u.addEventListener(wi[y],Z,!1)):u.addEventListener(y,se,!1):u.attachEvent("on"+y,Z),u[Pr]=u[Pr]||{},u[Pr][U]=Z}function Ba(u,y,_,O,U){U=U||y+d(_)+(O?"_"+d(O):"");var Z=u[Pr]&&u[Pr][U];if(!Z)return this;!Qe.touchNative&&Qe.pointer&&y.indexOf("touch")===0?cs(u,y,Z):Qe.touch&&y==="dblclick"?lr(u,Z):"removeEventListener"in u?u.removeEventListener(wi[y]||y,Z,!1):u.detachEvent("on"+y,Z),u[Pr][U]=null}function zt(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function zi(u){return si(u,"wheel",zt),this}function te(u){return ut(u,"mousedown touchstart dblclick contextmenu",zt),u._leaflet_disable_click=!0,this}function me(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function qe(u){return me(u),zt(u),this}function Je(u){if(u.composedPath)return u.composedPath();for(var y=[],_=u.target;_;)y.push(_),_=_.parentNode;return y}function yt(u,y){if(!y)return new ee(u.clientX,u.clientY);var _=ai(y),O=_.boundingClientRect;return new ee((u.clientX-O.left)/_.x-y.clientLeft,(u.clientY-O.top)/_.y-y.clientTop)}var At=Qe.linux&&Qe.chrome?window.devicePixelRatio:Qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rn(u){return Qe.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/At:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Yn(u,y){var _=y.relatedTarget;if(!_)return!0;try{for(;_&&_!==u;)_=_.parentNode}catch{return!1}return _!==u}var qr={__proto__:null,on:ut,off:Zt,stopPropagation:zt,disableScrollPropagation:zi,disableClickPropagation:te,preventDefault:me,stop:qe,getPropagationPath:Je,getMousePosition:yt,getWheelDelta:rn,isExternalTarget:Yn,addListener:ut,removeListener:Zt},za=re.extend({run:function(u,y,_,O){this.stop(),this._el=u,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(O||.5,.2),this._startPos=ta(u),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(u){var y=+new Date-this._startTime,_=this._duration*1e3;y<_?this._runFrame(this._easeOut(y/_),u):(this._runFrame(1),this._complete())},_runFrame:function(u,y){var _=this._startPos.add(this._offset.multiplyBy(u));y&&_._round(),mn(this._el,_),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),kt=re.extend({options:{crs:Me,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,y){y=T(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(Ce(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ds&&Qe.any3d&&!Qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ut(this._proxy,mo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,y,_){if(y=y===void 0?this._zoom:this._limitZoom(y),u=this._limitCenter(Ce(u),y,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=i({animate:_.animate},_.zoom),_.pan=i({animate:_.animate,duration:_.duration},_.pan));var O=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,y,_.zoom):this._tryAnimatedPan(u,_.pan);if(O)return clearTimeout(this._sizeTimer),this}return this._resetView(u,y,_.pan&&_.pan.noMoveStart),this},setZoom:function(u,y){return this._loaded?this.setView(this.getCenter(),u,{zoom:y}):(this._zoom=u,this)},zoomIn:function(u,y){return u=u||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,y)},zoomOut:function(u,y){return u=u||(Qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,y)},setZoomAround:function(u,y,_){var O=this.getZoomScale(y),U=this.getSize().divideBy(2),Z=u instanceof ee?u:this.latLngToContainerPoint(u),se=Z.subtract(U).multiplyBy(1-1/O),ye=this.containerPointToLatLng(U.add(se));return this.setView(ye,y,{zoom:_})},_getBoundsCenterZoom:function(u,y){y=y||{},u=u.getBounds?u.getBounds():fe(u);var _=oe(y.paddingTopLeft||y.padding||[0,0]),O=oe(y.paddingBottomRight||y.padding||[0,0]),U=this.getBoundsZoom(u,!1,_.add(O));if(U=typeof y.maxZoom=="number"?Math.min(y.maxZoom,U):U,U===1/0)return{center:u.getCenter(),zoom:U};var Z=O.subtract(_).divideBy(2),se=this.project(u.getSouthWest(),U),ye=this.project(u.getNorthEast(),U),Te=this.unproject(se.add(ye).divideBy(2).add(Z),U);return{center:Te,zoom:U}},fitBounds:function(u,y){if(u=fe(u),!u.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(u,y);return this.setView(_.center,_.zoom,y)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,y){return this.setView(u,this._zoom,{pan:y})},panBy:function(u,y){if(u=oe(u).round(),y=y||{},!u.x&&!u.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new za,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){et(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,_,y.duration||.25,y.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,y,_){if(_=_||{},_.animate===!1||!Qe.any3d)return this.setView(u,y,_);this._stop();var O=this.project(this.getCenter()),U=this.project(u),Z=this.getSize(),se=this._zoom;u=Ce(u),y=y===void 0?se:y;var ye=Math.max(Z.x,Z.y),Te=ye*this.getZoomScale(se,y),ke=U.distanceTo(O)||1,Xe=1.42,lt=Xe*Xe;function jt(ir){var Ys=ir?-1:1,ul=ir?Te:ye,bp=Te*Te-ye*ye+Ys*lt*lt*ke*ke,Lu=2*ul*lt*ke,Vu=bp/Lu,Po=Math.sqrt(Vu*Vu+1)-Vu,Xs=Po<1e-9?-18:Math.log(Po);return Xs}function Hr(ir){return(Math.exp(ir)-Math.exp(-ir))/2}function cr(ir){return(Math.exp(ir)+Math.exp(-ir))/2}function oa(ir){return Hr(ir)/cr(ir)}var on=jt(0);function ln(ir){return ye*(cr(on)/cr(on+Xe*ir))}function Ut(ir){return ye*(cr(on)*oa(on+Xe*ir)-Hr(on))/lt}function Ao(ir){return 1-Math.pow(1-ir,1.5)}var Ta=Date.now(),sf=(jt(1)-on)/Xe,Eo=_.duration?1e3*_.duration:1e3*sf*.8;function vp(){var ir=(Date.now()-Ta)/Eo,Ys=Ao(ir)*sf;ir<=1?(this._flyToFrame=q(vp,this),this._move(this.unproject(O.add(U.subtract(O).multiplyBy(Ut(Ys)/ke)),se),this.getScaleZoom(ye/ln(Ys),se),{flyTo:!0})):this._move(u,y)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),vp.call(this),this},flyToBounds:function(u,y){var _=this._getBoundsCenterZoom(u,y);return this.flyTo(_.center,_.zoom,y)},setMaxBounds:function(u){return u=fe(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var y=this.options.minZoom;return this.options.minZoom=u,this._loaded&&y!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var y=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&y!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,y){this._enforcingBounds=!0;var _=this.getCenter(),O=this._limitCenter(_,this._zoom,fe(u));return _.equals(O)||this.panTo(O,y),this._enforcingBounds=!1,this},panInside:function(u,y){y=y||{};var _=oe(y.paddingTopLeft||y.padding||[0,0]),O=oe(y.paddingBottomRight||y.padding||[0,0]),U=this.project(this.getCenter()),Z=this.project(u),se=this.getPixelBounds(),ye=ae([se.min.add(_),se.max.subtract(O)]),Te=ye.getSize();if(!ye.contains(Z)){this._enforcingBounds=!0;var ke=Z.subtract(ye.getCenter()),Xe=ye.extend(Z).getSize().subtract(Te);U.x+=ke.x<0?-Xe.x:Xe.x,U.y+=ke.y<0?-Xe.y:Xe.y,this.panTo(this.unproject(U),y),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=i({animate:!1,pan:!0},u===!0?{animate:!0}:u);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),O=y.divideBy(2).round(),U=_.divideBy(2).round(),Z=O.subtract(U);return!Z.x&&!Z.y?this:(u.animate&&u.pan?this.panBy(Z):(u.pan&&this._rawPanBy(Z),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=i({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),_=o(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,_,u):navigator.geolocation.getCurrentPosition(y,_,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var y=u.code,_=u.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var y=u.coords.latitude,_=u.coords.longitude,O=new xe(y,_),U=O.toBounds(u.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var se=this.getBoundsZoom(U);this.setView(O,Z.maxZoom?Math.min(se,Z.maxZoom):se)}var ye={latlng:O,bounds:U,timestamp:u.timestamp};for(var Te in u.coords)typeof u.coords[Te]=="number"&&(ye[Te]=u.coords[Te]);this.fire("locationfound",ye)}},addHandler:function(u,y){if(!y)return this;var _=this[u]=new y(this);return this._handlers.push(_),this.options[u]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Lt(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,y){var _="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),O=Dt("div",_,y||this._mapPane);return u&&(this._panes[u]=O),O},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),y=this.unproject(u.getBottomLeft()),_=this.unproject(u.getTopRight());return new ce(y,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,y,_){u=fe(u),_=oe(_||[0,0]);var O=this.getZoom()||0,U=this.getMinZoom(),Z=this.getMaxZoom(),se=u.getNorthWest(),ye=u.getSouthEast(),Te=this.getSize().subtract(_),ke=ae(this.project(ye,O),this.project(se,O)).getSize(),Xe=Qe.any3d?this.options.zoomSnap:1,lt=Te.x/ke.x,jt=Te.y/ke.y,Hr=y?Math.max(lt,jt):Math.min(lt,jt);return O=this.getScaleZoom(Hr,O),Xe&&(O=Math.round(O/(Xe/100))*(Xe/100),O=y?Math.ceil(O/Xe)*Xe:Math.floor(O/Xe)*Xe),Math.max(U,Math.min(Z,O))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,y){var _=this._getTopLeftPoint(u,y);return new Q(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,y){var _=this.options.crs;return y=y===void 0?this._zoom:y,_.scale(u)/_.scale(y)},getScaleZoom:function(u,y){var _=this.options.crs;y=y===void 0?this._zoom:y;var O=_.zoom(u*_.scale(y));return isNaN(O)?1/0:O},project:function(u,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(Ce(u),y)},unproject:function(u,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(oe(u),y)},layerPointToLatLng:function(u){var y=oe(u).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(u){var y=this.project(Ce(u))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(Ce(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(fe(u))},distance:function(u,y){return this.options.crs.distance(Ce(u),Ce(y))},containerPointToLayerPoint:function(u){return oe(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return oe(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var y=this.containerPointToLayerPoint(oe(u));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ce(u)))},mouseEventToContainerPoint:function(u){return yt(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var y=this._container=rl(u);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ut(y,"scroll",this._onScroll,this),this._containerId=d(y)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Qe.any3d,et(u,"leaflet-container"+(Qe.touch?" leaflet-touch":"")+(Qe.retina?" leaflet-retina":"")+(Qe.ielt9?" leaflet-oldie":"")+(Qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=fs(u,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mn(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(et(u.markerPane,"leaflet-zoom-hide"),et(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,y,_){mn(this._mapPane,new ee(0,0));var O=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var U=this._zoom!==y;this._moveStart(U,_)._move(u,y)._moveEnd(U),this.fire("viewreset"),O&&this.fire("load")},_moveStart:function(u,y){return u&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(u,y,_,O){y===void 0&&(y=this._zoom);var U=this._zoom!==y;return this._zoom=y,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),O?_&&_.pinch&&this.fire("zoom",_):((U||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){mn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var y=u?Zt:ut;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),Qe.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,y){for(var _=[],O,U=y==="mouseout"||y==="mouseover",Z=u.target||u.srcElement,se=!1;Z;){if(O=this._targets[d(Z)],O&&(y==="click"||y==="preclick")&&this._draggableMoved(O)){se=!0;break}if(O&&O.listens(y,!0)&&(U&&!Yn(Z,u)||(_.push(O),U))||Z===this._container)break;Z=Z.parentNode}return!_.length&&!se&&!U&&this.listens(y,!0)&&(_=[this]),_},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var y=u.target||u.srcElement;if(!(!this._loaded||y._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(y))){var _=u.type;_==="mousedown"&&ia(y),this._fireDOMEvent(u,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,y,_){if(u.type==="click"){var O=i({},u);O.type="preclick",this._fireDOMEvent(O,O.type,_)}var U=this._findEventTargets(u,y);if(_){for(var Z=[],se=0;se<_.length;se++)_[se].listens(y,!0)&&Z.push(_[se]);U=Z.concat(U)}if(U.length){y==="contextmenu"&&me(u);var ye=U[0],Te={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var ke=ye.getLatLng&&(!ye._radius||ye._radius<=10);Te.containerPoint=ke?this.latLngToContainerPoint(ye.getLatLng()):this.mouseEventToContainerPoint(u),Te.layerPoint=this.containerPointToLayerPoint(Te.containerPoint),Te.latlng=ke?ye.getLatLng():this.layerPointToLatLng(Te.layerPoint)}for(se=0;se<U.length;se++)if(U[se].fire(y,Te,!0),Te.originalEvent._stopped||U[se].options.bubblingMouseEvents===!1&&$(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,y=this._handlers.length;u<y;u++)this._handlers[u].disable()},whenReady:function(u,y){return this._loaded?u.call(y||this,{target:this}):this.on("load",u,y),this},_getMapPanePos:function(){return ta(this._mapPane)||new ee(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,y){var _=u&&y!==void 0?this._getNewPixelOrigin(u,y):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,y){var _=this.getSize()._divideBy(2);return this.project(u,y)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,y,_){var O=this._getNewPixelOrigin(_,y);return this.project(u,y)._subtract(O)},_latLngBoundsToNewLayerBounds:function(u,y,_){var O=this._getNewPixelOrigin(_,y);return ae([this.project(u.getSouthWest(),y)._subtract(O),this.project(u.getNorthWest(),y)._subtract(O),this.project(u.getSouthEast(),y)._subtract(O),this.project(u.getNorthEast(),y)._subtract(O)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,y,_){if(!_)return u;var O=this.project(u,y),U=this.getSize().divideBy(2),Z=new Q(O.subtract(U),O.add(U)),se=this._getBoundsOffset(Z,_,y);return Math.abs(se.x)<=1&&Math.abs(se.y)<=1?u:this.unproject(O.add(se),y)},_limitOffset:function(u,y){if(!y)return u;var _=this.getPixelBounds(),O=new Q(_.min.add(u),_.max.add(u));return u.add(this._getBoundsOffset(O,y))},_getBoundsOffset:function(u,y,_){var O=ae(this.project(y.getNorthEast(),_),this.project(y.getSouthWest(),_)),U=O.min.subtract(u.min),Z=O.max.subtract(u.max),se=this._rebound(U.x,-Z.x),ye=this._rebound(U.y,-Z.y);return new ee(se,ye)},_rebound:function(u,y){return u+y>0?Math.round(u-y)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(y))},_limitZoom:function(u){var y=this.getMinZoom(),_=this.getMaxZoom(),O=Qe.any3d?this.options.zoomSnap:1;return O&&(u=Math.round(u/O)*O),Math.max(y,Math.min(_,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,y){var _=this._getCenterOffset(u)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,y),!0)},_createAnimProxy:function(){var u=this._proxy=Dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(y){var _=xi,O=this._proxy.style[_];Bi(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),O===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),y=this.getZoom();Bi(this._proxy,this.project(u,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,y,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var O=this.getZoomScale(y),U=this._getCenterOffset(u)._divideBy(1-1/O);return _.animate!==!0&&!this.getSize().contains(U)?!1:(q(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(u,y,!0)},this),!0)},_animateZoom:function(u,y,_,O){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=y,et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:y,noUpdate:O}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vo(u,y){return new kt(u,y)}var oi=ie.extend({options:{position:"topright"},initialize:function(u){T(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var y=this._map;return y&&y.removeControl(this),this.options.position=u,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var y=this._container=this.onAdd(u),_=this.getPosition(),O=u._controlCorners[_];return et(y,"leaflet-control"),_.indexOf("bottom")!==-1?O.insertBefore(y,O.firstChild):O.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Ui=function(u){return new oi(u)};kt.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},y="leaflet-",_=this._controlContainer=Dt("div",y+"control-container",this._container);function O(U,Z){var se=y+U+" "+y+Z;u[U+Z]=Dt("div",se,_)}O("top","left"),O("top","right"),O("bottom","left"),O("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Lt(this._controlCorners[u]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var il=oi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,y,_,O){return _<O?-1:O<_?1:0}},initialize:function(u,y,_){T(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var O in u)this._addLayer(u[O],O);for(O in y)this._addLayer(y[O],O,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return oi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,y){return this._addLayer(u,y),this._map?this._update():this},addOverlay:function(u,y){return this._addLayer(u,y,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var y=this._getLayer(d(u));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",y=this._container=Dt("div",u),_=this.options.collapsed;y.setAttribute("aria-haspopup",!0),te(y),zi(y);var O=this._section=Dt("section",u+"-list");_&&(this._map.on("click",this.collapse,this),ut(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=Dt("a",u+"-toggle",y);U.href="#",U.title="Layers",U.setAttribute("role","button"),ut(U,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){me(Z),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Dt("div",u+"-base",O),this._separator=Dt("div",u+"-separator",O),this._overlaysList=Dt("div",u+"-overlays",O),y.appendChild(O)},_getLayer:function(u){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&d(this._layers[y].layer)===u)return this._layers[y]},_addLayer:function(u,y,_){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:y,overlay:_}),this.options.sortLayers&&this._layers.sort(o(function(O,U){return this.options.sortFunction(O.layer,U.layer,O.name,U.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;kn(this._baseLayersList),kn(this._overlaysList),this._layerControlInputs=[];var u,y,_,O,U=0;for(_=0;_<this._layers.length;_++)O=this._layers[_],this._addItem(O),y=y||O.overlay,u=u||!O.overlay,U+=O.overlay?0:1;return this.options.hideSingleBase&&(u=u&&U>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=y&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var y=this._getLayer(d(u.target)),_=y.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;_&&this._map.fire(_,y)},_createRadioElement:function(u,y){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(y?' checked="checked"':"")+"/>",O=document.createElement("div");return O.innerHTML=_,O.firstChild},_addItem:function(u){var y=document.createElement("label"),_=this._map.hasLayer(u.layer),O;u.overlay?(O=document.createElement("input"),O.type="checkbox",O.className="leaflet-control-layers-selector",O.defaultChecked=_):O=this._createRadioElement("leaflet-base-layers_"+d(this),_),this._layerControlInputs.push(O),O.layerId=d(u.layer),ut(O,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+u.name;var Z=document.createElement("span");y.appendChild(Z),Z.appendChild(O),Z.appendChild(U);var se=u.overlay?this._overlaysList:this._baseLayersList;return se.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,y,_,O=[],U=[];this._handlingClick=!0;for(var Z=u.length-1;Z>=0;Z--)y=u[Z],_=this._getLayer(y.layerId).layer,y.checked?O.push(_):y.checked||U.push(_);for(Z=0;Z<U.length;Z++)this._map.hasLayer(U[Z])&&this._map.removeLayer(U[Z]);for(Z=0;Z<O.length;Z++)this._map.hasLayer(O[Z])||this._map.addLayer(O[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,y,_,O=this._map.getZoom(),U=u.length-1;U>=0;U--)y=u[U],_=this._getLayer(y.layerId).layer,y.disabled=_.options.minZoom!==void 0&&O<_.options.minZoom||_.options.maxZoom!==void 0&&O>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,ut(u,"click",me),this.expand();var y=this;setTimeout(function(){Zt(u,"click",me),y._preventClick=!1})}}),vu=function(u,y,_){return new il(u,y,_)},Gs=oi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var y="leaflet-control-zoom",_=Dt("div",y+" leaflet-bar"),O=this.options;return this._zoomInButton=this._createButton(O.zoomInText,O.zoomInTitle,y+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(O.zoomOutText,O.zoomOutTitle,y+"-out",_,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,y,_,O,U){var Z=Dt("a",_,O);return Z.innerHTML=u,Z.href="#",Z.title=y,Z.setAttribute("role","button"),Z.setAttribute("aria-label",y),te(Z),ut(Z,"click",qe),ut(Z,"click",U,this),ut(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var u=this._map,y="leaflet-disabled";sn(this._zoomInButton,y),sn(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(et(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(et(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});kt.mergeOptions({zoomControl:!0}),kt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gs,this.addControl(this.zoomControl))});var Kd=function(u){return new Gs(u)},bu=oi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var y="leaflet-control-scale",_=Dt("div",y),O=this.options;return this._addScales(O,y+"-line",_),u.on(O.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),_},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,y,_){u.metric&&(this._mScale=Dt("div",y,_)),u.imperial&&(this._iScale=Dt("div",y,_))},_update:function(){var u=this._map,y=u.getSize().y/2,_=u.distance(u.containerPointToLatLng([0,y]),u.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(_)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var y=this._getRoundNum(u),_=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,_,y/u)},_updateImperial:function(u){var y=u*3.2808399,_,O,U;y>5280?(_=y/5280,O=this._getRoundNum(_),this._updateScale(this._iScale,O+" mi",O/_)):(U=this._getRoundNum(y),this._updateScale(this._iScale,U+" ft",U/y))},_updateScale:function(u,y,_){u.style.width=Math.round(this.options.maxWidth*_)+"px",u.innerHTML=y},_getRoundNum:function(u){var y=Math.pow(10,(Math.floor(u)+"").length-1),_=u/y;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,y*_}}),al=function(u){return new bu(u)},xu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nc=oi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Qe.inlineSvg?xu+" ":"")+"Leaflet</a>"},initialize:function(u){T(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Dt("div","leaflet-control-attribution"),te(this._container);for(var y in u._layers)u._layers[y].getAttribution&&this.addAttribution(u._layers[y].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var y in this._attributions)this._attributions[y]&&u.push(y);var _=[];this.options.prefix&&_.push(this.options.prefix),u.length&&_.push(u.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});kt.mergeOptions({attributionControl:!0}),kt.addInitHook(function(){this.options.attributionControl&&new nc().addTo(this)});var rc=function(u){return new nc(u)};oi.Layers=il,oi.Zoom=Gs,oi.Scale=bu,oi.Attribution=nc,Ui.layers=vu,Ui.zoom=Kd,Ui.scale=al,Ui.attribution=rc;var aa=ie.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});aa.addTo=function(u,y){return u.addHandler(y,this),this};var Wd={Events:X},Ua=Qe.touch?"touchstart mousedown":"mousedown",$a=re.extend({options:{clickTolerance:3},initialize:function(u,y,_,O){T(this,O),this._element=u,this._dragStartTarget=y||u,this._preventOutline=_},enable:function(){this._enabled||(ut(this._dragStartTarget,Ua,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($a._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,Ua,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!hs(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){$a._dragging===this&&this.finishDrag();return}if(!($a._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&($a._dragging=this,this._preventOutline&&ia(this._element),qs(),_i(),!this._moving)){this.fire("down");var y=u.touches?u.touches[0]:u,_=La(this._element);this._startPoint=new ee(y.clientX,y.clientY),this._startPos=ta(this._element),this._parentScale=ai(_);var O=u.type==="mousedown";ut(document,O?"mousemove":"touchmove",this._onMove,this),ut(document,O?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var y=u.touches&&u.touches.length===1?u.touches[0]:u,_=new ee(y.clientX,y.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,me(u),this._moved||(this.fire("dragstart"),this._moved=!0,et(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),mn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zt(document,"mousemove touchmove",this._onMove,this),Zt(document,"mouseup touchend touchcancel",this._onUp,this),na(),rr();var y=this._moved&&this._moving;this._moving=!1,$a._dragging=!1,y&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function _u(u,y,_){var O,U=[1,4,2,8],Z,se,ye,Te,ke,Xe,lt,jt;for(Z=0,Xe=u.length;Z<Xe;Z++)u[Z]._code=Ee(u[Z],y);for(ye=0;ye<4;ye++){for(lt=U[ye],O=[],Z=0,Xe=u.length,se=Xe-1;Z<Xe;se=Z++)Te=u[Z],ke=u[se],Te._code&lt?ke._code&lt||(jt=ve(ke,Te,lt,y,_),jt._code=Ee(jt,y),O.push(jt)):(ke._code&lt&&(jt=ve(ke,Te,lt,y,_),jt._code=Ee(jt,y),O.push(jt)),O.push(Te));u=O}return u}function wu(u,y){var _,O,U,Z,se,ye,Te,ke,Xe;if(!u||u.length===0)throw new Error("latlngs not passed");Qt(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var lt=Ce([0,0]),jt=fe(u),Hr=jt.getNorthWest().distanceTo(jt.getSouthWest())*jt.getNorthEast().distanceTo(jt.getNorthWest());Hr<1700&&(lt=ic(u));var cr=u.length,oa=[];for(_=0;_<cr;_++){var on=Ce(u[_]);oa.push(y.project(Ce([on.lat-lt.lat,on.lng-lt.lng])))}for(ye=Te=ke=0,_=0,O=cr-1;_<cr;O=_++)U=oa[_],Z=oa[O],se=U.y*Z.x-Z.y*U.x,Te+=(U.x+Z.x)*se,ke+=(U.y+Z.y)*se,ye+=se*3;ye===0?Xe=oa[0]:Xe=[Te/ye,ke/ye];var ln=y.unproject(oe(Xe));return Ce([ln.lat+lt.lat,ln.lng+lt.lng])}function ic(u){for(var y=0,_=0,O=0,U=0;U<u.length;U++){var Z=Ce(u[U]);y+=Z.lat,_+=Z.lng,O++}return Ce([y/O,_/O])}var bo={__proto__:null,clipPolygon:_u,polygonCenter:wu,centroid:ic};function li(u,y){if(!y||!u.length)return u.slice();var _=y*y;return u=M(u,_),u=Ks(u,_),u}function Su(u,y,_){return Math.sqrt(_t(u,y,_,!0))}function Zd(u,y,_){return _t(u,y,_)}function Ks(u,y){var _=u.length,O=typeof Uint8Array<"u"?Uint8Array:Array,U=new O(_);U[0]=U[_-1]=1,x(u,U,y,0,_-1);var Z,se=[];for(Z=0;Z<_;Z++)U[Z]&&se.push(u[Z]);return se}function x(u,y,_,O,U){var Z=0,se,ye,Te;for(ye=O+1;ye<=U-1;ye++)Te=_t(u[ye],u[O],u[U],!0),Te>Z&&(se=ye,Z=Te);Z>_&&(y[se]=1,x(u,y,_,O,se),x(u,y,_,se,U))}function M(u,y){for(var _=[u[0]],O=1,U=0,Z=u.length;O<Z;O++)Ke(u[O],u[U])>y&&(_.push(u[O]),U=O);return U<Z-1&&_.push(u[Z-1]),_}var G;function J(u,y,_,O,U){var Z=O?G:Ee(u,_),se=Ee(y,_),ye,Te,ke;for(G=se;;){if(!(Z|se))return[u,y];if(Z&se)return!1;ye=Z||se,Te=ve(u,y,ye,_,U),ke=Ee(Te,_),ye===Z?(u=Te,Z=ke):(y=Te,se=ke)}}function ve(u,y,_,O,U){var Z=y.x-u.x,se=y.y-u.y,ye=O.min,Te=O.max,ke,Xe;return _&8?(ke=u.x+Z*(Te.y-u.y)/se,Xe=Te.y):_&4?(ke=u.x+Z*(ye.y-u.y)/se,Xe=ye.y):_&2?(ke=Te.x,Xe=u.y+se*(Te.x-u.x)/Z):_&1&&(ke=ye.x,Xe=u.y+se*(ye.x-u.x)/Z),new ee(ke,Xe,U)}function Ee(u,y){var _=0;return u.x<y.min.x?_|=1:u.x>y.max.x&&(_|=2),u.y<y.min.y?_|=4:u.y>y.max.y&&(_|=8),_}function Ke(u,y){var _=y.x-u.x,O=y.y-u.y;return _*_+O*O}function _t(u,y,_,O){var U=y.x,Z=y.y,se=_.x-U,ye=_.y-Z,Te=se*se+ye*ye,ke;return Te>0&&(ke=((u.x-U)*se+(u.y-Z)*ye)/Te,ke>1?(U=_.x,Z=_.y):ke>0&&(U+=se*ke,Z+=ye*ke)),se=u.x-U,ye=u.y-Z,O?se*se+ye*ye:new ee(U,Z)}function Qt(u){return!R(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function Jt(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(u)}function Nn(u,y){var _,O,U,Z,se,ye,Te,ke;if(!u||u.length===0)throw new Error("latlngs not passed");Qt(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Xe=Ce([0,0]),lt=fe(u),jt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());jt<1700&&(Xe=ic(u));var Hr=u.length,cr=[];for(_=0;_<Hr;_++){var oa=Ce(u[_]);cr.push(y.project(Ce([oa.lat-Xe.lat,oa.lng-Xe.lng])))}for(_=0,O=0;_<Hr-1;_++)O+=cr[_].distanceTo(cr[_+1])/2;if(O===0)ke=cr[0];else for(_=0,Z=0;_<Hr-1;_++)if(se=cr[_],ye=cr[_+1],U=se.distanceTo(ye),Z+=U,Z>O){Te=(Z-O)/U,ke=[ye.x-Te*(ye.x-se.x),ye.y-Te*(ye.y-se.y)];break}var on=y.unproject(oe(ke));return Ce([on.lat+Xe.lat,on.lng+Xe.lng])}var xa={__proto__:null,simplify:li,pointToSegmentDistance:Su,closestPointOnSegment:Zd,clipSegment:J,_getEdgeIntersection:ve,_getBitCode:Ee,_sqClosestPointOnSegment:_t,isFlat:Qt,_flat:Jt,polylineCenter:Nn},_a={project:function(u){return new ee(u.lng,u.lat)},unproject:function(u){return new xe(u.y,u.x)},bounds:new Q([-180,-90],[180,90])},sa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var y=Math.PI/180,_=this.R,O=u.lat*y,U=this.R_MINOR/_,Z=Math.sqrt(1-U*U),se=Z*Math.sin(O),ye=Math.tan(Math.PI/4-O/2)/Math.pow((1-se)/(1+se),Z/2);return O=-_*Math.log(Math.max(ye,1e-10)),new ee(u.lng*y*_,O)},unproject:function(u){for(var y=180/Math.PI,_=this.R,O=this.R_MINOR/_,U=Math.sqrt(1-O*O),Z=Math.exp(-u.y/_),se=Math.PI/2-2*Math.atan(Z),ye=0,Te=.1,ke;ye<15&&Math.abs(Te)>1e-7;ye++)ke=U*Math.sin(se),ke=Math.pow((1-ke)/(1+ke),U/2),Te=Math.PI/2-2*Math.atan(Z*ke)-se,se+=Te;return new xe(se*y,u.x*y/_)}},Fa={__proto__:null,LonLat:_a,Mercator:sa,SphericalMercator:Be},sl=i({},we,{code:"EPSG:3395",projection:sa,transformation:(function(){var u=.5/(Math.PI*sa.R);return be(u,.5,-u,.5)})()}),ol=i({},we,{code:"EPSG:4326",projection:_a,transformation:be(1/180,1,-1/180,.5)}),ac=i({},Oe,{projection:_a,transformation:be(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,y){var _=y.lng-u.lng,O=y.lat-u.lat;return Math.sqrt(_*_+O*O)},infinite:!0});Oe.Earth=we,Oe.EPSG3395=sl,Oe.EPSG3857=Me,Oe.EPSG900913=Pe,Oe.EPSG4326=ol,Oe.Simple=ac;var qa=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var y=u.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var _=this.getEvents();y.on(_,this),this.once("remove",function(){y.off(_,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});kt.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var y=d(u);return this._layers[y]?this:(this._layers[y]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var y=d(u);return this._layers[y]?(this._loaded&&u.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,y){for(var _ in this._layers)u.call(y,this._layers[_]);return this},_addLayers:function(u){u=u?R(u)?u:[u]:[];for(var y=0,_=u.length;y<_;y++)this.addLayer(u[y])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var y=d(u);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,y=-1/0,_=this._getZoomSpan();for(var O in this._zoomBoundLayers){var U=this._zoomBoundLayers[O].options;u=U.minZoom===void 0?u:Math.min(u,U.minZoom),y=U.maxZoom===void 0?y:Math.max(y,U.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=u===1/0?void 0:u,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sc=qa.extend({initialize:function(u,y){T(this,y),this._layers={};var _,O;if(u)for(_=0,O=u.length;_<O;_++)this.addLayer(u[_])},addLayer:function(u){var y=this.getLayerId(u);return this._layers[y]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var y=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(u){var y=typeof u=="number"?u:this.getLayerId(u);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var y=Array.prototype.slice.call(arguments,1),_,O;for(_ in this._layers)O=this._layers[_],O[u]&&O[u].apply(O,y);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,y){for(var _ in this._layers)u.call(y,this._layers[_]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),A_=function(u,y){return new sc(u,y)},ms=sc.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),sc.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),sc.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new ce;for(var y in this._layers){var _=this._layers[y];u.extend(_.getBounds?_.getBounds():_.getLatLng())}return u}}),by=function(u,y){return new ms(u,y)},gs=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){T(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,y){var _=this._getIconUrl(u);if(!_){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var O=this._createImg(_,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(O,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),O},_setIconStyles:function(u,y){var _=this.options,O=_[y+"Size"];typeof O=="number"&&(O=[O,O]);var U=oe(O),Z=oe(y==="shadow"&&_.shadowAnchor||_.iconAnchor||U&&U.divideBy(2,!0));u.className="leaflet-marker-"+y+" "+(_.className||""),Z&&(u.style.marginLeft=-Z.x+"px",u.style.marginTop=-Z.y+"px"),U&&(u.style.width=U.x+"px",u.style.height=U.y+"px")},_createImg:function(u,y){return y=y||document.createElement("img"),y.src=u,y},_getIconUrl:function(u){return Qe.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function Tu(u){return new gs(u)}var Au=gs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Au.imagePath!="string"&&(Au.imagePath=this._detectIconPath()),(this.options.imagePath||Au.imagePath)+gs.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var y=function(_,O,U){var Z=O.exec(_);return Z&&Z[U]};return u=y(u,/^url\((['"])?(.+)\1\)$/,2),u&&y(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Dt("div","leaflet-default-icon-path",document.body),y=fs(u,"background-image")||fs(u,"backgroundImage");if(document.body.removeChild(u),y=this._stripUrl(y),y)return y;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Eu=aa.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new $a(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),et(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var y=this._marker,_=y._map,O=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,Z=ta(y._icon),se=_.getPixelBounds(),ye=_.getPixelOrigin(),Te=ae(se.min._subtract(ye).add(U),se.max._subtract(ye).subtract(U));if(!Te.contains(Z)){var ke=oe((Math.max(Te.max.x,Z.x)-Te.max.x)/(se.max.x-Te.max.x)-(Math.min(Te.min.x,Z.x)-Te.min.x)/(se.min.x-Te.min.x),(Math.max(Te.max.y,Z.y)-Te.max.y)/(se.max.y-Te.max.y)-(Math.min(Te.min.y,Z.y)-Te.min.y)/(se.min.y-Te.min.y)).multiplyBy(O);_.panBy(ke,{animate:!1}),this._draggable._newPos._add(ke),this._draggable._startPos._add(ke),mn(y._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=q(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,u)))},_onDrag:function(u){var y=this._marker,_=y._shadow,O=ta(y._icon),U=y._map.layerPointToLatLng(O);_&&mn(_,O),y._latlng=U,u.latlng=U,u.oldLatLng=this._oldLatLng,y.fire("move",u).fire("drag",u)},_onDragEnd:function(u){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),Pu=qa.extend({options:{icon:new Au,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,y){T(this,y),this._latlng=Ce(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var y=this._latlng;return this._latlng=Ce(u),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=u.icon.createIcon(this._icon),O=!1;_!==this._icon&&(this._icon&&this._removeIcon(),O=!0,u.title&&(_.title=u.title),_.tagName==="IMG"&&(_.alt=u.alt||"")),et(_,y),u.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(_,"focus",this._panOnFocus,this);var U=u.icon.createShadow(this._shadow),Z=!1;U!==this._shadow&&(this._removeShadow(),Z=!0),U&&(et(U,y),U.alt=""),this._shadow=U,u.opacity<1&&this._updateOpacity(),O&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&Z&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&mn(this._icon,u),this._shadow&&mn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var y=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Eu)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Eu(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Sn(this._icon,u),this._shadow&&Sn(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var y=this.options.icon.options,_=y.iconSize?oe(y.iconSize):oe(0,0),O=y.iconAnchor?oe(y.iconAnchor):oe(0,0);u.panInside(this._latlng,{paddingTopLeft:O,paddingBottomRight:_.subtract(O)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xy(u,y){return new Pu(u,y)}var ys=qa.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return T(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oc=ys.extend({options:{fill:!0,radius:10},initialize:function(u,y){T(this,y),this._latlng=Ce(u),this._radius=this.options.radius},setLatLng:function(u){var y=this._latlng;return this._latlng=Ce(u),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var y=u&&u.radius||this._radius;return ys.prototype.setStyle.call(this,u),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,y=this._radiusY||u,_=this._clickTolerance(),O=[u+_,y+_];this._pxBounds=new Q(this._point.subtract(O),this._point.add(O))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _y(u,y){return new oc(u,y)}var Yd=oc.extend({initialize:function(u,y,_){if(typeof y=="number"&&(y=i({},_,{radius:y})),T(this,y),this._latlng=Ce(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:ys.prototype.setStyle,_project:function(){var u=this._latlng.lng,y=this._latlng.lat,_=this._map,O=_.options.crs;if(O.distance===we.distance){var U=Math.PI/180,Z=this._mRadius/we.R/U,se=_.project([y+Z,u]),ye=_.project([y-Z,u]),Te=se.add(ye).divideBy(2),ke=_.unproject(Te).lat,Xe=Math.acos((Math.cos(Z*U)-Math.sin(y*U)*Math.sin(ke*U))/(Math.cos(y*U)*Math.cos(ke*U)))/U;(isNaN(Xe)||Xe===0)&&(Xe=Z/Math.cos(Math.PI/180*y)),this._point=Te.subtract(_.getPixelOrigin()),this._radius=isNaN(Xe)?0:Te.x-_.project([ke,u-Xe]).x,this._radiusY=Te.y-se.y}else{var lt=O.unproject(O.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(lt).x}this._updateBounds()}});function wy(u,y,_){return new Yd(u,y,_)}var Ws=ys.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,y){T(this,y),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var y=1/0,_=null,O=_t,U,Z,se=0,ye=this._parts.length;se<ye;se++)for(var Te=this._parts[se],ke=1,Xe=Te.length;ke<Xe;ke++){U=Te[ke-1],Z=Te[ke];var lt=O(u,U,Z,!0);lt<y&&(y=lt,_=O(u,U,Z))}return _&&(_.distance=Math.sqrt(y)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,y){return y=y||this._defaultShape(),u=Ce(u),y.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new ce,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var y=[],_=Qt(u),O=0,U=u.length;O<U;O++)_?(y[O]=Ce(u[O]),this._bounds.extend(y[O])):y[O]=this._convertLatLngs(u[O]);return y},_project:function(){var u=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),y=new ee(u,u);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(u,y,_){var O=u[0]instanceof xe,U=u.length,Z,se;if(O){for(se=[],Z=0;Z<U;Z++)se[Z]=this._map.latLngToLayerPoint(u[Z]),_.extend(se[Z]);y.push(se)}else for(Z=0;Z<U;Z++)this._projectLatlngs(u[Z],y,_)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,_,O,U,Z,se,ye,Te;for(_=0,U=0,Z=this._rings.length;_<Z;_++)for(Te=this._rings[_],O=0,se=Te.length;O<se-1;O++)ye=J(Te[O],Te[O+1],u,O,!0),ye&&(y[U]=y[U]||[],y[U].push(ye[0]),(ye[1]!==Te[O+1]||O===se-2)&&(y[U].push(ye[1]),U++))}},_simplifyPoints:function(){for(var u=this._parts,y=this.options.smoothFactor,_=0,O=u.length;_<O;_++)u[_]=li(u[_],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,y){var _,O,U,Z,se,ye,Te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(_=0,Z=this._parts.length;_<Z;_++)for(ye=this._parts[_],O=0,se=ye.length,U=se-1;O<se;U=O++)if(!(!y&&O===0)&&Su(u,ye[U],ye[O])<=Te)return!0;return!1}});function E_(u,y){return new Ws(u,y)}Ws._flat=Jt;var lc=Ws.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var y=Ws.prototype._convertLatLngs.call(this,u),_=y.length;return _>=2&&y[0]instanceof xe&&y[0].equals(y[_-1])&&y.pop(),y},_setLatLngs:function(u){Ws.prototype._setLatLngs.call(this,u),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,y=this.options.weight,_=new ee(y,y);if(u=new Q(u.min.subtract(_),u.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var O=0,U=this._rings.length,Z;O<U;O++)Z=_u(this._rings[O],u,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var y=!1,_,O,U,Z,se,ye,Te,ke;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(Z=0,Te=this._parts.length;Z<Te;Z++)for(_=this._parts[Z],se=0,ke=_.length,ye=ke-1;se<ke;ye=se++)O=_[se],U=_[ye],O.y>u.y!=U.y>u.y&&u.x<(U.x-O.x)*(u.y-O.y)/(U.y-O.y)+O.x&&(y=!y);return y||Ws.prototype._containsPoint.call(this,u,!0)}});function P_(u,y){return new lc(u,y)}var Zs=ms.extend({initialize:function(u,y){T(this,y),this._layers={},u&&this.addData(u)},addData:function(u){var y=R(u)?u:u.features,_,O,U;if(y){for(_=0,O=y.length;_<O;_++)U=y[_],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var Z=this.options;if(Z.filter&&!Z.filter(u))return this;var se=ci(u,Z);return se?(se.feature=Jd(u),se.defaultOptions=se.options,this.resetStyle(se),Z.onEachFeature&&Z.onEachFeature(u,se),this.addLayer(se)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=i({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(y){this._setLayerStyle(y,u)},this)},_setLayerStyle:function(u,y){u.setStyle&&(typeof y=="function"&&(y=y(u.feature)),u.setStyle(y))}});function ci(u,y){var _=u.type==="Feature"?u.geometry:u,O=_?_.coordinates:null,U=[],Z=y&&y.pointToLayer,se=y&&y.coordsToLatLng||Xd,ye,Te,ke,Xe;if(!O&&!_)return null;switch(_.type){case"Point":return ye=se(O),cc(Z,u,ye,y);case"MultiPoint":for(ke=0,Xe=O.length;ke<Xe;ke++)ye=se(O[ke]),U.push(cc(Z,u,ye,y));return new ms(U);case"LineString":case"MultiLineString":return Te=Ou(O,_.type==="LineString"?0:1,se),new Ws(Te,y);case"Polygon":case"MultiPolygon":return Te=Ou(O,_.type==="Polygon"?1:2,se),new lc(Te,y);case"GeometryCollection":for(ke=0,Xe=_.geometries.length;ke<Xe;ke++){var lt=ci({geometry:_.geometries[ke],type:"Feature",properties:u.properties},y);lt&&U.push(lt)}return new ms(U);case"FeatureCollection":for(ke=0,Xe=_.features.length;ke<Xe;ke++){var jt=ci(_.features[ke],y);jt&&U.push(jt)}return new ms(U);default:throw new Error("Invalid GeoJSON object.")}}function cc(u,y,_,O){return u?u(y,_):new Pu(_,O&&O.markersInheritOptions&&O)}function Xd(u){return new xe(u[1],u[0],u[2])}function Ou(u,y,_){for(var O=[],U=0,Z=u.length,se;U<Z;U++)se=y?Ou(u[U],y-1,_):(_||Xd)(u[U]),O.push(se);return O}function Qd(u,y){return u=Ce(u),u.alt!==void 0?[b(u.lng,y),b(u.lat,y),b(u.alt,y)]:[b(u.lng,y),b(u.lat,y)]}function Cu(u,y,_,O){for(var U=[],Z=0,se=u.length;Z<se;Z++)U.push(y?Cu(u[Z],Qt(u[Z])?0:y-1,_,O):Qd(u[Z],O));return!y&&_&&U.length>0&&U.push(U[0].slice()),U}function xo(u,y){return u.feature?i({},u.feature,{geometry:y}):Jd(y)}function Jd(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var _o={toGeoJSON:function(u){return xo(this,{type:"Point",coordinates:Qd(this.getLatLng(),u)})}};Pu.include(_o),Yd.include(_o),oc.include(_o),Ws.include({toGeoJSON:function(u){var y=!Qt(this._latlngs),_=Cu(this._latlngs,y?1:0,!1,u);return xo(this,{type:(y?"Multi":"")+"LineString",coordinates:_})}}),lc.include({toGeoJSON:function(u){var y=!Qt(this._latlngs),_=y&&!Qt(this._latlngs[0]),O=Cu(this._latlngs,_?2:y?1:0,!0,u);return y||(O=[O]),xo(this,{type:(_?"Multi":"")+"Polygon",coordinates:O})}}),sc.include({toMultiPoint:function(u){var y=[];return this.eachLayer(function(_){y.push(_.toGeoJSON(u).geometry.coordinates)}),xo(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(u){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(u);var _=y==="GeometryCollection",O=[];return this.eachLayer(function(U){if(U.toGeoJSON){var Z=U.toGeoJSON(u);if(_)O.push(Z.geometry);else{var se=Jd(Z);se.type==="FeatureCollection"?O.push.apply(O,se.features):O.push(se)}}}),_?xo(this,{geometries:O,type:"GeometryCollection"}):{type:"FeatureCollection",features:O}}});function ef(u,y){return new Zs(u,y)}var Nu=ef,uc=qa.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,y,_){this._url=u,this._bounds=fe(y),T(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&wn(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=fe(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",y=this._image=u?this._url:Dt("img");if(et(y,"leaflet-image-layer"),this._zoomAnimated&&et(y,"leaflet-zoom-animated"),this.options.className&&et(y,this.options.className),y.onselectstart=g,y.onmousemove=g,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(u){var y=this._map.getZoomScale(u.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Bi(this._image,_,y)},_reset:function(){var u=this._image,y=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=y.getSize();mn(u,y.min),u.style.width=_.x+"px",u.style.height=_.y+"px"},_updateOpacity:function(){Sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),Sy=function(u,y,_){return new uc(u,y,_)},wo=uc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",y=this._image=u?this._url:Dt("video");if(et(y,"leaflet-image-layer"),this._zoomAnimated&&et(y,"leaflet-zoom-animated"),this.options.className&&et(y,this.options.className),y.onselectstart=g,y.onmousemove=g,y.onloadeddata=o(this.fire,this,"load"),u){for(var _=y.getElementsByTagName("source"),O=[],U=0;U<_.length;U++)O.push(_[U].src);this._url=_.length>0?O:[y.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var se=Dt("source");se.src=this._url[Z],y.appendChild(se)}}});function dc(u,y,_){return new wo(u,y,_)}var tf=uc.extend({_initImage:function(){var u=this._image=this._url;et(u,"leaflet-image-layer"),this._zoomAnimated&&et(u,"leaflet-zoom-animated"),this.options.className&&et(u,this.options.className),u.onselectstart=g,u.onmousemove=g}});function Ty(u,y,_){return new tf(u,y,_)}var ui=qa.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,y){u&&(u instanceof xe||R(u))?(this._latlng=Ce(u),T(this,y)):(T(this,u),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Sn(this._container,1),this.bringToFront(),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Sn(this._container,0),this._removeTimeout=setTimeout(o(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=Ce(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wn(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(u){var y=this._source;if(!y._map)return!1;if(y instanceof ms){y=null;var _=this._source._layers;for(var O in _)if(_[O]._map){y=_[O];break}if(!y)return!1;this._source=y}if(!u)if(y.getCenter)u=y.getCenter();else if(y.getLatLng)u=y.getLatLng();else if(y.getBounds)u=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")u.innerHTML=y;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),y=oe(this.options.offset),_=this._getAnchor();this._zoomAnimated?mn(this._container,u.add(_)):y=y.add(u).add(_);var O=this._containerBottom=-y.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=O+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});kt.include({_initOverlay:function(u,y,_,O){var U=y;return U instanceof u||(U=new u(O).setContent(y)),_&&U.setLatLng(_),U}}),qa.include({_initOverlay:function(u,y,_,O){var U=_;return U instanceof u?(T(U,O),U._source=this):(U=y&&!O?y:new u(O,this),U.setContent(_)),U}});var ju=ui.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,ui.prototype.openOn.call(this,u)},onAdd:function(u){ui.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ys||this._source.on("preclick",zt))},onRemove:function(u){ui.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ys||this._source.off("preclick",zt))},getEvents:function(){var u=ui.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",y=this._container=Dt("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Dt("div",u+"-content-wrapper",y);if(this._contentNode=Dt("div",u+"-content",_),te(y),zi(this._contentNode),ut(y,"contextmenu",zt),this._tipContainer=Dt("div",u+"-tip-container",y),this._tip=Dt("div",u+"-tip",this._tipContainer),this.options.closeButton){var O=this._closeButton=Dt("a",u+"-close-button",y);O.setAttribute("role","button"),O.setAttribute("aria-label","Close popup"),O.href="#close",O.innerHTML='<span aria-hidden="true">&#215;</span>',ut(O,"click",function(U){me(U),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,y=u.style;y.width="",y.whiteSpace="nowrap";var _=u.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),y.width=_+1+"px",y.whiteSpace="",y.height="";var O=u.offsetHeight,U=this.options.maxHeight,Z="leaflet-popup-scrolled";U&&O>U?(y.height=U+"px",et(u,Z)):sn(u,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var y=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),_=this._getAnchor();mn(this._container,y.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,y=parseInt(fs(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+y,O=this._containerWidth,U=new ee(this._containerLeft,-_-this._containerBottom);U._add(ta(this._container));var Z=u.layerPointToContainerPoint(U),se=oe(this.options.autoPanPadding),ye=oe(this.options.autoPanPaddingTopLeft||se),Te=oe(this.options.autoPanPaddingBottomRight||se),ke=u.getSize(),Xe=0,lt=0;Z.x+O+Te.x>ke.x&&(Xe=Z.x+O-ke.x+Te.x),Z.x-Xe-ye.x<0&&(Xe=Z.x-ye.x),Z.y+_+Te.y>ke.y&&(lt=Z.y+_-ke.y+Te.y),Z.y-lt-ye.y<0&&(lt=Z.y-ye.y),(Xe||lt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([Xe,lt]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ay=function(u,y){return new ju(u,y)};kt.mergeOptions({closePopupOnClick:!0}),kt.include({openPopup:function(u,y,_){return this._initOverlay(ju,u,y,_).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),qa.include({bindPopup:function(u,y){return this._popup=this._initOverlay(ju,this._popup,u,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ms||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){qe(u);var y=u.layer||u.target;if(this._popup._source===y&&!(y instanceof ys)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=y,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var Iu=ui.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){ui.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){ui.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=ui.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",y=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Dt("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var y,_,O=this._map,U=this._container,Z=O.latLngToContainerPoint(O.getCenter()),se=O.layerPointToContainerPoint(u),ye=this.options.direction,Te=U.offsetWidth,ke=U.offsetHeight,Xe=oe(this.options.offset),lt=this._getAnchor();ye==="top"?(y=Te/2,_=ke):ye==="bottom"?(y=Te/2,_=0):ye==="center"?(y=Te/2,_=ke/2):ye==="right"?(y=0,_=ke/2):ye==="left"?(y=Te,_=ke/2):se.x<Z.x?(ye="right",y=0,_=ke/2):(ye="left",y=Te+(Xe.x+lt.x)*2,_=ke/2),u=u.subtract(oe(y,_,!0)).add(Xe).add(lt),sn(U,"leaflet-tooltip-right"),sn(U,"leaflet-tooltip-left"),sn(U,"leaflet-tooltip-top"),sn(U,"leaflet-tooltip-bottom"),et(U,"leaflet-tooltip-"+ye),mn(U,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Sn(this._container,u)},_animateZoom:function(u){var y=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(y)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),O_=function(u,y){return new Iu(u,y)};kt.include({openTooltip:function(u,y,_){return this._initOverlay(Iu,u,y,_).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),qa.include({bindTooltip:function(u,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Iu,this._tooltip,u,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var y=u?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[y](_),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ms||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var y=typeof u.getElement=="function"&&u.getElement();y&&(ut(y,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),ut(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var y=typeof u.getElement=="function"&&u.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var y=u.latlng,_,O;this._tooltip.options.sticky&&u.originalEvent&&(_=this._map.mouseEventToContainerPoint(u.originalEvent),O=this._map.containerPointToLayerPoint(_),y=this._map.layerPointToLatLng(O)),this._tooltip.setLatLng(y)}});var Ey=gs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var y=u&&u.tagName==="DIV"?u:document.createElement("div"),_=this.options;if(_.html instanceof Element?(kn(y),y.appendChild(_.html)):y.innerHTML=_.html!==!1?_.html:"",_.bgPos){var O=oe(_.bgPos);y.style.backgroundPosition=-O.x+"px "+-O.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function C_(u){return new Ey(u)}gs.Default=Au;var fc=qa.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){T(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Lt(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ee?u:new ee(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var y=this.getPane().children,_=-u(-1/0,1/0),O=0,U=y.length,Z;O<U;O++)Z=y[O].style.zIndex,y[O]!==this._container&&Z&&(_=u(_,+Z));isFinite(_)&&(this.options.zIndex=_+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Qe.ielt9){Sn(this._container,this.options.opacity);var u=+new Date,y=!1,_=!1;for(var O in this._tiles){var U=this._tiles[O];if(!(!U.current||!U.loaded)){var Z=Math.min(1,(u-U.loaded)/200);Sn(U.el,Z),Z<1?y=!0:(U.active?_=!0:this._onOpaqueTile(U),U.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),y&&(H(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,y=this.options.maxZoom;if(u!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===u?(this._levels[_].el.style.zIndex=y-Math.abs(u-_),this._onUpdateLevel(_)):(Lt(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var O=this._levels[u],U=this._map;return O||(O=this._levels[u]={},O.el=Dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),O.el.style.zIndex=y,O.origin=U.project(U.unproject(U.getPixelOrigin()),u).round(),O.zoom=u,this._setZoomTransform(O,U.getCenter(),U.getZoom()),g(O.el.offsetWidth),this._onCreateLevel(O)),this._level=O,O}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var u,y,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)y=this._tiles[u],y.retain=y.current;for(u in this._tiles)if(y=this._tiles[u],y.current&&!y.active){var O=y.coords;this._retainParent(O.x,O.y,O.z,O.z-5)||this._retainChildren(O.x,O.y,O.z,O.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var y in this._tiles)this._tiles[y].coords.z===u&&this._removeTile(y)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Lt(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,y,_,O){var U=Math.floor(u/2),Z=Math.floor(y/2),se=_-1,ye=new ee(+U,+Z);ye.z=+se;var Te=this._tileCoordsToKey(ye),ke=this._tiles[Te];return ke&&ke.active?(ke.retain=!0,!0):(ke&&ke.loaded&&(ke.retain=!0),se>O?this._retainParent(U,Z,se,O):!1)},_retainChildren:function(u,y,_,O){for(var U=2*u;U<2*u+2;U++)for(var Z=2*y;Z<2*y+2;Z++){var se=new ee(U,Z);se.z=_+1;var ye=this._tileCoordsToKey(se),Te=this._tiles[ye];if(Te&&Te.active){Te.retain=!0;continue}else Te&&Te.loaded&&(Te.retain=!0);_+1<O&&this._retainChildren(U,Z,_+1,O)}},_resetView:function(u){var y=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var y=this.options;return y.minNativeZoom!==void 0&&u<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<u?y.maxNativeZoom:u},_setView:function(u,y,_,O){var U=Math.round(y);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var Z=this.options.updateWhenZooming&&U!==this._tileZoom;(!O||Z)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(u),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(u,y)},_setZoomTransforms:function(u,y){for(var _ in this._levels)this._setZoomTransform(this._levels[_],u,y)},_setZoomTransform:function(u,y,_){var O=this._map.getZoomScale(_,u.zoom),U=u.origin.multiplyBy(O).subtract(this._map._getNewPixelOrigin(y,_)).round();Qe.any3d?Bi(u.el,U,O):mn(u.el,U)},_resetGrid:function(){var u=this._map,y=u.options.crs,_=this._tileSize=this.getTileSize(),O=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,y.wrapLng[0]],O).x/_.x),Math.ceil(u.project([0,y.wrapLng[1]],O).x/_.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([y.wrapLat[0],0],O).y/_.x),Math.ceil(u.project([y.wrapLat[1],0],O).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var y=this._map,_=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),O=y.getZoomScale(_,this._tileZoom),U=y.project(u,this._tileZoom).floor(),Z=y.getSize().divideBy(O*2);return new Q(U.subtract(Z),U.add(Z))},_update:function(u){var y=this._map;if(y){var _=this._clampZoom(y.getZoom());if(u===void 0&&(u=y.getCenter()),this._tileZoom!==void 0){var O=this._getTiledPixelBounds(u),U=this._pxBoundsToTileRange(O),Z=U.getCenter(),se=[],ye=this.options.keepBuffer,Te=new Q(U.getBottomLeft().subtract([ye,-ye]),U.getTopRight().add([ye,-ye]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ke in this._tiles){var Xe=this._tiles[ke].coords;(Xe.z!==this._tileZoom||!Te.contains(new ee(Xe.x,Xe.y)))&&(this._tiles[ke].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(u,_);return}for(var lt=U.min.y;lt<=U.max.y;lt++)for(var jt=U.min.x;jt<=U.max.x;jt++){var Hr=new ee(jt,lt);if(Hr.z=this._tileZoom,!!this._isValidTile(Hr)){var cr=this._tiles[this._tileCoordsToKey(Hr)];cr?cr.current=!0:se.push(Hr)}}if(se.sort(function(on,ln){return on.distanceTo(Z)-ln.distanceTo(Z)}),se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var oa=document.createDocumentFragment();for(jt=0;jt<se.length;jt++)this._addTile(se[jt],oa);this._level.el.appendChild(oa)}}}},_isValidTile:function(u){var y=this._map.options.crs;if(!y.infinite){var _=this._globalTileRange;if(!y.wrapLng&&(u.x<_.min.x||u.x>_.max.x)||!y.wrapLat&&(u.y<_.min.y||u.y>_.max.y))return!1}if(!this.options.bounds)return!0;var O=this._tileCoordsToBounds(u);return fe(this.options.bounds).overlaps(O)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var y=this._map,_=this.getTileSize(),O=u.scaleBy(_),U=O.add(_),Z=y.unproject(O,u.z),se=y.unproject(U,u.z);return[Z,se]},_tileCoordsToBounds:function(u){var y=this._tileCoordsToNwSe(u),_=new ce(y[0],y[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var y=u.split(":"),_=new ee(+y[0],+y[1]);return _.z=+y[2],_},_removeTile:function(u){var y=this._tiles[u];y&&(Lt(y.el),delete this._tiles[u],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){et(u,"leaflet-tile");var y=this.getTileSize();u.style.width=y.x+"px",u.style.height=y.y+"px",u.onselectstart=g,u.onmousemove=g,Qe.ielt9&&this.options.opacity<1&&Sn(u,this.options.opacity)},_addTile:function(u,y){var _=this._getTilePos(u),O=this._tileCoordsToKey(u),U=this.createTile(this._wrapCoords(u),o(this._tileReady,this,u));this._initTile(U),this.createTile.length<2&&q(o(this._tileReady,this,u,null,U)),mn(U,_),this._tiles[O]={el:U,coords:u,current:!0},y.appendChild(U),this.fire("tileloadstart",{tile:U,coords:u})},_tileReady:function(u,y,_){y&&this.fire("tileerror",{error:y,tile:_,coords:u});var O=this._tileCoordsToKey(u);_=this._tiles[O],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Sn(_.el,0),H(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),y||(et(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Qe.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var y=new ee(this._wrapX?p(u.x,this._wrapX):u.x,this._wrapY?p(u.y,this._wrapY):u.y);return y.z=u.z,y},_pxBoundsToTileRange:function(u){var y=this.getTileSize();return new Q(u.min.unscaleBy(y).floor(),u.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function Py(u){return new fc(u)}var So=fc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,y){this._url=u,y=T(this,y),y.detectRetina&&Qe.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,y){return this._url===u&&y===void 0&&(y=!0),this._url=u,y||this.redraw(),this},createTile:function(u,y){var _=document.createElement("img");return ut(_,"load",o(this._tileOnLoad,this,y,_)),ut(_,"error",o(this._tileOnError,this,y,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(u),_},getTileUrl:function(u){var y={r:Qe.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-u.y;this.options.tms&&(y.y=_),y["-y"]=_}return D(this._url,i(y,this.options))},_tileOnLoad:function(u,y){Qe.ielt9?setTimeout(o(u,this,null,y),0):u(null,y)},_tileOnError:function(u,y,_){var O=this.options.errorTileUrl;O&&y.getAttribute("src")!==O&&(y.src=O),u(_,y)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,y=this.options.maxZoom,_=this.options.zoomReverse,O=this.options.zoomOffset;return _&&(u=y-u),u+O},_getSubdomain:function(u){var y=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var u,y;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(y=this._tiles[u].el,y.onload=g,y.onerror=g,!y.complete)){y.src=I;var _=this._tiles[u].coords;Lt(y),delete this._tiles[u],this.fire("tileabort",{tile:y,coords:_})}},_removeTile:function(u){var y=this._tiles[u];if(y)return y.el.setAttribute("src",I),fc.prototype._removeTile.call(this,u)},_tileReady:function(u,y,_){if(!(!this._map||_&&_.getAttribute("src")===I))return fc.prototype._tileReady.call(this,u,y,_)}});function wa(u,y){return new So(u,y)}var Ru=So.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,y){this._url=u;var _=i({},this.defaultWmsParams);for(var O in y)O in this.options||(_[O]=y[O]);y=T(this,y);var U=y.detectRetina&&Qe.retina?2:1,Z=this.getTileSize();_.width=Z.x*U,_.height=Z.y*U,this.wmsParams=_},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,So.prototype.onAdd.call(this,u)},getTileUrl:function(u){var y=this._tileCoordsToNwSe(u),_=this._crs,O=ae(_.project(y[0]),_.project(y[1])),U=O.min,Z=O.max,se=(this._wmsVersion>=1.3&&this._crs===ol?[U.y,U.x,Z.y,Z.x]:[U.x,U.y,Z.x,Z.y]).join(","),ye=So.prototype.getTileUrl.call(this,u);return ye+A(this.wmsParams,ye,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+se},setParams:function(u,y){return i(this.wmsParams,u),y||this.redraw(),this}});function Sa(u,y){return new Ru(u,y)}So.WMS=Ru,wa.wms=Sa;var $i=qa.extend({options:{padding:.1},initialize:function(u){T(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,y){var _=this._map.getZoomScale(y,this._zoom),O=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,y),Z=O.multiplyBy(-_).add(U).subtract(this._map._getNewPixelOrigin(u,y));Qe.any3d?Bi(this._container,Z,_):mn(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,y=this._map.getSize(),_=this._map.containerPointToLayerPoint(y.multiplyBy(-u)).round();this._bounds=new Q(_,_.add(y.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nf=$i.extend({options:{tolerance:0},getEvents:function(){var u=$i.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");ut(u,"mousemove",this._onMouseMove,this),ut(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ut(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Lt(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var y in this._layers)u=this._layers[y],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$i.prototype._update.call(this);var u=this._bounds,y=this._container,_=u.getSize(),O=Qe.retina?2:1;mn(y,u.min),y.width=O*_.x,y.height=O*_.y,y.style.width=_.x+"px",y.style.height=_.y+"px",Qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){$i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var y=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var y=u._order,_=y.next,O=y.prev;_?_.prev=O:this._drawLast=O,O?O.next=_:this._drawFirst=_,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var y=u.options.dashArray.split(/[, ]+/),_=[],O,U;for(U=0;U<y.length;U++){if(O=Number(y[U]),isNaN(O))return;_.push(O)}u.options._dashArray=_}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var y=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(u._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(u._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var y=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,y=this._redrawBounds;if(this._ctx.save(),y){var _=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var O=this._drawFirst;O;O=O.next)u=O.layer,(!y||u._pxBounds&&u._pxBounds.intersects(y))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,y){if(this._drawing){var _,O,U,Z,se=u._parts,ye=se.length,Te=this._ctx;if(ye){for(Te.beginPath(),_=0;_<ye;_++){for(O=0,U=se[_].length;O<U;O++)Z=se[_][O],Te[O?"lineTo":"moveTo"](Z.x,Z.y);y&&Te.closePath()}this._fillStroke(Te,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var y=u._point,_=this._ctx,O=Math.max(Math.round(u._radius),1),U=(Math.max(Math.round(u._radiusY),1)||O)/O;U!==1&&(_.save(),_.scale(1,U)),_.beginPath(),_.arc(y.x,y.y/U,O,0,Math.PI*2,!1),U!==1&&_.restore(),this._fillStroke(_,u)}},_fillStroke:function(u,y){var _=y.options;_.fill&&(u.globalAlpha=_.fillOpacity,u.fillStyle=_.fillColor||_.color,u.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(u.setLineDash&&u.setLineDash(y.options&&y.options._dashArray||[]),u.globalAlpha=_.opacity,u.lineWidth=_.weight,u.strokeStyle=_.color,u.lineCap=_.lineCap,u.lineJoin=_.lineJoin,u.stroke())},_onClick:function(u){for(var y=this._map.mouseEventToLayerPoint(u),_,O,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(y)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(_))&&(O=_);this._fireEvent(O?[O]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,y)}},_handleMouseOut:function(u){var y=this._hoveredLayer;y&&(sn(this._container,"leaflet-interactive"),this._fireEvent([y],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,y){if(!this._mouseHoverThrottled){for(var _,O,U=this._drawFirst;U;U=U.next)_=U.layer,_.options.interactive&&_._containsPoint(y)&&(O=_);O!==this._hoveredLayer&&(this._handleMouseOut(u),O&&(et(this._container,"leaflet-interactive"),this._fireEvent([O],u,"mouseover"),this._hoveredLayer=O)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,y,_){this._map._fireDOMEvent(y,_||y.type,u)},_bringToFront:function(u){var y=u._order;if(y){var _=y.next,O=y.prev;if(_)_.prev=O;else return;O?O.next=_:_&&(this._drawFirst=_),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(u)}},_bringToBack:function(u){var y=u._order;if(y){var _=y.next,O=y.prev;if(O)O.next=_;else return;_?_.prev=O:O&&(this._drawLast=O),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(u)}}});function Mu(u){return Qe.canvas?new nf(u):null}var To=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),pp={_initContainer:function(){this._container=Dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($i.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var y=u._container=To("shape");et(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",u._path=To("path"),y.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var y=u._container;this._container.appendChild(y),u.options.interactive&&u.addInteractiveTarget(y)},_removePath:function(u){var y=u._container;Lt(y),u.removeInteractiveTarget(y),delete this._layers[d(u)]},_updateStyle:function(u){var y=u._stroke,_=u._fill,O=u.options,U=u._container;U.stroked=!!O.stroke,U.filled=!!O.fill,O.stroke?(y||(y=u._stroke=To("stroke")),U.appendChild(y),y.weight=O.weight+"px",y.color=O.color,y.opacity=O.opacity,O.dashArray?y.dashStyle=R(O.dashArray)?O.dashArray.join(" "):O.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=O.lineCap.replace("butt","flat"),y.joinstyle=O.lineJoin):y&&(U.removeChild(y),u._stroke=null),O.fill?(_||(_=u._fill=To("fill")),U.appendChild(_),_.color=O.fillColor||O.color,_.opacity=O.fillOpacity):_&&(U.removeChild(_),u._fill=null)},_updateCircle:function(u){var y=u._point.round(),_=Math.round(u._radius),O=Math.round(u._radiusY||_);this._setPath(u,u._empty()?"M0 0":"AL "+y.x+","+y.y+" "+_+","+O+" 0,"+65535*360)},_setPath:function(u,y){u._path.v=y},_bringToFront:function(u){wn(u._container)},_bringToBack:function(u){Vi(u._container)}},vs=Qe.vml?To:je,hc=$i.extend({_initContainer:function(){this._container=vs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$i.prototype._update.call(this);var u=this._bounds,y=u.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,_.setAttribute("width",y.x),_.setAttribute("height",y.y)),mn(_,u.min),_.setAttribute("viewBox",[u.min.x,u.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(u){var y=u._path=vs("path");u.options.className&&et(y,u.options.className),u.options.interactive&&et(y,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Lt(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var y=u._path,_=u.options;y&&(_.stroke?(y.setAttribute("stroke",_.color),y.setAttribute("stroke-opacity",_.opacity),y.setAttribute("stroke-width",_.weight),y.setAttribute("stroke-linecap",_.lineCap),y.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?y.setAttribute("stroke-dasharray",_.dashArray):y.removeAttribute("stroke-dasharray"),_.dashOffset?y.setAttribute("stroke-dashoffset",_.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),_.fill?(y.setAttribute("fill",_.fillColor||_.color),y.setAttribute("fill-opacity",_.fillOpacity),y.setAttribute("fill-rule",_.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(u,y){this._setPath(u,Fe(u._parts,y))},_updateCircle:function(u){var y=u._point,_=Math.max(Math.round(u._radius),1),O=Math.max(Math.round(u._radiusY),1)||_,U="a"+_+","+O+" 0 1,0 ",Z=u._empty()?"M0 0":"M"+(y.x-_)+","+y.y+U+_*2+",0 "+U+-_*2+",0 ";this._setPath(u,Z)},_setPath:function(u,y){u._path.setAttribute("d",y)},_bringToFront:function(u){wn(u._path)},_bringToBack:function(u){Vi(u._path)}});Qe.vml&&hc.include(pp);function Du(u){return Qe.svg||Qe.vml?new hc(u):null}kt.include({getRenderer:function(u){var y=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var y=this._paneRenderers[u];return y===void 0&&(y=this._createRenderer({pane:u}),this._paneRenderers[u]=y),y},_createRenderer:function(u){return this.options.preferCanvas&&Mu(u)||Du(u)}});var ll=lc.extend({initialize:function(u,y){lc.prototype.initialize.call(this,this._boundsToLatLngs(u),y)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=fe(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function N_(u,y){return new ll(u,y)}hc.create=vs,hc.pointsToPath=Fe,Zs.geometryToLayer=ci,Zs.coordsToLatLng=Xd,Zs.coordsToLatLngs=Ou,Zs.latLngToCoords=Qd,Zs.latLngsToCoords=Cu,Zs.getFeature=xo,Zs.asFeature=Jd,kt.mergeOptions({boxZoom:!0});var Fi=aa.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_i(),qs(),this._startPoint=this._map.mouseEventToContainerPoint(u),ut(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Dt("div","leaflet-zoom-box",this._container),et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var y=new Q(this._point,this._startPoint),_=y.getSize();mn(this._box,y.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Lt(this._box),sn(this._container,"leaflet-crosshair")),rr(),na(),Zt(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});kt.addInitHook("addHandler","boxZoom",Fi),kt.mergeOptions({doubleClickZoom:!0});var rf=aa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var y=this._map,_=y.getZoom(),O=y.options.zoomDelta,U=u.originalEvent.shiftKey?_-O:_+O;y.options.doubleClickZoom==="center"?y.setZoom(U):y.setZoomAround(u.containerPoint,U)}});kt.addInitHook("addHandler","doubleClickZoom",rf),kt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bs=aa.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new $a(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=fe(this._map.options.maxBounds);this._offsetLimit=ae(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var y=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(y),this._prunePositions(y)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,y){return u-(u-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;u.x<y.min.x&&(u.x=this._viscousLimit(u.x,y.min.x)),u.y<y.min.y&&(u.y=this._viscousLimit(u.y,y.min.y)),u.x>y.max.x&&(u.x=this._viscousLimit(u.x,y.max.x)),u.y>y.max.y&&(u.y=this._viscousLimit(u.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,y=Math.round(u/2),_=this._initialWorldOffset,O=this._draggable._newPos.x,U=(O-y+_)%u+y-_,Z=(O+y+_)%u-y-_,se=Math.abs(U+_)<Math.abs(Z+_)?U:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=se},_onDragEnd:function(u){var y=this._map,_=y.options,O=!_.inertia||u.noInertia||this._times.length<2;if(y.fire("dragend",u),O)y.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,se=_.easeLinearity,ye=U.multiplyBy(se/Z),Te=ye.distanceTo([0,0]),ke=Math.min(_.inertiaMaxSpeed,Te),Xe=ye.multiplyBy(ke/Te),lt=ke/(_.inertiaDeceleration*se),jt=Xe.multiplyBy(-lt/2).round();!jt.x&&!jt.y?y.fire("moveend"):(jt=y._limitOffset(jt,y.options.maxBounds),q(function(){y.panBy(jt,{duration:lt,easeLinearity:se,noMoveStart:!0,animate:!0})}))}}});kt.addInitHook("addHandler","dragging",bs),kt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var mp=aa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),ut(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,y=document.documentElement,_=u.scrollTop||y.scrollTop,O=u.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(O,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var y=this._panKeys={},_=this.keyCodes,O,U;for(O=0,U=_.left.length;O<U;O++)y[_.left[O]]=[-1*u,0];for(O=0,U=_.right.length;O<U;O++)y[_.right[O]]=[u,0];for(O=0,U=_.down.length;O<U;O++)y[_.down[O]]=[0,u];for(O=0,U=_.up.length;O<U;O++)y[_.up[O]]=[0,-1*u]},_setZoomDelta:function(u){var y=this._zoomKeys={},_=this.keyCodes,O,U;for(O=0,U=_.zoomIn.length;O<U;O++)y[_.zoomIn[O]]=u;for(O=0,U=_.zoomOut.length;O<U;O++)y[_.zoomOut[O]]=-u},_addHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var y=u.keyCode,_=this._map,O;if(y in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(O=this._panKeys[y],u.shiftKey&&(O=oe(O).multiplyBy(3)),_.options.maxBounds&&(O=_._limitOffset(oe(O),_.options.maxBounds)),_.options.worldCopyJump){var U=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(O)));_.panTo(U)}else _.panBy(O)}else if(y in this._zoomKeys)_.setZoom(_.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;qe(u)}}});kt.addInitHook("addHandler","keyboard",mp),kt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ku=aa.extend({addHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var y=rn(u),_=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var O=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),O),qe(u)},_performZoom:function(){var u=this._map,y=u.getZoom(),_=this._map.options.zoomSnap||0;u._stop();var O=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(O))))/Math.LN2,Z=_?Math.ceil(U/_)*_:U,se=u._limitZoom(y+(this._delta>0?Z:-Z))-y;this._delta=0,this._startTime=null,se&&(u.options.scrollWheelZoom==="center"?u.setZoom(y+se):u.setZoomAround(this._lastMousePos,y+se))}});kt.addInitHook("addHandler","scrollWheelZoom",ku);var cl=600;kt.mergeOptions({tapHold:Qe.touchNative&&Qe.safari&&Qe.mobile,tapTolerance:15});var af=aa.extend({addHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var y=u.touches[0];this._startPos=this._newPos=new ee(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(ut(document,"touchend",me),ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),cl),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){Zt(document,"touchend",me),Zt(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)},_onMove:function(u){var y=u.touches[0];this._newPos=new ee(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,y){var _=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});_._simulated=!0,y.target.dispatchEvent(_)}});kt.addInitHook("addHandler","tapHold",af),kt.mergeOptions({touchZoom:Qe.touch,bounceAtZoomLimits:!0});var gp=aa.extend({addHooks:function(){et(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var y=this._map;if(!(!u.touches||u.touches.length!==2||y._animatingZoom||this._zooming)){var _=y.mouseEventToContainerPoint(u.touches[0]),O=y.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(_.add(O)._divideBy(2))),this._startDist=_.distanceTo(O),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),me(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var y=this._map,_=y.mouseEventToContainerPoint(u.touches[0]),O=y.mouseEventToContainerPoint(u.touches[1]),U=_.distanceTo(O)/this._startDist;if(this._zoom=y.getScaleZoom(U,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&U<1||this._zoom>y.getMaxZoom()&&U>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var Z=_._add(O)._divideBy(2)._subtract(this._centerPoint);if(U===1&&Z.x===0&&Z.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var se=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(se,this,!0),me(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});kt.addInitHook("addHandler","touchZoom",gp),kt.BoxZoom=Fi,kt.DoubleClickZoom=rf,kt.Drag=bs,kt.Keyboard=mp,kt.ScrollWheelZoom=ku,kt.TapHold=af,kt.TouchZoom=gp,n.Bounds=Q,n.Browser=Qe,n.CRS=Oe,n.Canvas=nf,n.Circle=Yd,n.CircleMarker=oc,n.Class=ie,n.Control=oi,n.DivIcon=Ey,n.DivOverlay=ui,n.DomEvent=qr,n.DomUtil=ps,n.Draggable=$a,n.Evented=re,n.FeatureGroup=ms,n.GeoJSON=Zs,n.GridLayer=fc,n.Handler=aa,n.Icon=gs,n.ImageOverlay=uc,n.LatLng=xe,n.LatLngBounds=ce,n.Layer=qa,n.LayerGroup=sc,n.LineUtil=xa,n.Map=kt,n.Marker=Pu,n.Mixin=Wd,n.Path=ys,n.Point=ee,n.PolyUtil=bo,n.Polygon=lc,n.Polyline=Ws,n.Popup=ju,n.PosAnimation=za,n.Projection=Fa,n.Rectangle=ll,n.Renderer=$i,n.SVG=hc,n.SVGOverlay=tf,n.TileLayer=So,n.Tooltip=Iu,n.Transformation=$e,n.Util=z,n.VideoOverlay=wo,n.bind=o,n.bounds=ae,n.canvas=Mu,n.circle=wy,n.circleMarker=_y,n.control=Ui,n.divIcon=C_,n.extend=i,n.featureGroup=by,n.geoJSON=ef,n.geoJson=Nu,n.gridLayer=Py,n.icon=Tu,n.imageOverlay=Sy,n.latLng=Ce,n.latLngBounds=fe,n.layerGroup=A_,n.map=vo,n.marker=xy,n.point=oe,n.polygon=P_,n.polyline=E_,n.popup=Ay,n.rectangle=N_,n.setOptions=T,n.stamp=d,n.svg=Du,n.svgOverlay=Ty,n.tileLayer=wa,n.tooltip=O_,n.transformation=be,n.version=r,n.videoOverlay=dc;var yp=window.L;n.noConflict=function(){return window.L=yp,this},window.L=n}))})(Sm,Sm.exports)),Sm.exports}var NOe=COe();const Yt=pn(NOe),jOe=()=>Yt.divIcon({html:'<div style="font-size: 30px; text-align: center; line-height: 35px;"></div>',iconSize:[35,35],iconAnchor:[17,35],popupAnchor:[0,-35],className:""});function cK({onLocationSelect:t,initialLat:e=30.0444,initialLng:n=31.2357,initialAddress:r=""}){const i=k.useRef(null),a=k.useRef(null),o=k.useRef(null),{language:c}=mi(),[d,f]=k.useState(e),[p,g]=k.useState(n),[b,w]=k.useState(r),[P,T]=k.useState(!1),[A,C]=k.useState([]),[D,R]=k.useState(!1),$=k.useRef(null);k.useEffect(()=>{if(!i.current)return;a.current=Yt.map(i.current).setView([d,p],13),Yt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19}).addTo(a.current),o.current=Yt.marker([d,p],{icon:jOe()}).addTo(a.current).bindPopup(`<div style="text-align: ${c==="ar"?"right":"left"}; direction: ${c==="ar"?"rtl":"ltr"}">
          <strong>${c==="ar"?" ":"Selected Location"}</strong><br/>
          ${c==="ar"?" :":"Latitude:"} ${d.toFixed(6)}<br/>
          ${c==="ar"?" :":"Longitude:"} ${p.toFixed(6)}
        </div>`);const q=H=>{const{lat:z,lng:ie}=H.latlng;f(z),g(ie),o.current&&(o.current.setLatLng([z,ie]),o.current.setPopupContent(`<div style="text-align: ${c==="ar"?"right":"left"}; direction: ${c==="ar"?"rtl":"ltr"}">
            <strong>${c==="ar"?" ":"Selected Location"}</strong><br/>
            ${c==="ar"?" :":"Latitude:"} ${z.toFixed(6)}<br/>
            ${c==="ar"?" :":"Longitude:"} ${ie.toFixed(6)}
          </div>`)),I(z,ie)};return a.current.on("click",q),()=>{a.current?.off("click",q)}},[]);const I=async(q,H)=>{try{T(!0);const ie=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${q}&lon=${H}`,{headers:{"Accept-Language":c==="ar"?"ar":"en"}})).json(),de=ie.address?.road?`${ie.address.road}, ${ie.address.city||ie.address.town||""}`:ie.display_name||`${q.toFixed(6)}, ${H.toFixed(6)}`;w(de)}catch{w(`${q.toFixed(6)}, ${H.toFixed(6)}`)}finally{T(!1)}},B=async q=>{if(!q.trim()||q.length<2){C([]),R(!1);return}try{const z=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(q)}&format=json&limit=10`,{headers:{"Accept-Language":c==="ar"?"ar":"en"}})).json();z&&z.length>0?(C(z),R(!0)):C([])}catch{C([])}},N=q=>{w(q),$.current&&clearTimeout($.current),$.current=setTimeout(()=>{B(q)},300)},j=q=>{const H=parseFloat(q.lat),z=parseFloat(q.lon);w(q.display_name),f(H),g(z),R(!1),C([]),a.current&&a.current.setView([H,z],13),o.current&&(o.current.setLatLng([H,z]),o.current.setPopupContent(`<div style="text-align: ${c==="ar"?"right":"left"}; direction: ${c==="ar"?"rtl":"ltr"}">
          <strong>${c==="ar"?" ":"Selected Location"}</strong><br/>
          ${c==="ar"?" :":"Latitude:"} ${H.toFixed(6)}<br/>
          ${c==="ar"?" :":"Longitude:"} ${z.toFixed(6)}
        </div>`))},V=()=>{t(b,d,p)},K=()=>{"geolocation"in navigator&&(T(!0),navigator.geolocation.getCurrentPosition(q=>{const{latitude:H,longitude:z}=q.coords;f(H),g(z),a.current&&a.current.setView([H,z],13),o.current&&(o.current.setLatLng([H,z]),o.current.setPopupContent(`<div style="text-align: ${c==="ar"?"right":"left"}; direction: ${c==="ar"?"rtl":"ltr"}">
                <strong>${c==="ar"?" ":"Current Location"}</strong><br/>
                ${c==="ar"?" :":"Latitude:"} ${H.toFixed(6)}<br/>
                ${c==="ar"?" :":"Longitude:"} ${z.toFixed(6)}
              </div>`)),I(H,z)},q=>{T(!1)}))};return m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{ref:i,style:{height:"300px",borderRadius:"12px",border:"2px solid #e5e7eb"}}),m.jsxs("div",{className:"space-y-2 relative",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:c==="ar"?"  ":" Full Address"}),m.jsx("textarea",{value:b,onChange:q=>N(q.target.value),placeholder:c==="ar"?" :   ...":"Type address: Street, District, City...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white resize-none text-sm",rows:2}),D&&A.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto",children:A.map((q,H)=>m.jsxs("button",{onClick:()=>j(q),className:"w-full text-left px-4 py-2 hover:bg-blue-50 border-b border-gray-200 last:border-b-0 text-sm text-gray-700",children:[m.jsxs("div",{className:"font-semibold text-gray-900",children:[" ",q.display_name.split(",")[0]]}),m.jsx("div",{className:"text-xs text-gray-600",children:q.display_name.substring(q.display_name.indexOf(",")+1).trim()})]},H))}),m.jsx("p",{className:"text-xs text-gray-600",children:c==="ar"?`  : ${d.toFixed(6)},  : ${p.toFixed(6)}`:` Latitude: ${d.toFixed(6)}, Longitude: ${p.toFixed(6)}`})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:K,disabled:P,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 disabled:bg-gray-400 transition",children:P?c==="ar"?" ...":" Loading...":c==="ar"?"  ":" My Location"}),m.jsx("button",{onClick:V,className:"flex-1 px-4 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition",children:c==="ar"?"  ":" Confirm Location"})]}),m.jsxs("div",{className:"text-xs text-gray-600 text-center space-y-1",children:[m.jsx("div",{children:c==="ar"?"          ":" Click on the map to select location or use your current location"}),m.jsx("div",{className:"text-blue-600 font-semibold text-[11px]",children:c==="ar"?"      ":" Type your full address in the field above"})]})]})}const IOe=t=>[{icon:lq,label:W("myOrders",t),path:"/orders",buttonBg:"bg-purple-50",borderColor:"border-purple-200 hover:border-purple-300",iconColor:"text-purple-600 bg-purple-100",textColor:"text-purple-900"}];function ROe(){const[t,e]=ji(),{user:n,isLoggedIn:r,logout:i,isLoading:a}=zd(),{language:o,setLanguage:c}=mi(),[d,f]=k.useState("profile"),[p,g]=k.useState([]),[b,w]=k.useState(!1),[P,T]=k.useState(null),[A,C]=k.useState(""),[D,R]=k.useState(null),[$,I]=k.useState([]),[B,N]=k.useState(""),[j,V]=k.useState(!1),[K,q]=k.useState(!1),[H,z]=k.useState(!1),[ie,de]=k.useState("all"),[X,re]=k.useState(null),[ee,le]=k.useState(0),[oe,Q]=k.useState(0),[ae,ce]=k.useState(!1),[fe,xe]=k.useState(!1),[Ce,Oe]=k.useState(!1),[we,pe]=k.useState(null),[Be,$e]=k.useState([]),[be,Me]=k.useState(null),[Pe,je]=k.useState({title:"",description:"",price:"",category:"",image:"",images:[],units:[],sizes:[],colors:[],available:!0}),[Fe,We]=k.useState(""),[ct,He]=k.useState(""),[Ze,Ye]=k.useState(""),[mt,an]=k.useState("#000000"),[_n,Vr]=k.useState(!1),[Un,Ii]=k.useState([]),[Rn,ga]=k.useState(!1),[ti,ya]=k.useState(null),[Ri,vr]=k.useState(""),[Mn,Ar]=k.useState(""),[tn,yi]=k.useState([]),[va,Br]=k.useState(null),[er,zr]=k.useState(""),[On,Mi]=k.useState(!1),dt=async te=>{const me=te.target.files?.[0];if(!me)return;const qe=new FileReader;qe.onload=Je=>{const yt=Je.target?.result;je({...Pe,image:yt}),Ue.success("Image uploaded!")},qe.readAsDataURL(me)},Xt=async te=>{const me=te.target.files;if(me){for(let qe=0;qe<me.length;qe++){const Je=me[qe],yt=new FileReader;yt.onload=At=>{const rn=At.target?.result;je(Yn=>({...Yn,images:[...Yn.images,rn]}))},yt.readAsDataURL(Je)}Ue.success(`${me.length} image(s) added!`)}},Gn=te=>{je(me=>({...me,images:me.images.filter((qe,Je)=>Je!==te)}))},[Kn,Ur]=k.useState([]),[nn,Er]=k.useState(!1),[ni,Wn]=k.useState(""),[tr,Dn]=k.useState(""),[Qe,ls]=k.useState(null),[ri,Di]=k.useState(!1),[Cn,Zn]=k.useState([]),[$r,vi]=k.useState(null),[nr,ba]=k.useState({productId:"",discountPercentage:"",startDate:"",endDate:""}),[cs,ki]=k.useState(""),[us,Li]=k.useState(""),[ii,br]=k.useState(""),[bi,$n]=k.useState(!1),[$s,po]=k.useState(!1),[lr,xi]=k.useState(null),[ds,mo]=k.useState(""),[rl,fs]=k.useState(""),[Dt,Lt]=k.useState(""),[kn,wn]=k.useState(""),[Vi,hs]=k.useState(""),[et,sn]=k.useState(""),[Ji,ea]=k.useState(""),[Sn,Fs]=k.useState(""),[go,Bi]=k.useState(""),[mn,ta]=k.useState(""),[_i,rr]=k.useState(!1),yo=te=>{const me=new Date,qe=new Date(me.getFullYear(),me.getMonth(),1),Je=new Date(me.getFullYear(),0,1);return p.filter(yt=>{if(yt.status==="cancelled")return!1;const At=new Date(yt.createdAt);return te==="month"?At>=qe:te==="year"?At>=Je:!0})},xr=()=>{const te=yo(ie),me=te.reduce((rn,Yn)=>rn+Yn.total,0),qe=te.reduce((rn,Yn)=>rn+(Yn.shippingCost||0),0),Je=me-qe,yt=te.filter(rn=>rn.status==="completed").length,At=te.filter(rn=>rn.status==="pending").length;return{totalRevenue:me,totalShipping:qe,salesAmount:Je,completedCount:yt,pendingCount:At,filtered:te}},qs=async()=>{if(n?.id)try{const me=(await Gb(n.id)).filter(qe=>qe.status==="completed");le(me.length),Q(me.reduce((qe,Je)=>qe+Je.total,0))}catch{}},na=()=>{w(!0);try{const te=Rt(),me=Yr(te,"orders");return np(me,Je=>{const yt=Je.docs.map(At=>({id:At.id,...At.data()}));g(yt||[]),w(!1)},Je=>{Ue.error("Failed to load orders"),w(!1)})}catch{Ue.error("Failed to load orders"),w(!1)}},Hs=async te=>{const me=te.target.files?.[0];if(!(!me||!n?.id))try{const qe=new FileReader;qe.onloadend=async()=>{const Je=qe.result;re(Je);const yt=Rt(),At=Bt(yt,"users",n.id);await Cs(At,{profileImage:Je}),Ue.success("Profile image updated!")},qe.readAsDataURL(me)}catch{Ue.error("Failed to update profile image")}};k.useEffect(()=>{!a&&!r&&e("/login")},[r,a,e]),k.useEffect(()=>{if(n?.id){qs();const te=Rt(),me=Bt(te,"users",n.id);Xi(me).then(qe=>{qe.exists()&&qe.data().profileImage&&re(qe.data().profileImage)})}},[n?.id]),k.useEffect(()=>{if(sessionStorage.getItem("preferredTab")==="admin"){f("admin");const me=na();return ia(),sessionStorage.removeItem("preferredTab"),()=>{me&&me()}}else f("profile")},[]),k.useEffect(()=>{if(d==="admin"){const te=na();return ia(),Fr(),ut(),()=>{te&&te()}}},[d]),k.useEffect(()=>{(async()=>{try{const qe=Rt(),Je=Bt(qe,"settings","firebase"),yt=await Xi(Je);if(yt.exists()){const At=yt.data();mo(At.projectId||""),fs(At.privateKey||""),Lt(At.clientEmail||""),wn(At.firebaseApiKey||""),hs(At.firebaseProjectId||""),sn(At.firebaseAppId||""),ea(At.firebaseAuthDomain||""),Fs(At.firebaseStorageBucket||""),Bi(At.firebaseMessagingSenderId||""),ta(At.firebaseMeasurementId||"")}}catch{}const me=Gfe();me&&(wn(me.apiKey||""),hs(me.projectId||""),sn(me.appId||""),ea(me.authDomain||""),Fs(me.storageBucket||""),Bi(me.messagingSenderId||""),ta(me.measurementId||""))})()},[]);const ra=async()=>{ga(!0);try{const te=Rt(),me=Yr(te,"users"),Je=(await Is(me)).docs.map(yt=>({id:yt.id,...yt.data()}));Ii(Je||[])}catch{Ue.error("Failed to load users")}finally{ga(!1)}},ia=async()=>{try{const te=Rt(),me=Yr(te,"categories"),Je=(await Is(me)).docs.map(yt=>({id:yt.id,...yt.data()}));yi(Je||[])}catch{}},Fr=async()=>{try{const te=await kx();$e(te||[])}catch{}},La=async()=>{try{const te=Rt(),me=Yr(te,"shippingZones"),Je=(await Is(me)).docs.map(yt=>({id:yt.id,...yt.data()}));Ur(Je||[])}catch{}},ai=async()=>{if(!ni||!tr){Ue.error("Please fill in all zone fields");return}try{const te=Rt(),me={name:ni,shippingCost:parseFloat(tr),updatedAt:new Date};if(Qe){const qe=Bt(te,"shippingZones",Qe);await Cs(qe,me)}else{const qe=Yr(te,"shippingZones");await ym(qe,{...me,createdAt:new Date})}Ue.success("Shipping zone saved successfully!"),Wn(""),Dn(""),ls(null),La()}catch{Ue.error("Failed to save shipping zone")}},ps=async te=>{try{const me=Rt(),qe=Bt(me,"shippingZones",te);await gm(qe),Ue.success("Shipping zone deleted!"),La()}catch{Ue.error("Failed to delete shipping zone")}},ut=async()=>{try{const te=Rt(),me=Yr(te,"discounts"),Je=(await Is(me)).docs.map(yt=>({id:yt.id,...yt.data()}));Zn(Je||[])}catch{Ue.error("Failed to fetch discounts")}},Pr=async()=>{if(!nr.productId||!nr.discountPercentage||!nr.startDate||!nr.endDate){Ue.error("Please fill all fields");return}try{const te={productId:nr.productId,discountPercentage:parseFloat(nr.discountPercentage),startDate:new Date(nr.startDate+"T00:00:00Z").toISOString(),endDate:new Date(nr.endDate+"T23:59:59Z").toISOString()},me=Rt();if($r){const qe=Bt(me,"discounts",$r);await Cs(qe,{...te,updatedAt:new Date}),Ue.success("Discount updated!")}else{const qe=Yr(me,"discounts"),Je=await ym(qe,{...te,createdAt:new Date});Ue.success("Discount created!")}ba({productId:"",discountPercentage:"",startDate:"",endDate:""}),vi(null),ut()}catch{Ue.error("Failed to save discount")}},Zt=async te=>{try{const me=Rt(),qe=Bt(me,"discounts",te);await gm(qe),Ue.success("Discount deleted!"),ut()}catch{Ue.error("Failed to delete discount")}},Va=async()=>{if(!cs||!us||!ii){Ue.error("Please fill in all required fields");return}rr(!0);try{const te=Rt(),me=Bt(te,"users",n?.id||"");await Cs(me,{address:cs,phone:us,zone:ii,addressLat:lr?.lat,addressLng:lr?.lng}),console.log(" Profile saved with coordinates:",{address:cs,lat:lr?.lat,lng:lr?.lng}),Ue.success("Profile updated successfully!"),$n(!1)}catch{Ue.error("Failed to update profile")}finally{rr(!1)}},wi=async()=>{if(n?.id)try{const te=Rt(),me=Bt(te,"users",n.id),qe=await Xi(me);if(qe.exists()){const Je=qe.data();ki(Je.address||""),Li(Je.phone||""),br(Je.zone||""),Je.addressLat&&Je.addressLng&&xi({lat:Je.addressLat,lng:Je.addressLng})}}catch{}},si=async()=>{try{const te=Rt(),me=Yr(te,"users"),qe=B2(me,z2("role","==","delivery")),yt=(await Is(qe)).docs.map(At=>({id:At.id,email:At.data().email||"",username:At.data().username||""}));I(yt)}catch{Ue.error("Failed to load delivery users")}},Ba=async(te,me)=>{try{const qe=Rt(),Je=Bt(qe,"orders",te),yt=p.find(qr=>qr.id===te),At=yt?.status||"pending",rn=yt?.userEmail||yt?.customerEmail,Yn={status:me,updatedAt:new Date().toISOString()};if(me==="shipped"&&B){const qr=$.find(za=>za.id===B);Yn.deliveryUserId=B,Yn.deliveryUsername=qr?.username||qr?.email||""}if(await Cs(Je,Yn),rn&&yt){const qr={...yt,status:me};await eq(qr,rn,At).catch(()=>{})}Ue.success(W("statusUpdated",o)),T(null),C(""),N(""),na()}catch{Ue.error(W("failedToUpdateOrder",o))}},zt=async(te,me)=>{try{const qe=Rt(),Je=Bt(qe,"users",te);await Cs(Je,{role:me}),Ue.success("User role updated successfully!"),ya(null),vr(""),ra()}catch{Ue.error("Failed to update user role")}},zi=()=>{i(),Ue.success("You have been logged out"),e("/")};return a?m.jsx(mr,{children:m.jsx("div",{className:"w-full flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})})}):m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 pb-4 pt-2 flex items-center justify-between gap-4 border-b border-gray-100 flex-shrink-0",children:[m.jsx("h1",{className:"text-xl font-bold",children:W("profile",o)}),m.jsx("div",{className:"flex items-center gap-2",children:n?.role==="admin"&&m.jsx("button",{onClick:()=>e("/settings"),className:"w-10 h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center hover:bg-gray-50","data-testid":"button-settings",children:m.jsx(cq,{className:"w-5 h-5 text-gray-600"})})})]}),n&&m.jsxs("div",{className:"flex gap-0 border-b border-gray-100 flex-shrink-0 px-5 bg-white",children:[m.jsx("button",{onClick:()=>f("profile"),className:`py-3 px-5 font-semibold text-sm border-b-2 transition-colors ${d==="profile"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,"data-testid":"tab-profile",children:W("account",o)}),n.role==="admin"&&m.jsx("button",{onClick:()=>{f("admin"),na()},className:`py-3 px-5 font-semibold text-sm border-b-2 transition-colors ${d==="admin"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,"data-testid":"tab-admin",children:W("admin",o)})]}),m.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 w-full",children:d==="profile"?m.jsxs(m.Fragment,{children:[n&&m.jsx("div",{className:"px-5 py-4 space-y-3",children:m.jsx("div",{className:"bg-gradient-to-br from-primary to-purple-600 rounded-3xl p-4 text-white shadow-lg",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsxs("div",{className:"relative flex-shrink-0",children:[m.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-3 border-white/30 bg-white/10",children:m.jsx("img",{src:X||qfe,alt:"User",className:"w-full h-full object-cover","data-testid":"img-profile-picture"})}),m.jsxs("label",{className:"absolute bottom-0 right-0 w-6 h-6 bg-white rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-100 shadow-lg",children:[m.jsx(Bf,{className:"w-3 h-3 text-primary"}),m.jsx("input",{type:"file",accept:"image/*",onChange:Hs,className:"hidden","data-testid":"input-profile-image"})]})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h2",{className:"text-base font-bold line-clamp-2","data-testid":"text-username",children:n.username}),m.jsx("p",{className:"text-xs opacity-90 line-clamp-1","data-testid":"text-email",children:n.email}),m.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mt-2",children:[m.jsxs("div",{className:"bg-white/20 rounded-lg p-1.5",children:[m.jsx("p",{className:"text-xs opacity-75",children:W("orders",o)}),m.jsx("p",{className:"text-sm font-bold","data-testid":"text-orders-count",children:ee})]}),m.jsxs("div",{className:"bg-white/20 rounded-lg p-1.5",children:[m.jsx("p",{className:"text-xs opacity-75",children:W("totalSpent",o)}),m.jsxs("p",{className:"text-sm font-bold","data-testid":"text-orders-total",children:["L.E ",oe.toFixed(2)]})]})]})]})]})})}),m.jsxs("div",{className:"w-full px-5 py-4 space-y-3",children:[IOe(o).map(te=>m.jsxs("button",{onClick:()=>{te.path==="/orders"&&sessionStorage.setItem("previousPage","/profile"),e(te.path)},className:`w-full flex items-center justify-between p-4 ${te.buttonBg} rounded-2xl border ${te.borderColor} transition-colors group`,"data-testid":`button-${te.label.toLowerCase().replace(/\s+/g,"-")}`,children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${te.iconColor}`,children:m.jsx(te.icon,{className:"w-6 h-6"})}),m.jsx("span",{className:`font-semibold text-sm ${te.textColor}`,children:te.label})]}),m.jsx(Ps,{className:`w-5 h-5 transition-colors ${te.textColor.split(" ")[0].replace("text-","group-hover:text-")}-600`})]},te.label)),m.jsxs("button",{onClick:()=>{$n(!bi),!bi&&n?.id&&(wi(),La())},className:"w-full flex items-center justify-between p-4 bg-indigo-50 rounded-2xl border border-indigo-200 hover:border-indigo-300 transition-colors","data-testid":"button-toggle-user-profile",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-indigo-100 text-indigo-600",children:m.jsx(ql,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-indigo-900",children:W("deliveryAddress",o)})]}),m.jsx(Ps,{className:`w-5 h-5 text-indigo-400 transition-transform ${bi?"rotate-90":""}`})]}),bi&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 space-y-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("button",{type:"button",onClick:()=>po(!$s),className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition text-sm mb-3",children:$s?" "+W("closeMap",o):" "+W("chooseFromMap",o)}),$s&&m.jsx("div",{className:"mb-3 border-2 border-indigo-300 rounded-lg p-3 bg-indigo-50",children:m.jsx(cK,{onLocationSelect:(te,me,qe)=>{ki(te),xi({lat:me,lng:qe}),po(!1),Ue.success(" "+W("locationSet",o))},initialAddress:cs,initialLat:lr?.lat,initialLng:lr?.lng})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-semibold mb-1 block",children:[W("mainAddress",o)," *"]}),m.jsx("input",{type:"text",placeholder:W("streetAddressPlaceholder",o),value:cs,onChange:te=>ki(te.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200","data-testid":"input-user-address"}),lr&&m.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[" ",W("latitudeLabel",o),": ",lr.lat.toFixed(6),", ",W("longitudeLabel",o),": ",lr.lng.toFixed(6)]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-semibold mb-1 block",children:[W("mainShippingZone",o)," *"]}),m.jsxs("select",{value:ii,onChange:te=>br(te.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200","data-testid":"select-user-zone",children:[m.jsx("option",{value:"",children:"Select Zone"}),Kn.map(te=>m.jsx("option",{value:te.name,children:te.name},te.id))]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"text-xs font-semibold mb-1 block",children:[W("phoneNumber",o)," *"]}),m.jsx("input",{type:"tel",placeholder:W("mobileNumberPlaceholder",o),value:us,onChange:te=>Li(te.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-200","data-testid":"input-user-phone"})]}),m.jsx("button",{onClick:Va,disabled:_i,className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold text-sm hover:bg-indigo-700 disabled:opacity-50","data-testid":"button-save-user-profile",children:W(_i?"saving":"saveAddress",o)})]}),m.jsxs("button",{onClick:zi,className:"w-full flex items-center justify-between p-4 bg-red-50 rounded-2xl border border-red-100 hover:border-red-200 transition-colors group mt-6","data-testid":"button-logout",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-red-100 text-red-600",children:m.jsx(voe,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-red-600",children:W("logout",o)})]}),m.jsx(Ps,{className:"w-5 h-5 text-red-400 group-hover:text-red-600 transition-colors"})]})]})]}):m.jsxs("div",{className:"w-full px-5 py-4",children:[m.jsxs("button",{onClick:()=>q(!K),className:"w-full flex items-center justify-between p-4 bg-purple-50 rounded-2xl border border-purple-200 hover:border-purple-300 transition-colors mb-6","data-testid":"button-toggle-orders",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-purple-100 text-purple-600",children:m.jsx(kP,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-purple-900",children:W("ordersPanel",o)})]}),m.jsx(Ps,{className:'w-5 h-5 text-purple-400 transition-transform L.E showOrders ? "rotate-90" : ""}'})]}),K&&m.jsxs("div",{className:"mb-6",children:[p.length>0&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-3",children:W("filterByStatus",o)}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>pe(null),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === null
                              ? "bg-black text-white"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-all",children:W("all",o)}),m.jsx("button",{onClick:()=>pe("pending"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "pending"
                              ? "bg-amber-100 text-amber-700 border border-amber-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-pending",children:W("pending",o)}),m.jsx("button",{onClick:()=>pe("confirmed"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "confirmed"
                              ? "bg-blue-100 text-blue-700 border border-blue-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-confirmed",children:W("confirmed",o)}),m.jsx("button",{onClick:()=>pe("processing"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "processing"
                              ? "bg-indigo-100 text-indigo-700 border border-indigo-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-processing",children:W("processing",o)}),m.jsx("button",{onClick:()=>pe("shipped"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "shipped"
                              ? "bg-blue-100 text-blue-700 border border-blue-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-shipped",children:W("shipped",o)}),m.jsx("button",{onClick:()=>pe("received"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "received"
                              ? "bg-green-100 text-green-700 border border-green-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-received",children:W("received",o)}),m.jsx("button",{onClick:()=>pe("completed"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "completed"
                              ? "bg-emerald-100 text-emerald-700 border border-emerald-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-completed",children:W("completed",o)}),m.jsx("button",{onClick:()=>pe("cancelled"),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors L.E 
                            selectedStatusFilter === "cancelled"
                              ? "bg-red-100 text-red-700 border border-red-300"
                              : "bg-gray-100 text-gray-700 hover:bg-gray-200"
                          }`,"data-testid":"filter-cancelled",children:W("cancelled",o)})]})]}),b?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):p.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders yet"}):m.jsx("div",{className:"space-y-2",children:p.filter(te=>we===null||te.status===we).sort((te,me)=>new Date(me.createdAt).getTime()-new Date(te.createdAt).getTime()).map(te=>m.jsx("div",{className:"p-3 bg-white border border-gray-200 rounded-2xl hover:border-primary hover:shadow-sm transition-all","data-testid":`order-${te.id}`,children:P===te.id?m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-2",children:W("changeStatus",o)}),m.jsxs("select",{value:A,onChange:me=>{C(me.target.value),me.target.value!=="shipped"&&N("")},className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":`select-order-status-${te.id}`,children:[m.jsx("option",{value:"pending",children:W("pending",o)}),m.jsx("option",{value:"confirmed",children:W("confirmed",o)}),m.jsx("option",{value:"processing",children:W("processing",o)}),m.jsx("option",{value:"shipped",children:W("shipped",o)}),m.jsx("option",{value:"completed",children:W("completedOrder",o)}),m.jsx("option",{value:"cancelled",children:W("cancelledOrder",o)})]})]}),A==="shipped"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-gray-700 block mb-2",children:" "+W("selectDelivery",o)}),m.jsxs("select",{value:B,onChange:me=>N(me.target.value),onFocus:()=>{$.length===0&&si()},className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-300","data-testid":`select-delivery-${te.id}`,children:[m.jsx("option",{value:"",children:"-- "+W("selectDelivery",o)+" --"}),$.map(me=>m.jsxs("option",{value:me.id,children:[" ",me.username||me.email]},me.id))]}),$.length===0&&m.jsx("p",{className:"text-xs text-orange-600 mt-1",children:W("noDeliveryAvailable",o)})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Ba(te.id,A),disabled:A==="shipped"&&!B,className:"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg text-sm font-semibold hover:bg-green-700 disabled:bg-gray-400 transition","data-testid":`button-save-order-status-${te.id}`,children:" "+W("save",o)}),m.jsx("button",{onClick:()=>{T(null),C(""),N("")},className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-400 transition","data-testid":`button-cancel-order-edit-${te.id}`,children:" "+W("cancel",o)})]})]}):m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("button",{onClick:()=>{sessionStorage.setItem("previousPage","/profile"),e(`/order/${te.id}`)},className:"flex-1 text-left hover:opacity-75 transition",children:[m.jsxs("p",{className:"text-xs text-gray-500",children:["Order #",te.orderNumber||"N/A"]}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:new Date(te.createdAt).toLocaleDateString()})]}),m.jsxs("div",{className:"flex flex-col items-end gap-2",children:[m.jsxs("p",{className:"font-bold text-sm",children:["L.E ",te.total.toFixed(2)]}),m.jsxs("div",{className:"space-y-1 text-right",children:[m.jsxs("div",{className:"flex gap-1.5 justify-end",children:[m.jsx("span",{className:`text-xs font-semibold px-3 py-0.5 rounded-full ${te.status==="completed"?"bg-green-100 text-green-700":te.status==="cancelled"?"bg-red-100 text-red-700":te.status==="shipped"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,"data-testid":`status-badge-${te.id}`,children:te.status||"pending"}),m.jsx("button",{onClick:()=>{T(te.id),C(te.status)},className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold hover:bg-blue-200 transition","data-testid":`button-edit-order-${te.id}`,children:" "+W("edit",o)})]}),te.deliveryUsername&&m.jsxs("p",{className:"text-xs text-orange-600 font-semibold",children:[" ",te.deliveryUsername]}),te.customerName&&m.jsx("p",{className:"text-xs text-gray-600 font-semibold",children:te.customerName})]})]})]})},te.id))})]}),m.jsxs("button",{onClick:()=>z(!H),className:"w-full flex items-center justify-between p-4 bg-rose-50 rounded-2xl border border-rose-200 hover:border-rose-300 transition-colors mb-6","data-testid":"button-toggle-analytics",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-rose-100 text-rose-600",children:m.jsx(Koe,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-rose-900",children:W("salesAnalytics",o)})]}),m.jsx(Ps,{className:`w-5 h-5 text-rose-400 transition-transform ${H?"rotate-90":""}`})]}),H&&m.jsx("div",{className:"mb-6",children:p.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:"No orders data to display"}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-3 border border-gray-200",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:W("filterByPeriod",o)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>de("all"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors ${ie==="all"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"data-testid":"filter-all-time",children:W("allTime",o)}),m.jsx("button",{onClick:()=>de("month"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors ${ie==="month"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"data-testid":"filter-this-month",children:W("thisMonth",o)}),m.jsx("button",{onClick:()=>de("year"),className:`flex-1 px-3 py-1.5 rounded-lg text-xs font-semibold transition-colors ${ie==="year"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"data-testid":"filter-this-year",children:W("thisYear",o)})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-2",children:W("totalRevenue",o)}),m.jsxs("p",{className:"text-lg font-bold text-emerald-600 mb-2",children:["L.E ",xr().totalRevenue.toFixed(2)]}),m.jsxs("div",{className:"space-y-1 text-xs border-t pt-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{className:"text-gray-600",children:[W("salesAmount",o),":"]}),m.jsxs("span",{className:"font-semibold text-emerald-600",children:["L.E ",xr().salesAmount.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{className:"text-gray-600",children:[W("shippingAmount",o),":"]}),m.jsxs("span",{className:"font-semibold text-orange-600",children:["L.E ",xr().totalShipping.toFixed(2)]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:W("totalOrders",o)}),m.jsx("p",{className:"text-lg font-bold text-blue-600",children:xr().filtered.length})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:W("completed",o)}),m.jsx("p",{className:"text-lg font-bold text-green-600",children:xr().completedCount})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:W("pending",o)}),m.jsx("p",{className:"text-lg font-bold text-amber-600",children:xr().pendingCount})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:W("salesTrend",o)}),m.jsx(eE,{width:"100%",height:250,children:m.jsxs(AOe,{data:(()=>{const te={};return xr().filtered.forEach(me=>{const qe=new Date(me.createdAt).toLocaleDateString();te[qe]=(te[qe]||0)+me.total}),Object.entries(te).map(([me,qe])=>({date:me,total:parseFloat(qe.toFixed(2))}))})(),children:[m.jsx(pC,{strokeDasharray:"3 3"}),m.jsx(zh,{dataKey:"date",style:{fontSize:"10px"}}),m.jsx($h,{style:{fontSize:"10px"}}),m.jsx(Ns,{}),m.jsx(vy,{type:"monotone",dataKey:"total",stroke:"#10b981",strokeWidth:2})]})})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:W("ordersByStatus",o)}),m.jsx(eE,{width:"100%",height:250,children:m.jsxs(EOe,{data:(()=>{const te={};return xr().filtered.forEach(me=>{te[me.status]=(te[me.status]||0)+1}),Object.entries(te).map(([me,qe])=>({status:me,count:qe}))})(),children:[m.jsx(pC,{strokeDasharray:"3 3"}),m.jsx(zh,{dataKey:"status",style:{fontSize:"10px"}}),m.jsx($h,{style:{fontSize:"10px"}}),m.jsx(Ns,{}),m.jsx(Gd,{dataKey:"count",fill:"#3b82f6"})]})})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-3",children:W("revenueByStatus",o)}),m.jsx(eE,{width:"100%",height:250,children:m.jsxs(POe,{children:[m.jsx(tc,{data:(()=>{const te={};return xr().filtered.forEach(me=>{te[me.status]=(te[me.status]||0)+me.total}),Object.entries(te).map(([me,qe])=>({name:me.charAt(0).toUpperCase()+me.slice(1),value:parseFloat(qe.toFixed(2))}))})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:te,value:me})=>`${te}: L.E ${me}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:["#10b981","#3b82f6","#f59e0b","#06b6d4","#ef4444","#8b5cf6","#ec4899"].map((te,me)=>m.jsx(e_,{fill:te},"cell-L.E index}"))}),m.jsx(Ns,{formatter:te=>typeof te=="number"?`L.E ${te.toFixed(2)}`:te})]})})]})]})}),m.jsxs("button",{onClick:()=>{Oe(!Ce),Ce||ra()},className:"w-full flex items-center justify-between p-4 bg-green-50 rounded-2xl border border-green-200 hover:border-green-300 transition-colors mb-6","data-testid":"button-toggle-users",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-green-100 text-green-600",children:m.jsx(soe,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-green-900",children:W("usersPanel",o)})]}),m.jsx(Ps,{className:'w-5 h-5 text-green-400 transition-transform L.E showUsers ? "rotate-90" : ""}'})]}),Ce&&m.jsxs("div",{className:"mb-6",children:[m.jsx("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:m.jsx("input",{type:"text",placeholder:W("searchByEmail",o),value:Mn,onChange:te=>Ar(te.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-search-users"})}),Rn?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):Un.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:W("noUsersFound",o)}):m.jsx("div",{className:"space-y-3",children:Un.filter(te=>te.email.toLowerCase().includes(Mn.toLowerCase())).map(te=>m.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 hover:border-gray-300 transition-colors","data-testid":`card-user-${te.id}`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-bold text-gray-900","data-testid":`text-user-email-${te.id}`,children:te.email}),m.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[te.id.substring(0,12),"..."]})]}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${te.role==="admin"?"bg-purple-100 text-purple-700":te.role==="delivery"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`,"data-testid":`badge-role-${te.id}`,children:te.role==="delivery"?W("deliveryRole",o):te.role==="admin"?W("adminRole",o):W("userRole",o)})]}),ti===te.id?m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{value:Ri,onChange:me=>vr(me.target.value),className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":`select-user-role-${te.id}`,children:[m.jsx("option",{value:"user",children:W("userRole",o)}),m.jsx("option",{value:"admin",children:W("adminRole",o)}),m.jsx("option",{value:"delivery",children:W("deliveryRole",o)})]}),m.jsx("button",{onClick:()=>zt(te.id,Ri),className:"px-3 py-2 bg-green-600 text-white rounded-lg flex items-center justify-center gap-1 hover:bg-green-700 transition-colors text-xs font-semibold","data-testid":`button-save-user-role-${te.id}`,children:m.jsx(Kb,{className:"w-3 h-3"})}),m.jsx("button",{onClick:()=>{ya(null),vr("")},className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg flex items-center justify-center gap-1 hover:bg-gray-300 transition-colors text-xs font-semibold","data-testid":`button-cancel-user-role-${te.id}`,children:m.jsx(Nm,{className:"w-3 h-3"})})]}):m.jsxs("button",{onClick:()=>{ya(te.id),vr(te.role||"user")},className:"w-full px-3 py-2 bg-amber-100 text-amber-700 rounded-lg flex items-center justify-center gap-1 hover:bg-amber-200 transition-colors text-xs font-semibold","data-testid":`button-edit-user-role-${te.id}`,children:[m.jsx(Bf,{className:"w-3 h-3"}),W("changeRole",o)]})]},te.id))})]}),m.jsxs("button",{onClick:()=>{xe(!fe),fe||ia()},className:"w-full flex items-center justify-between p-4 bg-green-50 rounded-2xl border border-green-200 hover:border-green-300 transition-colors mb-6","data-testid":"button-categories-section",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-green-100 text-green-600",children:m.jsx(lq,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-green-900",children:W("categoriesPanel",o)})]}),m.jsx(Ps,{className:'w-5 h-5 text-green-400 transition-transform L.E showCategories ? "rotate-90" : ""}'})]}),fe&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("h3",{className:"text-sm font-bold mb-3",children:W("addNewCategory",o)}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:W("categoryNamePlaceholder",o),value:er,onChange:te=>zr(te.target.value),className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-category-name"}),m.jsx("button",{onClick:async()=>{if(er.trim())try{const te=Rt(),me=Yr(te,"categories"),qe=await ym(me,{name:er});yi([...tn,{id:qe.id,name:er}]),zr(""),Ue.success("Category added!")}catch{Ue.error("Failed to add category")}else Ue.error("Enter category name")},className:"px-5 py-2 bg-green-600 text-white rounded-lg font-semibold flex items-center justify-center gap-1 hover:bg-green-700 transition-colors text-sm","data-testid":"button-add-category",children:m.jsx(Wb,{className:"w-4 h-4"})})]})]}),tn.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:W("noCategoriesYet",o)}):m.jsx("div",{className:"space-y-2",children:tn.map(te=>m.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 flex items-center justify-between hover:border-gray-300 transition-colors","data-testid":"card-category-L.E cat.id}",children:va===te.id?m.jsxs("div",{className:"flex-1 flex gap-2",children:[m.jsx("input",{type:"text",defaultValue:te.name,onChange:me=>zr(me.target.value),className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-edit-category-L.E cat.id}"}),m.jsx("button",{onClick:async()=>{if(er.trim())try{const me=Rt(),qe=Bt(me,"categories",te.id);await Cs(qe,{name:er}),yi(tn.map(Je=>Je.id===te.id?{...Je,name:er}:Je)),Br(null),zr(""),Ue.success("Category updated!")}catch{Ue.error("Failed to update category")}},className:"px-3 py-2 bg-green-600 text-white rounded-lg flex items-center justify-center hover:bg-green-700 transition-colors text-xs","data-testid":"button-save-category-L.E cat.id}",children:m.jsx(Kb,{className:"w-3 h-3"})}),m.jsx("button",{onClick:()=>{Br(null),zr("")},className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-300 transition-colors text-xs","data-testid":"button-cancel-category-L.E cat.id}",children:m.jsx(Nm,{className:"w-3 h-3"})})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-sm text-gray-900",children:te.name}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{Br(te.id),zr(te.name)},className:"px-3 py-2 bg-amber-100 text-amber-700 rounded-lg flex items-center justify-center hover:bg-amber-200 transition-colors text-xs","data-testid":"button-edit-category-L.E cat.id}",children:m.jsx(Bf,{className:"w-3 h-3"})}),m.jsx("button",{onClick:async()=>{try{const me=Rt(),qe=Bt(me,"categories",te.id);await gm(qe),yi(tn.filter(Je=>Je.id!==te.id)),Ue.success("Category deleted!")}catch{Ue.error("Failed to delete category")}},className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg flex items-center justify-center hover:bg-red-200 transition-colors text-xs","data-testid":"button-delete-category-L.E cat.id}",children:m.jsx(Zb,{className:"w-3 h-3"})})]})]})},te.id))})]}),m.jsxs("button",{onClick:()=>{ce(!ae),ae||(Fr(),ia())},className:"w-full flex items-center justify-between p-4 bg-blue-50 rounded-2xl border border-blue-200 hover:border-blue-300 transition-colors mb-6 mt-6","data-testid":"button-toggle-items",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-blue-100 text-blue-600",children:m.jsx($oe,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-blue-900",children:W("productsPanel",o)})]}),m.jsx(Ps,{className:'w-5 h-5 text-blue-400 transition-transform L.E showItems ? "rotate-90" : ""}'})]}),ae&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:`bg-white rounded-2xl p-4 border-2 mb-4 transition-all ${be?"border-amber-300 shadow-lg shadow-amber-100":"border-gray-200"}`,"data-testid":"form-add-item",children:[m.jsxs("h3",{className:`text-sm font-bold mb-3 ${be?"text-amber-700":""}`,children:[W(be?"editProduct":"addNewProduct",o),be&&m.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"("+W("editMode",o)+")"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold mb-2 block",children:W("productImage",o)}),m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[Pe.image?m.jsx("img",{src:Pe.image,alt:"Product",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 border border-gray-200",children:"No image"}),m.jsx("input",{type:"file",accept:"image/*",onChange:dt,className:"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg cursor-pointer","data-testid":"input-item-image"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold mb-2 block",children:W("additionalImages",o)}),m.jsx("div",{className:"mb-2",children:m.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Xt,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg cursor-pointer","data-testid":"input-additional-images"})}),Pe.images.length>0&&m.jsx("div",{className:"grid grid-cols-4 gap-2",children:Pe.images.map((te,me)=>m.jsxs("div",{className:"relative group",children:[m.jsx("img",{src:te,alt:`Product ${me+1}`,className:"w-full aspect-square rounded-lg object-cover border border-gray-200 group-hover:opacity-75 transition-opacity"}),m.jsx("button",{onClick:()=>Gn(me),className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/50 transition-all rounded-lg",title:W("clickToDeleteImage",o),"data-testid":`button-remove-image-${me}`,children:m.jsx("span",{className:"bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-lg opacity-0 group-hover:opacity-100 transition-opacity",children:""})})]},me))})]}),m.jsx("input",{type:"text",placeholder:W("productTitlePlaceholder",o),value:Pe.title,onChange:te=>je({...Pe,title:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-item-title"}),m.jsx("textarea",{placeholder:W("productDescPlaceholder",o),value:Pe.description||"",onChange:te=>je({...Pe,description:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none",rows:3,"data-testid":"textarea-item-description"}),m.jsx("input",{type:"number",placeholder:W("pricePlaceholder",o),value:Pe.price,onChange:te=>je({...Pe,price:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-item-price"}),m.jsxs("select",{value:Pe.category,onChange:te=>je({...Pe,category:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"select-item-category",children:[m.jsx("option",{value:"",children:W("selectCategory",o)}),tn.map(te=>m.jsx("option",{value:te.name,children:te.name},te.id))]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold mb-1 block",children:W("unitsLabel",o)}),m.jsxs("div",{className:"flex gap-2 mb-2",children:[m.jsx("input",{type:"text",placeholder:W("addUnitPlaceholder",o),value:Fe,onChange:te=>We(te.target.value),className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm","data-testid":"input-item-unit"}),m.jsx("button",{onClick:()=>{Fe.trim()&&(je({...Pe,units:[...Pe.units,Fe.trim()]}),We(""))},className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold","data-testid":"button-add-unit",children:W("addButton",o)})]}),Pe.units.length>0&&m.jsx("div",{className:"flex flex-wrap gap-1",children:Pe.units.map((te,me)=>m.jsxs("span",{className:"inline-flex items-center gap-1 px-5 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:[te,m.jsx("button",{onClick:()=>je({...Pe,units:Pe.units.filter((qe,Je)=>Je!==me)}),className:"text-blue-700 hover:text-gray-900",children:""})]},me))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold mb-1 block",children:W("sizesLabel",o)}),m.jsxs("div",{className:"flex gap-2 mb-2",children:[m.jsx("input",{type:"text",placeholder:W("addSizePlaceholder",o),value:ct,onChange:te=>He(te.target.value),className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm","data-testid":"input-item-size"}),m.jsx("button",{onClick:()=>{ct.trim()&&(je({...Pe,sizes:[...Pe.sizes,ct.trim()]}),He(""))},className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-semibold","data-testid":"button-add-size",children:W("addButton",o)})]}),Pe.sizes.length>0&&m.jsx("div",{className:"flex flex-wrap gap-1",children:Pe.sizes.map((te,me)=>m.jsxs("span",{className:"inline-flex items-center gap-1 px-5 py-1 bg-green-100 text-green-700 rounded text-xs",children:[te,m.jsx("button",{onClick:()=>je({...Pe,sizes:Pe.sizes.filter((qe,Je)=>Je!==me)}),className:"text-green-700 hover:text-green-900",children:""})]},me))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold mb-1 block",children:W("colorsLabel",o)}),m.jsx("div",{className:"space-y-2 mb-2",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:W("colorNamePlaceholder",o),value:Ze,onChange:te=>Ye(te.target.value),className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm","data-testid":"input-item-color-name"}),m.jsx("input",{type:"color",value:mt,onChange:te=>an(te.target.value),className:"w-12 h-10 rounded-lg cursor-pointer border border-gray-200","data-testid":"input-item-color-picker"}),m.jsx("button",{onClick:()=>{Ze.trim()&&(je({...Pe,colors:[...Pe.colors,"L.E colorInput.trim()}|L.E currentColorHex}"]}),Ye(""),an("#000000"))},className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-semibold","data-testid":"button-add-color",children:W("addButton",o)})]})}),Pe.colors.length>0&&m.jsx("div",{className:"flex flex-wrap gap-1",children:Pe.colors.map((te,me)=>{const qe=typeof te=="string"?te.split("|")[0]:te,Je=typeof te=="string"&&te.split("|")[1]||"#000000";return m.jsxs("span",{className:"inline-flex items-center gap-1 px-5 py-1 bg-red-100 text-red-700 rounded text-xs border",style:{borderColor:Je},children:[m.jsx("span",{style:{width:"12px",height:"12px",backgroundColor:Je,borderRadius:"3px"}}),qe,m.jsx("button",{onClick:()=>je({...Pe,colors:Pe.colors.filter((yt,At)=>At!==me)}),className:"text-red-700 hover:text-red-900",children:""})]},me)})})]}),m.jsxs("label",{className:"flex items-center gap-2 px-3 py-2",children:[m.jsx("input",{type:"checkbox",checked:Pe.available,onChange:te=>je({...Pe,available:te.target.checked}),className:"w-4 h-4 rounded border-gray-200","data-testid":"checkbox-item-available"}),m.jsx("span",{className:"text-sm",children:W("availableNow",o)})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:async()=>{if(console.log("Save button clicked - Form data:",{title:Pe.title,price:Pe.price,category:Pe.category,editingItemId:be}),Pe.title&&Pe.price&&Pe.category){Vr(!0);try{const te=Rt(),me={title:Pe.title,description:Pe.description||null,price:parseFloat(Pe.price),category:Pe.category,image:Pe.image||null,images:Pe.images.length>0?Pe.images:null,units:Pe.units.length>0?Pe.units:null,sizes:Pe.sizes.length>0?Pe.sizes:null,colors:Pe.colors.length>0?Pe.colors:null,available:Pe.available};if(be){console.log("Updating product with ID:",be);const qe=Bt(te,"products",be);await Cs(qe,me),console.log("Product updated successfully"),$e(Be.map(Je=>Je.id===be?{id:be,...me}:Je)),Ue.success(W("productUpdated",o)),Me(null)}else{console.log("Adding new product");const qe=Yr(te,"products"),Je=await ym(qe,me);$e([...Be,{id:Je.id,...me}]),Ue.success(W("productAdded",o))}je({title:"",description:"",price:"",category:"",image:"",images:[],units:[],sizes:[],colors:[],available:!0}),We(""),He(""),Ye(""),an("#000000")}catch(te){console.error("Error saving product:",te),Ue.error(W("failedToSaveProduct",o))}finally{Vr(!1)}}else console.log("Validation failed - Missing fields",{title:Pe.title,price:Pe.price,category:Pe.category}),Ue.error(W("fillAllFields",o))},disabled:_n,className:`flex-1 py-2 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm ${_n?"bg-blue-400 text-white cursor-not-allowed opacity-75":"bg-blue-600 text-white hover:bg-blue-700"}`,"data-testid":"button-add-item",children:_n?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),W(be?"updating":"adding",o)]}):m.jsxs(m.Fragment,{children:[m.jsx(Wb,{className:"w-4 h-4"}),W(be?"update":"add",o)]})}),be&&m.jsxs("button",{onClick:()=>{Me(null),je({title:"",description:"",price:"",category:"",image:"",images:[],units:[],sizes:[],colors:[],available:!0}),We(""),He(""),Ye(""),an("#000000")},className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-300 transition-colors text-sm","data-testid":"button-cancel-item",children:[m.jsx(Nm,{className:"w-4 h-4"}),W("cancelButton",o)]})]})]})]}),Be.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:W("noItemsYet",o)}):m.jsx("div",{className:"space-y-3",children:Be.map(te=>m.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 hover:border-gray-300 transition-colors","data-testid":`card-product-${te.id}`,children:[m.jsxs("div",{className:"flex items-start gap-4 mb-4 pb-4 border-b border-gray-100",children:[te.image?m.jsx("img",{src:te.image,alt:te.title,className:"w-20 h-20 rounded-lg object-cover border border-gray-200 flex-shrink-0"}):m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 border border-gray-200 flex-shrink-0",children:m.jsx("span",{className:"text-xs",children:"No image"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-bold text-gray-900 line-clamp-2",children:te.title}),m.jsx("p",{className:"text-xs text-gray-500 mb-2",children:te.category}),m.jsxs("p",{className:"text-base font-bold text-emerald-600",children:["L.E ",te.price.toFixed(2)]})]})]}),(te.units?.length>0||te.sizes?.length>0||te.colors?.length>0||!te.available)&&m.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:"Options:"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[te.units&&te.units.map(me=>m.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded text-[10px] font-medium",children:me},me)),te.sizes&&te.sizes.map(me=>m.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 rounded text-[10px] font-medium",children:me},me)),te.colors&&te.colors.map(me=>{const qe=typeof me=="string"?me.split("|")[0]:me,Je=typeof me=="string"&&me.split("|")[1]||"#000000";return m.jsxs("span",{className:"inline-block px-2 py-1 rounded text-[10px] font-medium text-white flex items-center gap-1 border",style:{backgroundColor:Je,borderColor:Je},children:[m.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"white",borderRadius:"1px"}}),qe]},qe)}),!te.available&&m.jsx("span",{className:"inline-block px-2 py-1 bg-red-100 text-red-700 rounded text-[10px] font-medium",children:W("notAvailable",o)})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>{Me(te.id),je({title:te.title,description:te.description||"",price:te.price.toString(),category:te.category,image:te.image||"",images:te.images||[],units:te.units||[],sizes:te.sizes||[],colors:te.colors||[],available:te.available!==!1}),We(""),He(""),Ye(""),an("#000000"),setTimeout(()=>{const me=document.querySelector('[data-testid="form-add-item"]');me&&me.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"flex-1 px-3 py-2 bg-amber-100 text-amber-700 rounded-lg flex items-center justify-center gap-2 hover:bg-amber-200 transition-colors text-xs font-semibold","data-testid":`button-edit-item-${te.id}`,children:[m.jsx(Bf,{className:"w-3 h-3"}),W("editButton",o)]}),m.jsxs("button",{onClick:async()=>{try{const me=Rt(),qe=Bt(me,"products",te.id);await gm(qe),$e(Be.filter(Je=>Je.id!==te.id)),be===te.id&&(Me(null),je({title:"",description:"",price:"",category:"",image:"",images:[],units:[],sizes:[],colors:[],available:!0}),We(""),He(""),Ye(""),an("#000000")),Ue.success("Product deleted!")}catch{Ue.error("Failed to delete product")}},className:"flex-1 px-3 py-2 bg-red-100 text-red-700 rounded-lg flex items-center justify-center gap-2 hover:bg-red-200 transition-colors text-xs font-semibold","data-testid":`button-delete-item-${te.id}`,children:[m.jsx(Zb,{className:"w-3 h-3"}),W("deleteButton",o)]})]})]},te.id))})]}),m.jsxs("button",{onClick:()=>{Di(!ri),ri||ut()},className:"w-full flex items-center justify-between p-4 bg-yellow-50 rounded-2xl border border-yellow-200 hover:border-yellow-300 transition-colors mb-6","data-testid":"button-toggle-discounts",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-yellow-100 text-yellow-600",children:m.jsx(uq,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-yellow-900",children:W("discounts",o)})]}),m.jsx(Ps,{className:'w-5 h-5 text-yellow-400 transition-transform L.E showDiscounts ? "rotate-90" : ""}'})]}),ri&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("h3",{className:"text-sm font-bold mb-3",children:W($r?"editButton":"addDiscount",o)}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("select",{value:nr.productId,onChange:te=>ba({...nr,productId:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-yellow-200","data-testid":"select-product-discount",children:[m.jsx("option",{value:"",children:"Select Product"}),Be.map(te=>m.jsx("option",{value:te.id,children:te.title},te.id))]}),m.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",placeholder:W("discountPercentage",o),value:nr.discountPercentage,onChange:te=>ba({...nr,discountPercentage:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-yellow-200","data-testid":"input-discount-percentage"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{type:"date",value:nr.startDate,onChange:te=>ba({...nr,startDate:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-yellow-200","data-testid":"input-discount-start-date"}),m.jsx("input",{type:"date",value:nr.endDate,onChange:te=>ba({...nr,endDate:te.target.value}),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-yellow-200","data-testid":"input-discount-end-date"})]}),m.jsx("button",{onClick:Pr,className:"w-full bg-yellow-600 text-white py-2 rounded-lg font-semibold text-sm hover:bg-yellow-700","data-testid":"button-save-discount",children:$r?W("editButton",o)+" "+W("discounts",o):W("addDiscount",o)}),$r&&m.jsx("button",{onClick:()=>{vi(null),ba({productId:"",discountPercentage:"",startDate:"",endDate:""})},className:"w-full bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold text-sm hover:bg-gray-300","data-testid":"button-cancel-discount",children:W("cancelButton",o)})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsxs("h3",{className:"text-sm font-bold mb-3",children:[W("activeDiscounts",o)," (",Cn.length,")"]}),Cn.length===0?m.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:W("noDiscountsYet",o)}):m.jsx("div",{className:"space-y-3",children:Cn.map(te=>{const me=Be.find(qe=>String(qe.id)===String(te.productId));return m.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900","data-testid":"text-discount-product-L.E discount.id}",children:me?.title||te.productId}),m.jsxs("p",{className:"text-xs text-yellow-600 font-bold",children:[te.discountPercentage,"% OFF"]}),m.jsxs("p",{className:"text-xs text-gray-600",children:[new Date(te.startDate).toLocaleDateString()," - ",new Date(te.endDate).toLocaleDateString()]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{vi(te.id);const qe=te.startDate?typeof te.startDate=="string"?te.startDate.split("T")[0]:new Date(te.startDate).toISOString().split("T")[0]:"",Je=te.endDate?typeof te.endDate=="string"?te.endDate.split("T")[0]:new Date(te.endDate).toISOString().split("T")[0]:"";ba({productId:te.productId,discountPercentage:String(te.discountPercentage),startDate:qe,endDate:Je})},className:"px-3 py-2 bg-amber-100 text-amber-700 rounded-lg text-xs font-semibold hover:bg-amber-200","data-testid":"button-edit-discount-L.E discount.id}",children:W("editButton",o)}),m.jsx("button",{onClick:()=>Zt(te.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-xs font-semibold hover:bg-red-200","data-testid":"button-delete-discount-L.E discount.id}",children:W("deleteButton",o)})]})]},te.id)})})]})]}),m.jsxs("button",{onClick:()=>{Er(!nn),nn||La()},className:"w-full flex items-center justify-between p-4 bg-cyan-50 rounded-2xl border border-cyan-200 hover:border-cyan-300 transition-colors mb-6 mt-6","data-testid":"button-toggle-shipping-zones",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center bg-cyan-100 text-cyan-600",children:m.jsx(H2,{className:"w-6 h-6"})}),m.jsx("span",{className:"font-semibold text-sm text-cyan-900",children:W("shippingZones",o)})]}),m.jsx(Ps,{className:'w-5 h-5 text-cyan-400 transition-transform L.E showShippingZones ? "rotate-90" : ""}'})]}),nn&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("h3",{className:"text-sm font-bold mb-3",children:W(Qe?"editShippingZone":"addShippingZone",o)}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"text",placeholder:W("zoneNamePlaceholder",o),value:ni,onChange:te=>Wn(te.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-200","data-testid":"input-zone-name"}),m.jsx("input",{type:"number",placeholder:W("shippingCostPlaceholder",o),value:tr,onChange:te=>Dn(te.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-200","data-testid":"input-zone-cost"}),m.jsx("button",{onClick:ai,className:"w-full bg-cyan-600 text-white py-2 rounded-lg font-semibold text-sm hover:bg-cyan-700","data-testid":"button-save-zone",children:W(Qe?"updateZone":"addZone",o)}),Qe&&m.jsx("button",{onClick:()=>{ls(null),Wn(""),Dn("")},className:"w-full bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold text-sm hover:bg-gray-300","data-testid":"button-cancel-edit-zone",children:W("cancelButton",o)})]})]}),Kn.length>0&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("h3",{className:"text-sm font-bold mb-3",children:W("shippingZones",o)}),m.jsx("div",{className:"space-y-3",children:Kn.map(te=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900","data-testid":"text-zone-name-L.E zone.id}",children:te.name}),m.jsxs("p",{className:"text-xs text-gray-600",children:["Cost: ",te.shippingCost]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{ls(te.id),Wn(te.name),Dn(te.shippingCost.toString())},className:"px-3 py-2 bg-amber-100 text-amber-700 rounded-lg text-xs font-semibold hover:bg-amber-200","data-testid":"button-edit-zone-L.E zone.id}",children:W("editButton",o)}),m.jsx("button",{onClick:()=>ps(te.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-xs font-semibold hover:bg-red-200","data-testid":"button-delete-zone-L.E zone.id}",children:W("deleteButton",o)})]})]},te.id))})]})]})]})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}const Nj=t=>{switch(t?.toLowerCase()){case"completed":return"bg-emerald-600 text-white border-emerald-700";case"received":return"bg-green-600 text-white border-green-700";case"confirmed":return"bg-blue-600 text-white border-blue-700";case"pending":return"bg-amber-500 text-white border-amber-600";case"cancelled":return"bg-red-600 text-white border-red-700";case"processing":return"bg-orange-600 text-white border-orange-700";case"shipped":return"bg-indigo-600 text-white border-indigo-700";default:return"bg-gray-600 text-white border-gray-700"}},MOe=(t,e,n,r)=>{const a=(n-t)*Math.PI/180,o=(r-e)*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))};function DOe(){const{user:t,isLoading:e}=zd(),[,n]=ji(),{language:r}=mi(),[i,a]=k.useState([]),[o,c]=k.useState(!1),[d,f]=k.useState("shipped"),[p,g]=k.useState(!1),[b,w]=k.useState(null),[P,T]=k.useState(""),[A,C]=k.useState(""),[D,R]=k.useState("list"),[$,I]=k.useState(null),[B,N]=k.useState(null),[j,V]=k.useState(null),[K,q]=k.useState(0),[H,z]=k.useState(0),[ie,de]=k.useState(30);k.useEffect(()=>{!e&&(!t||t.role!=="delivery")&&n("/")},[e,t,n]),k.useEffect(()=>{if(navigator.geolocation){const oe=navigator.geolocation.watchPosition(Q=>{N(Q.coords.latitude),V(Q.coords.longitude)},Q=>{console.log("Geolocation error:",Q.code),N(30.0444),V(31.2357)},{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e4});return()=>navigator.geolocation.clearWatch(oe)}else N(30.0444),V(31.2357)},[]);const X=()=>{c(!0);try{const oe=Rt(),Q=Yr(oe,"orders");return np(Q,ce=>{const fe=ce.docs.map(xe=>({id:xe.id,...xe.data()}));a(fe.sort((xe,Ce)=>new Date(Ce.createdAt).getTime()-new Date(xe.createdAt).getTime())),c(!1)},ce=>{console.error("Failed to load orders:",ce),Ue.error("Failed to load orders"),c(!1)})}catch(oe){console.error("Orders listener error:",oe),Ue.error("Failed to load orders"),c(!1)}},re=async(oe,Q,ae,ce)=>{try{const fe=Rt(),xe=Bt(fe,"orders",oe),Ce={status:Q};ae&&(Ce.recipientName=ae),ce&&(Ce.deliveryRemarks=ce),await Cs(xe,Ce),Ue.success(W("statusUpdated",r)),g(!1),w(null),T(""),C("")}catch{Ue.error(W("statusUpdateFailed",r))}},ee=oe=>{w(oe),g(!0),T("")},le=()=>{if(!P.trim()){Ue.error(W("enterRecipientName",r));return}b&&re(b,"received",P,A)};return k.useEffect(()=>{if(D!=="map")return;I(null),q(0),z(0);let oe=!0;const ae=setTimeout(()=>{try{const ce=document.getElementById("leaflet-map");if(!ce){oe&&I("Map container not found");return}if(ce._leaflet_map)return;let xe=i.filter(Fe=>Fe.status==="shipped"&&Fe.deliveryLat&&Fe.deliveryLng);if(xe.length===0&&(!B||!j)){oe&&I("No orders or location data");return}let Ce=[];B&&j?Ce=xe.map(Fe=>({...Fe,distance:MOe(B,j,Fe.deliveryLat,Fe.deliveryLng)})).sort((Fe,We)=>Fe.distance-We.distance):Ce=xe;const Oe=B||xe[0]?.deliveryLat||30.0444,we=j||xe[0]?.deliveryLng||31.2357,pe=Yt.map(ce).setView([Oe,we],13);Yt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap",maxZoom:19}).addTo(pe),B&&j&&Yt.marker([B,j],{icon:Yt.divIcon({html:'<div style="width: 40px; height: 40px; background: #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.3); border: 3px solid white;"></div>',iconSize:[40,40],iconAnchor:[20,20],className:"user-marker"})}).addTo(pe).bindPopup(r==="ar"?" ":"Your Location");let Be=B||Oe,$e=j||we,be=0,Me=0,Pe=0;const je={};Ce.forEach((Fe,We)=>{const ct=We===0?"#ef4444":"#ff8c00";fetch(`https://router.project-osrm.org/route/v1/driving/${$e},${Be};${Fe.deliveryLng},${Fe.deliveryLat}?geometries=geojson`).then(He=>He.json()).then(He=>{if(oe&&He.routes?.[0]){const Ze=He.routes[0],Ye=Ze.geometry.coordinates.map(Un=>[Un[1],Un[0]]),mt=Ze.distance/1e3;je[We]=mt;const an=Yt.polyline(Ye,{color:ct,weight:3,opacity:.7}).addTo(pe),_n=Math.floor(Ye.length/2),Vr=Ye[_n];Yt.marker(Vr,{icon:Yt.divIcon({html:`<div style="background: white; padding: 4px 8px; border-radius: 8px; border: 2px solid ${ct}; font-weight: bold; font-size: 12px; color: ${ct}; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">${mt.toFixed(1)}km</div>`,iconSize:[70,24],iconAnchor:[35,12],className:"distance-label"})}).addTo(pe),an.bindPopup(`<strong>${r==="ar"?"":"Distance"}</strong><br/>${mt.toFixed(1)} km`),be+=mt,Me+=Ze.duration,Pe++,Pe===Ce.length&&(oe&&(q(be),z(Me)),Ce.forEach((Un,Ii)=>{const Rn=Ii===0,ga=Rn?"#ef4444":"#3B82F6",ti=je[Ii]||0;Yt.marker([Un.deliveryLat,Un.deliveryLng],{icon:Yt.divIcon({html:`<div style="width: ${Rn?40:32}px; height: ${Rn?40:32}px; background: ${ga}; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: ${Rn?18:14}px; box-shadow: 0 2px 4px rgba(0,0,0,0.3); ${Rn?"border: 3px solid white;":""}">${Ii+1}</div>`,iconSize:[Rn?40:32,Rn?40:32],iconAnchor:[Rn?20:16,Rn?20:16],className:"order-marker"})}).addTo(pe).bindPopup(`<strong>Order #${Un.orderNumber}</strong><br/> ${r==="ar"?":":"Address:"} ${Un.shippingAddress||"N/A"}<br/><strong>${r==="ar"?":":"Distance:"} ${ti.toFixed(1)} km</strong>`)}))}}).catch(()=>{}),Be=Fe.deliveryLat,$e=Fe.deliveryLng}),setTimeout(()=>{oe&&pe&&pe.invalidateSize()},100)}catch{oe&&I("Failed to load map")}},100);return()=>{oe=!1,clearTimeout(ae)}},[D,r]),k.useEffect(()=>{const oe=X();return()=>{oe&&oe()}},[t?.id]),m.jsxs(mr,{children:[e?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):m.jsxs("div",{className:"flex flex-col h-screen relative",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-20",children:m.jsxs("div",{className:"px-5 py-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:W("delivery",r)}),m.jsxs("span",{className:"text-xs bg-orange-100 text-orange-700 px-3 py-1 rounded-full font-semibold",children:[i.filter(oe=>oe.status==="shipped").length," ",r==="ar"?" ":"in route"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>R("list"),className:`flex-1 py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 ${D==="list"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,"data-testid":"button-list-view",children:m.jsx(moe,{size:18})}),m.jsx("button",{onClick:()=>R("map"),className:`flex-1 py-2 px-4 rounded-lg font-semibold flex items-center justify-center gap-2 ${D==="map"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,"data-testid":"button-map-view",children:m.jsx(Jk,{size:18})})]})]})}),m.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[m.jsx("div",{style:{display:D==="list"?"flex":"none",flexDirection:"column"},className:"flex-1 overflow-y-auto px-5 py-4 pb-32",children:o?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):i.length===0?m.jsx("div",{className:"text-center py-8 text-gray-500",children:W("noOrdersToDeliver",r)}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-3 border border-gray-200 sticky top-0",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:W("filter",r)}),m.jsxs("div",{className:"flex gap-2 flex-wrap",children:[m.jsx("button",{onClick:()=>f(null),className:`px-3 py-1 rounded-full text-xs font-semibold ${d===null?"bg-black text-white":"bg-gray-100 text-gray-700"}`,"data-testid":"button-filter-all",children:W("allOrders",r)}),m.jsx("button",{onClick:()=>f("shipped"),className:`px-3 py-1 rounded-full text-xs font-semibold ${d==="shipped"?"bg-blue-100 text-blue-700 border border-blue-300":"bg-gray-100 text-gray-700"}`,"data-testid":"button-filter-shipped",children:W("shipped",r)}),m.jsx("button",{onClick:()=>f("received"),className:`px-3 py-1 rounded-full text-xs font-semibold ${d==="received"?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700"}`,"data-testid":"button-filter-received",children:W("received",r)}),m.jsx("button",{onClick:()=>f("completed"),className:`px-3 py-1 rounded-full text-xs font-semibold ${d==="completed"?"bg-emerald-100 text-emerald-700 border border-emerald-300":"bg-gray-100 text-gray-700"}`,"data-testid":"button-filter-completed",children:W("completed",r)})]})]}),i.filter(oe=>d===null||oe.status===d).map(oe=>m.jsxs("div",{className:"w-full text-left p-4 bg-white border border-gray-200 rounded-2xl","data-testid":`card-order-${oe.id}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Order #",oe.orderNumber||"N/A"]}),m.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:new Date(oe.createdAt).toLocaleDateString()}),oe.deliveryUsername&&m.jsxs("p",{className:"text-xs text-orange-600 font-semibold mt-1",children:[" ",oe.deliveryUsername]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-1",children:[m.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${Nj(oe.status)}`,children:W(oe.status,r)}),oe.recipientName&&m.jsx("p",{className:"text-xs text-gray-600",children:oe.recipientName})]})]}),m.jsxs("p",{className:"text-sm font-bold text-orange-600 mb-3",children:["L.E ",oe.total.toFixed(2)]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>{sessionStorage.setItem("previousPage","/delivery"),n(`/delivery-order/${oe.id}`)},className:"flex-1 py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2","data-testid":`button-map-${oe.id}`,children:[m.jsx(Jk,{size:16})," ",r==="ar"?"":"Map"]}),m.jsxs("button",{onClick:()=>{sessionStorage.setItem("previousPage","/delivery"),n(`/delivery-order-info/${oe.id}`)},className:"flex-1 py-2 px-4 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2","data-testid":`button-info-${oe.id}`,children:[m.jsx(Lx,{size:16})," ",r==="ar"?"":"Info"]})]}),oe.status==="shipped"&&m.jsxs("button",{onClick:Q=>{Q.stopPropagation(),ee(oe.id)},className:"w-full py-2 px-4 mt-2 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2","data-testid":`button-mark-received-${oe.id}`,children:[m.jsx(Kb,{size:16})," ",W("markAsReceived",r)]})]},oe.id))]})}),D==="map"&&m.jsx("div",{className:"flex-1 overflow-hidden flex flex-col px-5 py-1 pb-24 gap-1",children:$?m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm",children:$}):m.jsxs(m.Fragment,{children:[m.jsx("div",{id:"leaflet-map",style:{flex:1,minHeight:0,borderRadius:"16px",border:"1px solid #e5e7eb"}}),m.jsxs("div",{className:"p-1.5 bg-gray-50 rounded-2xl border border-gray-200 flex-shrink-0",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-600 font-semibold",children:r==="ar"?"":"Distance"}),m.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[K.toFixed(1)," ",m.jsx("span",{className:"text-xs",children:"km"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-600 font-semibold",children:r==="ar"?"":"Time"}),m.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[Math.round(K/ie*60)," ",m.jsx("span",{className:"text-xs",children:r==="ar"?"":"m"})]})]})]}),m.jsxs("div",{className:"flex gap-1.5",children:[m.jsx("button",{onClick:()=>de(30),className:`flex-1 py-1 px-2 rounded-lg font-semibold text-sm ${ie===30?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-200"}`,"data-testid":"button-speed-30",children:"30"}),m.jsx("button",{onClick:()=>de(50),className:`flex-1 py-1 px-2 rounded-lg font-semibold text-sm ${ie===50?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-200"}`,"data-testid":"button-speed-50",children:"50"}),m.jsx("button",{onClick:()=>de(70),className:`flex-1 py-1 px-2 rounded-lg font-semibold text-sm ${ie===70?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-200"}`,"data-testid":"button-speed-70",children:"70"})]})]})]})})]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})}),p&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-5",children:m.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h2",{className:"text-lg font-bold mb-4",children:W("confirmDelivery",r)}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:W("recipientName",r)}),m.jsx("input",{type:"text",value:P,onChange:oe=>T(oe.target.value),placeholder:W("recipientName",r),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500","data-testid":"input-recipient-name"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:W("deliveryRemarks",r)}),m.jsx("textarea",{value:A,onChange:oe=>C(oe.target.value),placeholder:W("deliveryRemarksPlaceholder",r),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-green-500 resize-none",rows:3,"data-testid":"input-delivery-remarks"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>{g(!1),w(null),T(""),C("")},className:"flex-1 py-2 px-4 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold rounded-lg","data-testid":"button-cancel-delivery",children:W("cancel",r)}),m.jsx("button",{onClick:le,className:"flex-1 py-2 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg","data-testid":"button-confirm-delivery",children:W("confirm",r)})]})]})})]})}let Ju=null;const kOe=async(t=1e4)=>{if(Ju)return Ju;const e=Date.now();let n=0;for(;!Ju&&Date.now()-e<t;){if(Ju=window.OneSignal,Ju){console.log(" OneSignal found after",n,"checks");break}n%20===0&&console.log(" Still waiting for OneSignal... checks:",n),n++,await new Promise(r=>setTimeout(r,50))}return Ju||console.error(" OneSignal SDK not found after",t,"ms and",n,"checks"),Ju},LOe=async(t,e,n)=>{try{const r=await kOe();if(!r)return;await r.Notifications.sendNotification({title:t,body:e,...n&&{data:n}})}catch(r){console.error("Error sending notification:",r)}};function VOe(){const[t,e]=ji(),{language:n}=mi(),[r,i]=k.useState(null),[a,o]=k.useState(!0),[c,d]=k.useState(null),[f,p]=k.useState(null),[g,b]=k.useState(null),[w,P]=k.useState(null),[T,A]=k.useState(null),[C,D]=k.useState(null),[R,$]=k.useState(!1),[I,B]=k.useState(null),[N,j]=k.useState(null),[V,K]=k.useState(null),[q,H]=k.useState(!0),[z,ie]=k.useState(!1),[de,X]=k.useState(null),[re,ee]=k.useState(!1),[le,oe]=k.useState(0),[Q,ae]=k.useState(30),ce=k.useRef(null),fe=k.useRef(null),xe=k.useRef(null),Ce=k.useRef(null),Oe=k.useRef(!1),we=k.useRef(null),pe=t.split("/delivery-order/")[1]?.split("?")[0],Be=(je,Fe,We,ct)=>{const Ze=(We-je)*Math.PI/180,Ye=(ct-Fe)*Math.PI/180,mt=Math.sin(Ze/2)*Math.sin(Ze/2)+Math.cos(je*Math.PI/180)*Math.cos(We*Math.PI/180)*Math.sin(Ye/2)*Math.sin(Ye/2);return 6371*(2*Math.atan2(Math.sqrt(mt),Math.sqrt(1-mt)))};k.useEffect(()=>{let je=null;return navigator.geolocation&&(je=navigator.geolocation.watchPosition(Fe=>{const We=Fe.coords.latitude,ct=Fe.coords.longitude;if(A(We),D(ct),g&&w&&le===0&&fetch(`https://router.project-osrm.org/route/v1/driving/${ct},${We};${w},${g}?geometries=geojson`).then(He=>He.json()).then(He=>{if(He.routes?.[0]){const Ze=He.routes[0].distance/1e3;oe(Ze)}}).catch(()=>{}),z&&fe.current&&xe.current&&(xe.current.setLatLng([We,ct]),xe.current.setIcon($e(!0)),g&&w)){const He=Be(We,ct,g,w);X(He)}},Fe=>{B(n==="ar"?"    ":"Cannot access current location")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})),()=>{je!==null&&navigator.geolocation.clearWatch(je)}},[z,g,w]),k.useEffect(()=>{if(!pe||!T||!C)return;(async()=>{try{const Fe=Rt(),We=Bt(Fe,"orders",pe);await Cs(We,{driverLat:T,driverLng:C,latitude:T,longitude:C})}catch{}})()},[T,C,pe]);const $e=(je=!1)=>{const Fe=je?60:50,We=je?48:40;return Yt.divIcon({html:`<div style="font-size: ${We}px; text-align: center; line-height: ${Fe}px; width: ${Fe}px; height: ${Fe}px; background-color: #8B4513; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>`,iconSize:[Fe,Fe],iconAnchor:[Fe/2,Fe/2],popupAnchor:[0,-(Fe/2)],className:""})},be=async je=>{if(je.trim()){$(!0);try{const We=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(je)}&format=json&limit=1`)).json();We.length>0&&(b(parseFloat(We[0].lat)),P(parseFloat(We[0].lon)))}catch{}finally{$(!1)}}};k.useEffect(()=>{!ce.current||!g||!w||(fe.current&&fe.current.remove(),fe.current=Yt.map(ce.current).setView([g,w],15),Yt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap",maxZoom:19}).addTo(fe.current),fe.current.on("zoom",()=>{Oe.current=!0}),fe.current.on("drag",()=>{Oe.current=!0}),Yt.marker([g,w],{icon:Yt.divIcon({html:'<div style="font-size: 30px; text-align: center; line-height: 35px; width: 35px; height: 35px; background-color: #3B82F6; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',iconSize:[35,35],iconAnchor:[17,35],popupAnchor:[0,-35],className:""})}).addTo(fe.current).bindPopup(`<div style="text-align: center; direction: ${n==="ar"?"rtl":"ltr"}"><strong>${W("deliveryLocationLabel",n)}</strong></div>`).openPopup(),Oe.current=!0)},[pe,g,w,n,q,r?.status]),k.useEffect(()=>{if(!(!fe.current||!T||!C||r?.status==="received"))if(xe.current)xe.current.setLatLng([T,C]);else{const je=Yt.marker([T,C],{icon:$e(z)}).addTo(fe.current).bindPopup(`<div style="text-align: center; direction: ${n==="ar"?"rtl":"ltr"}"><strong>${W("yourLocationLabel",n)}</strong></div>`);xe.current=je,(async()=>{try{const We=await fetch(`https://router.project-osrm.org/route/v1/driving/${C},${T};${w},${g}?geometries=geojson&overview=full&alternatives=true&steps=false`,{signal:AbortSignal.timeout(6e3)});if(We.ok){const ct=await We.json();if(ct.routes&&ct.routes.length>0){let He=ct.routes[0];ct.routes.length>1&&(He=ct.routes.reduce((Ye,mt)=>(mt.duration||0)<(Ye.duration||0)?mt:Ye));const Ze=He.geometry.coordinates.map(Ye=>[Ye[1],Ye[0]]);if(Ze&&Ze.length>0&&fe.current&&!Ce.current){const Ye=Yt.polyline(Ze,{color:"#2563eb",weight:3,opacity:.8}).addTo(fe.current);Ce.current=Ye;const mt=(He.distance||0)/1e3,an=(He.duration||0)/60;j(mt),K(an)}}}}catch{}})()}},[T,C,g,w,r?.status,n,z]),k.useEffect(()=>{z&&fe.current&&xe.current&&T&&C&&xe.current.setLatLng([T,C])},[T,C,z]);const Me=()=>{if(!(!fe.current||!g||!w)){if(ee(!re),Oe.current=!1,z&&T&&C)fe.current.setView([T,C],18);else if(T&&C){const je=Yt.latLngBounds([[T,C],[g,w]]);fe.current.fitBounds(je,{padding:[80,80]})}}};if(k.useEffect(()=>{!re||!fe.current||!T||!C||!g||!w||z&&fe.current.panTo([T,C])},[re,T,C,z]),k.useEffect(()=>{if(!pe)return;o(!0);const je=Rt(),Fe=Bt(je,"orders",pe),We=Ze=>{if(we.current&&we.current!==Ze.status){let Ye="",mt="";Ze.status==="shipped"?(Ye=W("orderShipped",n),mt=W("orderShippedMessage",n)):Ze.status==="in-transit"?(Ye=W("outForDelivery",n),mt=W("outForDeliveryMessage",n)):Ze.status==="received"&&(Ye=W("delivered",n),mt=W("deliveredMessage",n)),Ye&&mt&&LOe(Ye,mt,{orderId:pe,status:Ze.status})}if(we.current=Ze.status,i(Ze),Ze.deliveryLat&&Ze.deliveryLng)b(Ze.deliveryLat),P(Ze.deliveryLng);else if(Ze.latitude&&Ze.longitude)b(Ze.latitude),P(Ze.longitude);else{const Ye=Ze.shippingAddress||Ze.deliveryAddress||Ze.shippingZone||"";Ye&&be(Ye)}Ze.latitude&&Ze.longitude&&(d(Ze.latitude),p(Ze.longitude))},ct=np(Fe,Ze=>{if(Ze.exists()){const Ye=Ze.data();We(Ye)}o(!1)},Ze=>{console.error("Error listening to order:",Ze),o(!1)}),He=setInterval(async()=>{try{const Ze=await Xi(Fe);if(Ze.exists()){const Ye=Ze.data();We(Ye)}}catch(Ze){console.error("Polling error:",Ze)}},2e3);return()=>{ct(),clearInterval(He)}},[pe,n]),a)return m.jsx(mr,{children:m.jsx("div",{className:"w-full flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})})});if(!r)return m.jsx(mr,{children:m.jsxs("div",{className:"w-full flex-1 flex flex-col",children:[m.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:m.jsxs("button",{onClick:()=>e("/delivery"),className:"flex items-center gap-2",children:[m.jsx(Vs,{size:20}),m.jsx("span",{children:W("backButton",n)})]})}),m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsx("p",{children:W("orderNotFound",n)})})]})});const Pe=r.shippingAddress||r.deliveryAddress||r.shippingZone||"";return r.deliveryLat&&r.deliveryLng?`${r.deliveryLat}${r.deliveryLng}`:r.latitude&&r.longitude?`${r.latitude}${r.longitude}`:Pe&&`${encodeURIComponent(Pe)}`,m.jsx(mr,{children:m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-3 py-0 border-b border-gray-100 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-1 h-8",children:[m.jsxs("button",{onClick:()=>e("/delivery"),className:"flex items-center gap-0.5 min-w-0",children:[m.jsx(Vs,{size:14}),m.jsx("span",{className:"font-semibold text-[10px] truncate",children:W("backButton",n)})]}),m.jsxs("div",{className:"flex items-center gap-0 flex-shrink-0",children:[r?.status!=="received"&&m.jsx("button",{onClick:()=>ie(!z),className:`p-1 rounded transition-colors ${z?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"data-testid":"button-navigation",title:W("navigate",n),children:m.jsx(Eoe,{size:12})}),q&&g&&w&&m.jsx("button",{onClick:Me,className:`p-1 rounded transition-colors ${re?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,"data-testid":"button-recenter-map",title:W("centerMap",n),children:m.jsx(qoe,{size:12})}),m.jsx("button",{onClick:()=>H(!q),className:"p-1 rounded bg-gray-100 hover:bg-gray-200 transition-colors","data-testid":"button-toggle-map",title:W(q?"closeMap":"openMap",n),children:q?m.jsx(eoe,{size:12,className:"text-gray-700"}):m.jsx(Yse,{size:12,className:"text-gray-700"})})]})]}),m.jsxs("h1",{className:"text-xs font-bold truncate leading-tight",children:["Order #",r.orderNumber||"N/A"]}),m.jsx("p",{className:"text-[9px] text-gray-500 leading-tight",children:new Date(r.createdAt).toLocaleDateString()})]}),q&&r?.status!=="received"&&r?.status!=="cancelled"&&m.jsx(m.Fragment,{children:R?m.jsxs("div",{className:"w-full bg-blue-50 border-b border-blue-200 flex items-center justify-center gap-2 py-3",children:[m.jsx(F2,{size:18,className:"animate-spin text-blue-600"}),m.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:W("loadingMapMessage",n)})]}):g&&w?m.jsx("div",{className:"w-full bg-blue-100 border-b border-blue-300 overflow-hidden h-80",ref:ce}):m.jsxs("div",{className:"w-full bg-gray-200 border-b border-gray-300 py-12 flex items-center justify-center gap-2",children:[m.jsx(ql,{size:20,className:"text-gray-600"}),m.jsx("span",{className:"text-gray-600 font-semibold",children:W("noLocationInfoMessage",n)})]})}),r?.status==="received"&&m.jsxs("div",{className:"w-full bg-green-50 border-b border-green-300 py-8 flex items-center justify-center gap-2",children:[m.jsx(ql,{size:20,className:"text-green-600"}),m.jsx("span",{className:"text-green-600 font-semibold",children:W("deliveredMapUnavailableMessage",n)})]}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto px-5 py-4 space-y-4",children:[m.jsxs("div",{className:"bg-gray-50 rounded-2xl p-3 border border-gray-200",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600",children:n==="ar"?"":"Distance"}),m.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[le.toFixed(1)," ",m.jsx("span",{className:"text-xs",children:"km"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600",children:n==="ar"?"":"Time"}),m.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[Math.round(le/Q*60)," ",m.jsx("span",{className:"text-xs",children:n==="ar"?"":"m"})]})]})]}),m.jsxs("div",{className:"flex gap-1.5",children:[m.jsx("button",{onClick:()=>ae(30),className:`flex-1 py-1 px-2 rounded-lg font-semibold text-sm ${Q===30?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-200"}`,"data-testid":"button-speed-30",children:"30"}),m.jsx("button",{onClick:()=>ae(50),className:`flex-1 py-1 px-2 rounded-lg font-semibold text-sm ${Q===50?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-200"}`,"data-testid":"button-speed-50",children:"50"}),m.jsx("button",{onClick:()=>ae(70),className:`flex-1 py-1 px-2 rounded-lg font-semibold text-sm ${Q===70?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-200"}`,"data-testid":"button-speed-70",children:"70"})]})]}),r.items&&r.items.length>0&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("h2",{className:"font-bold text-base mb-3",children:W("itemsTitle",n)}),m.jsx("div",{className:"space-y-2",children:r.items.map((je,Fe)=>m.jsxs("div",{className:"flex justify-between text-base pb-2 border-b border-gray-100 last:border-0",children:[m.jsx("span",{className:"font-semibold",children:je.title}),m.jsxs("span",{className:"text-gray-600",children:["x",je.quantity]}),m.jsxs("span",{className:"font-bold",children:["L.E ",(je.price*je.quantity).toFixed(2)]})]},Fe))})]}),N&&V||z?m.jsxs("div",{className:`rounded-2xl p-4 border ${z?"bg-blue-100 border-blue-300":"bg-blue-50 border-blue-200"}`,children:[m.jsx("h2",{className:"font-bold text-base mb-3 text-blue-900",children:W(z?"activeNavigation":"routeInfo",n)}),m.jsxs("div",{className:"space-y-2 text-base",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-blue-700",children:W(z?"remainingDistance":"distance",n)}),m.jsxs("span",{className:"font-semibold text-blue-900",children:[z&&de?de.toFixed(1):N?.toFixed(1)," km"]})]}),!z&&V&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-blue-700",children:W("estimatedTime",n)}),m.jsxs("span",{className:"font-semibold text-blue-900",children:[Math.ceil(V)," ",W("minute",n)]})]}),z&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-blue-700",children:W("status",n)}),m.jsx("span",{className:"font-semibold text-green-600",children:W("inTransit",n)})]})]})]}):null,m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 space-y-3",children:[r.paymentMethod&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx(oq,{size:18,className:"text-indigo-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-600",children:W("payment",n)}),m.jsx("p",{className:"text-base font-semibold",children:r.paymentMethod})]})]}),r.shippingZone&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx(H2,{size:18,className:"text-green-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-600",children:W("shippingZoneLabel",n)}),m.jsx("p",{className:"text-base font-semibold",children:r.shippingZone})]})]}),r.notes&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Lx,{size:18,className:"text-yellow-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-600",children:W("notesLabel",n)}),m.jsx("p",{className:"text-base",children:r.notes})]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("h2",{className:"font-bold text-base mb-3",children:W("priceBreakdown",n)}),m.jsxs("div",{className:"space-y-2 text-base",children:[r.subtotal!==void 0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-700",children:W("subtotalLabel",n)}),m.jsxs("span",{className:"font-semibold",children:["L.E ",r.subtotal.toFixed(2)]})]}),r.discountAmount?m.jsxs("div",{className:"flex justify-between text-red-600",children:[m.jsx("span",{children:W("discountLabel",n)}),m.jsxs("span",{className:"font-semibold",children:["-L.E ",r.discountAmount.toFixed(2)]})]}):null,r.shippingCost!==void 0&&r.shippingCost>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-700",children:W("shippingLabel",n)}),m.jsxs("span",{className:"font-semibold",children:["+L.E ",r.shippingCost.toFixed(2)]})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between font-bold text-lg",children:[m.jsx("span",{children:W("totalLabel",n)}),m.jsxs("span",{children:["L.E ",r.total.toFixed(2)]})]})]})]})]}),m.jsx(Bs,{})]})})}function BOe(){const[t,e]=ji(),{language:n}=mi(),[r,i]=k.useState(null),[a,o]=k.useState(!0),c=t.split("/delivery-order-info/")[1]?.split("?")[0];k.useEffect(()=>{(async()=>{if(!c){o(!1);return}try{const p=Rt(),g=Bt(p,"orders",c),b=await Xi(g);b.exists()&&i({id:b.id,...b.data()})}catch(p){console.error("Failed to load order:",p),Ue.error(n==="ar"?"  ":"Failed to load order")}finally{o(!1)}})()},[c,n]);const d=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-700";case"shipped":return"bg-blue-100 text-blue-700";case"received":return"bg-green-100 text-green-700";case"completed":return"bg-emerald-100 text-emerald-700";default:return"bg-gray-100 text-gray-700"}};return m.jsx(mr,{children:a?m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})}):r?m.jsxs("div",{className:"flex flex-col h-screen relative",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-20",children:m.jsxs("div",{className:"px-5 py-4 flex items-center gap-3",children:[m.jsx("button",{onClick:()=>e("/delivery"),className:"text-gray-600 hover:text-gray-900",children:m.jsx(Vs,{size:24})}),m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n==="ar"?" ":"Order Details"})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 pb-24",children:[m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Order #",r.orderNumber||"N/A"]}),m.jsx("span",{className:`text-xs font-semibold px-3 py-1 rounded-full ${d(r.status)}`,children:W(r.status,n)})]}),m.jsx("p",{className:"text-xs text-gray-500",children:new Date(r.createdAt).toLocaleString()}),r.deliveryUsername&&m.jsxs("p",{className:"text-xs text-orange-600 font-semibold mt-1",children:[" ",r.deliveryUsername]})]}),(r.customerName||r.recipientName)&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:n==="ar"?"":"Customer"}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(G2,{size:18,className:"text-blue-500 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r.customerName||r.recipientName||"N/A"}),r.recipientName&&r.recipientName!==r.customerName&&m.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[n==="ar"?": ":"Recipient: ",r.recipientName]})]})]})]}),r.shippingAddress&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:n==="ar"?"":"Address"}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(ql,{size:18,className:"text-red-500 mt-0.5 flex-shrink-0"}),m.jsx("p",{className:"text-sm text-gray-900",children:r.shippingAddress})]})]}),r.shippingPhone&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:n==="ar"?"":"Phone"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Noe,{size:18,className:"text-green-500"}),m.jsx("a",{href:`tel:${r.shippingPhone}`,className:"text-sm text-blue-600 hover:underline",children:r.shippingPhone})]})]}),r.items&&r.items.length>0&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:n==="ar"?"":"Items"}),m.jsx("div",{className:"space-y-2",children:r.items.map((f,p)=>m.jsxs("div",{className:"flex justify-between items-start pb-2 border-b border-gray-100 last:border-b-0",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.name||"Product"}),m.jsxs("p",{className:"text-xs text-gray-500",children:["x",f.quantity||1]})]}),m.jsxs("p",{className:"text-sm font-semibold text-orange-600",children:["L.E ",(f.price||0).toFixed(2)]})]},p))})]}),m.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 border border-gray-200 mb-4",children:m.jsxs("div",{className:"space-y-2",children:[r.subtotal&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:n==="ar"?" ":"Subtotal"}),m.jsxs("span",{className:"font-semibold text-gray-900",children:["L.E ",r.subtotal.toFixed(2)]})]}),r.discountAmount&&r.discountAmount>0&&m.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[m.jsx("span",{children:n==="ar"?"":"Discount"}),m.jsxs("span",{children:["-L.E ",r.discountAmount.toFixed(2)]})]}),r.shippingCost&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:n==="ar"?"":"Shipping"}),m.jsxs("span",{className:"font-semibold text-gray-900",children:["L.E ",r.shippingCost.toFixed(2)]})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between",children:[m.jsx("span",{className:"font-semibold text-gray-900",children:n==="ar"?"":"Total"}),m.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["L.E ",r.total.toFixed(2)]})]})]})}),r.paymentMethod&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:n==="ar"?" ":"Payment Method"}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(oq,{size:18,className:"text-purple-500"}),m.jsx("p",{className:"text-sm text-gray-900",children:r.paymentMethod})]})]}),r.deliveryRemarks&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 mb-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:n==="ar"?" ":"Delivery Remarks"}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Lx,{size:18,className:"text-amber-500 mt-0.5 flex-shrink-0"}),m.jsx("p",{className:"text-sm text-gray-900",children:r.deliveryRemarks})]})]}),r.notes&&m.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:n==="ar"?"":"Notes"}),m.jsx("p",{className:"text-sm text-gray-900",children:r.notes})]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]}):m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("div",{className:"text-center",children:m.jsx("p",{className:"text-gray-500",children:W("orderNotFound",n)})})})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK="firebasestorage.googleapis.com",dK="storageBucket",zOe=120*1e3,UOe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Jo{constructor(e,n,r=0){super(YE(e),`Firebase Storage: ${n} (${YE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return YE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gr||(gr={}));function YE(t){return"storage/"+t}function jj(){const t="An unknown error occurred, please check the error payload for server response.";return new yr(gr.UNKNOWN,t)}function $Oe(t){return new yr(gr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function FOe(t){return new yr(gr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qOe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yr(gr.UNAUTHENTICATED,t)}function HOe(){return new yr(gr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GOe(t){return new yr(gr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KOe(){return new yr(gr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WOe(){return new yr(gr.CANCELED,"User canceled the upload/download.")}function ZOe(t){return new yr(gr.INVALID_URL,"Invalid URL '"+t+"'.")}function YOe(t){return new yr(gr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XOe(){return new yr(gr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dK+"' property when initializing the app?")}function QOe(){return new yr(gr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JOe(){return new yr(gr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eCe(t){return new yr(gr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function EC(t){return new yr(gr.INVALID_ARGUMENT,t)}function fK(){return new yr(gr.APP_DELETED,"The Firebase app was deleted.")}function tCe(t){return new yr(gr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fm(t,e){return new yr(gr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function cm(t){throw new yr(gr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=is.makeFromUrl(e,n)}catch{return new is(e,"")}if(r.path==="")return r;throw YOe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${i}/o${b}`,"i"),P={bucket:1,path:3},T=n===uK?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",C=new RegExp(`^https?://${T}/${i}/${A}`,"i"),R=[{regex:c,indices:d,postModify:a},{regex:w,indices:P,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<R.length;$++){const I=R[$],B=I.regex.exec(e);if(B){const N=B[I.indices.bucket];let j=B[I.indices.path];j||(j=""),r=new is(N,j),I.postModify(r);break}}if(r==null)throw ZOe(e);return r}}class nCe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rCe(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let f=!1;function p(...A){f||(f=!0,e.apply(null,A))}function g(A){i=setTimeout(()=>{i=null,t(w,d())},A)}function b(){a&&clearTimeout(a)}function w(A,...C){if(f){b();return}if(A){b(),p.call(null,A,...C);return}if(d()||o){b(),p.call(null,A,...C);return}r<64&&(r*=2);let R;c===1?(c=2,R=0):R=(r+Math.random())*1e3,g(R)}let P=!1;function T(A){P||(P=!0,b(),!f&&(i!==null?(A||(c=2),clearTimeout(i),g(0)):A||(c=1)))}return g(0),a=setTimeout(()=>{o=!0,T(!0)},n),T}function iCe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aCe(t){return t!==void 0}function sCe(t){return typeof t=="object"&&!Array.isArray(t)}function Ij(t){return typeof t=="string"||t instanceof String}function dU(t){return Rj()&&t instanceof Blob}function Rj(){return typeof Blob<"u"}function fU(t,e,n,r){if(r<e)throw EC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw EC(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hK(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var vd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vd||(vd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oCe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lCe{constructor(e,n,r,i,a,o,c,d,f,p,g,b=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,T)=>{this.resolve_=P,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Jv(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===vd.NO_ERROR,d=a.getStatus();if(!c||oCe(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===vd.ABORT;r(!1,new Jv(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new Jv(f,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());aCe(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=jj();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?fK():WOe();o(d)}else{const d=KOe();o(d)}};this.canceled_?n(!1,new Jv(!1,null,!0)):this.backoffId_=rCe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iCe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cCe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uCe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dCe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fCe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hCe(t,e,n,r,i,a,o=!0,c=!1){const d=hK(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return dCe(p,e),cCe(p,n),uCe(p,a),fCe(p,r),new lCe(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pCe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mCe(...t){const e=pCe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rj())return new Blob(t);throw new yr(gr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gCe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yCe(t){if(typeof atob>"u")throw eCe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class XE{constructor(e,n){this.data=e,this.contentType=n||null}}function vCe(t,e){switch(t){case Mo.RAW:return new XE(pK(e));case Mo.BASE64:case Mo.BASE64URL:return new XE(mK(t,e));case Mo.DATA_URL:return new XE(xCe(e),_Ce(e))}throw jj()}function pK(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bCe(t){let e;try{e=decodeURIComponent(t)}catch{throw Fm(Mo.DATA_URL,"Malformed data URL.")}return pK(e)}function mK(t,e){switch(t){case Mo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Fm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Fm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yCe(e)}catch(i){throw i.message.includes("polyfill")?i:Fm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class gK{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fm(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=wCe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function xCe(t){const e=new gK(t);return e.base64?mK(Mo.BASE64,e.rest):bCe(e.rest)}function _Ce(t){return new gK(t).contentType}function wCe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){let r=0,i="";dU(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(dU(this.data_)){const r=this.data_,i=gCe(r,e,n);return i===null?null:new $c(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $c(r,!0)}}static getBlob(...e){if(Rj()){const n=e.map(r=>r instanceof $c?r.data_:r);return new $c(mCe.apply(null,n))}else{const n=e.map(o=>Ij(o)?vCe(Mo.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new $c(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t){let e;try{e=JSON.parse(t)}catch{return null}return sCe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SCe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TCe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vK(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ACe(t,e){return e}class ua{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ACe}}let eb=null;function ECe(t){return!Ij(t)||t.length<2?t:vK(t)}function bK(){if(eb)return eb;const t=[];t.push(new ua("bucket")),t.push(new ua("generation")),t.push(new ua("metageneration")),t.push(new ua("name","fullPath",!0));function e(a,o){return ECe(o)}const n=new ua("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new ua("size");return i.xform=r,t.push(i),t.push(new ua("timeCreated")),t.push(new ua("updated")),t.push(new ua("md5Hash",null,!0)),t.push(new ua("cacheControl",null,!0)),t.push(new ua("contentDisposition",null,!0)),t.push(new ua("contentEncoding",null,!0)),t.push(new ua("contentLanguage",null,!0)),t.push(new ua("contentType",null,!0)),t.push(new ua("metadata","customMetadata",!0)),eb=t,eb}function PCe(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new is(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function OCe(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return PCe(r,t),r}function xK(t,e,n){const r=yK(e);return r===null?null:OCe(t,r,n)}function CCe(t,e,n,r){const i=yK(e);if(i===null||!Ij(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const p=t.bucket,g=t.fullPath,b="/b/"+o(p)+"/o/"+o(g),w=Mj(b,n,r),P=hK({alt:"media",token:f});return w+P})[0]}function NCe(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class _K{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){if(!t)throw jj()}function jCe(t,e){function n(r,i){const a=xK(t,i,e);return wK(a!==null),a}return n}function ICe(t,e){function n(r,i){const a=xK(t,i,e);return wK(a!==null),CCe(a,i,t.host,t._protocol)}return n}function SK(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=HOe():i=qOe():n.getStatus()===402?i=FOe(t.bucket):n.getStatus()===403?i=GOe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function RCe(t){const e=SK(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=$Oe(t.path)),a.serverResponse=i.serverResponse,a}return n}function MCe(t,e,n){const r=e.fullServerUrl(),i=Mj(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new _K(i,a,ICe(t,n),o);return c.errorHandler=RCe(e),c}function DCe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function kCe(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=DCe(null,e)),r}function LCe(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let R="";for(let $=0;$<2;$++)R=R+Math.random().toString().slice(2);return R}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const f=kCe(e,r,i),p=NCe(f,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,b=`\r
--`+d+"--",w=$c.getBlob(g,r,b);if(w===null)throw QOe();const P={name:f.fullPath},T=Mj(a,t.host,t._protocol),A="POST",C=t.maxUploadRetryTime,D=new _K(T,A,jCe(t,n),C);return D.urlParams=P,D.headers=o,D.body=w.uploadData(),D.errorHandler=SK(e),D}class VCe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw cm("cannot .send() more than once");if(cu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BCe extends VCe{initXhr(){this.xhr_.responseType="text"}}function TK(){return new BCe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this._service=e,n instanceof is?this._location=n:this._location=is.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Md(e,n)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vK(this._location.path)}get storage(){return this._service}get parent(){const e=SCe(this._location.path);if(e===null)return null;const n=new is(this._location.bucket,e);return new Md(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tCe(e)}}function zCe(t,e,n){t._throwIfRoot("uploadBytes");const r=LCe(t.storage,t._location,bK(),new $c(e,!0),n);return t.storage.makeRequestWithTokens(r,TK).then(i=>({metadata:i,ref:t}))}function UCe(t){t._throwIfRoot("getDownloadURL");const e=MCe(t.storage,t._location,bK());return t.storage.makeRequestWithTokens(e,TK).then(n=>{if(n===null)throw JOe();return n})}function $Ce(t,e){const n=TCe(t._location.path,e),r=new is(t._location.bucket,n);return new Md(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FCe(t){return/^[A-Za-z]+:\/\//.test(t)}function qCe(t,e){return new Md(t,e)}function AK(t,e){if(t instanceof Dj){const n=t;if(n._bucket==null)throw XOe();const r=new Md(n,n._bucket);return e!=null?AK(r,e):r}else return e!==void 0?$Ce(t,e):t}function HCe(t,e){if(e&&FCe(e)){if(t instanceof Dj)return qCe(t,e);throw EC("To use ref(service, url), the first argument must be a Storage instance.")}else return AK(t,e)}function hU(t,e){const n=e?.[dK];return n==null?null:is.makeFromBucketSpec(n,t)}function GCe(t,e,n,r={}){t.host=`${e}:${n}`;const i=cu(e);i&&(qC(`https://${t.host}/b`),HC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:V$(a,t.app.options.projectId))}class Dj{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=uK,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zOe,this._maxUploadRetryTime=UOe,this._requests=new Set,i!=null?this._bucket=is.makeFromBucketSpec(i,this._host):this._bucket=hU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=is.makeFromBucketSpec(this._url,e):this._bucket=hU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fU("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fU("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Md(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new nCe(fK());{const o=hCe(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const pU="@firebase/storage",mU="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK="storage";function KCe(t,e,n){return t=sr(t),zCe(t,e,n)}function WCe(t){return t=sr(t),UCe(t)}function ZCe(t,e){return t=sr(t),HCe(t,e)}function YCe(t=WC(),e){t=sr(t);const r=dx(t,EK).getImmediate({identifier:e}),i=D$("storage");return i&&XCe(r,...i),r}function XCe(t,e,n,r={}){GCe(t,e,n,r)}function QCe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Dj(n,r,i,e,kd)}function JCe(){wd(new Jc(EK,QCe,"PUBLIC").setMultipleInstances(!0)),ko(pU,mU,""),ko(pU,mU,"esm2020")}JCe();async function e2e(){try{const t=Rt(),e=Bt(t,"settings","firebase");return(await Xi(e)).exists()||await mh(e,{firebaseApiKey:"AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI",firebaseProjectId:"myapp-d9024",firebaseAppId:"1:985459317658:web:bee1f2fd2e4c16df74f823",firebaseAuthDomain:"myapp-d9024.firebaseapp.com",firebaseStorageBucket:"myapp-d9024.firebasestorage.app",firebaseMessagingSenderId:"985459317658",firebaseMeasurementId:"G-17B5K4J0P0",projectId:"myapp-d9024",updatedAt:new Date}),!0}catch{return!1}}function t2e(){const[,t]=ji(),[e,n]=k.useState(""),[r,i]=k.useState(""),[a,o]=k.useState(""),[c,d]=k.useState(""),[f,p]=k.useState(""),[g,b]=k.useState(""),[w,P]=k.useState(""),[T,A]=k.useState(""),[C,D]=k.useState(""),[R,$]=k.useState(""),[I,B]=k.useState(""),[N,j]=k.useState(""),[V,K]=k.useState(""),[q,H]=k.useState(""),[z,ie]=k.useState(""),[de,X]=k.useState(""),[re,ee]=k.useState(""),[le,oe]=k.useState(""),[Q,ae]=k.useState(""),[ce,fe]=k.useState(""),[xe,Ce]=k.useState(!1),[Oe,we]=k.useState(null),[pe,Be]=k.useState(!1);k.useEffect(()=>{(async()=>{try{await e2e();const Fe=Rt(),We=Bt(Fe,"settings","firebase"),ct=await Xi(We);if(ct.exists()){const Ye=ct.data();Ye.firebaseApiKey?n(Ye.firebaseApiKey):n("AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI"),Ye.firebaseProjectId?i(Ye.firebaseProjectId):i("myapp-d9024"),Ye.firebaseAppId?o(Ye.firebaseAppId):o("1:985459317658:web:bee1f2fd2e4c16df74f823"),d(Ye.firebaseAuthDomain||"myapp-d9024.firebaseapp.com"),p(Ye.firebaseStorageBucket||"myapp-d9024.firebasestorage.app"),b((Ye.firebaseMessagingSenderId||"985459317658").trim()),P(Ye.firebaseMeasurementId||"G-17B5K4J0P0")}else n("AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI"),i("myapp-d9024"),o("1:985459317658:web:bee1f2fd2e4c16df74f823"),d("myapp-d9024.firebaseapp.com"),p("myapp-d9024.firebasestorage.app"),b("985459317658".trim()),P("G-17B5K4J0P0");const He=Bt(Fe,"settings","store"),Ze=await Xi(He);if(Ze.exists()){const Ye=Ze.data();A(Ye.name||""),D(Ye.logo||""),$(Ye.address||""),B(Ye.phone||""),j(Ye.email||""),K(Ye.gmailUser||""),H(Ye.gmailPassword||""),ie(Ye.adminEmail||""),X(Ye.brevoApiKey||""),ee(Ye.brevoFromEmail||""),oe(Ye.brevoFromName||"")}}catch{}})()},[]);const $e=async je=>{const Fe=je.target.files?.[0];if(Fe){if(!Fe.type.startsWith("image/")){Ue.error("Please upload an image file");return}if(Fe.size>5*1024*1024){Ue.error("Image size must be less than 5MB");return}Be(!0);try{const We=YCe(),ct=ZCe(We,`logos/${Date.now()}-${Fe.name}`);await KCe(ct,Fe);const He=await WCe(ct);D(He),Ue.success("Logo uploaded successfully!")}catch(We){console.error("Upload error:",We),Ue.error("Failed to upload logo")}finally{Be(!1)}}},be=async()=>{try{const je=await fetch("http://localhost:3001/api/env/firebase");if(!je.ok){Ue.error("Failed to load from server");return}const Fe=await je.json(),We=Fe.VITE_FIREBASE_API_KEY||"",ct=Fe.VITE_FIREBASE_PROJECT_ID||"",He=Fe.VITE_FIREBASE_APP_ID||"",Ze=Fe.VITE_FIREBASE_AUTH_DOMAIN||"",Ye=Fe.VITE_FIREBASE_STORAGE_BUCKET||"",mt=Fe.VITE_FIREBASE_MESSAGING_SENDER_ID||"",an=Fe.VITE_FIREBASE_MEASUREMENT_ID||"";console.log(" Loading from Environment:",{apiKey:We?" Present":" Missing",projectId:ct?" Present":" Missing",appId:He?" Present":" Missing"}),n(We),i(ct),o(He),d(Ze),p(Ye),b(mt),P(an),We&&ct&&He?Ue.success(" Loaded Firebase credentials from environment!"):Ue.warning(" Some environment variables are missing")}catch(je){console.error("Error loading environment:",je),Ue.error("Could not connect to server to load environment variables")}},Me=async()=>!e||!r||!a?(Ue.error(`Required fields missing:
 Firebase API Key
 Firebase Project ID
 Firebase App ID`),!1):e.startsWith("AIza")?a.includes(":")?!0:(Ue.error("Invalid Firebase App ID format"),!1):(Ue.error("Invalid Firebase API Key (must start with 'AIza')"),!1),Pe=async()=>{if(Q!=="8094"){fe("Invalid access code"),Ue.error("Incorrect access code");return}fe(""),Ce(!0);try{if(!await Me())return;const Fe=Rt(),We=Bt(Fe,"settings","firebase");await mh(We,{firebaseApiKey:e,firebaseProjectId:r,firebaseAppId:a,updatedAt:new Date},{merge:!1});const ct=Bt(Fe,"settings","store");await mh(ct,{name:T,logo:C,address:R,phone:I,email:N,gmailUser:V,gmailPassword:q,adminEmail:z,brevoApiKey:de,brevoFromEmail:re,brevoFromName:le,updatedAt:new Date}),Hfe({apiKey:e,projectId:r,appId:a,authDomain:c,storageBucket:f,messagingSenderId:g,measurementId:w}),localStorage.removeItem("firebase_client_config"),jse(),Ue.success("All settings saved successfully! Reloading app..."),setTimeout(()=>{window.location.reload()},800)}catch(je){console.error("Save error:",je),Ue.error(je.message||"Failed to save settings")}finally{Ce(!1)}};return m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 pb-4 pt-2 border-b border-gray-100 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[T?m.jsxs("div",{className:"flex items-center gap-3",children:[C?m.jsx("img",{src:C,alt:T,className:"w-12 h-12 rounded-xl object-cover shadow-md border border-gray-100"}):m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-2xl shadow-lg leading-none",children:T.charAt(0)}),m.jsx("h1",{className:"text-lg font-bold",children:T})]}):m.jsx("div",{className:"w-32 h-7 bg-gray-200 rounded-lg animate-pulse"}),m.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center hover:bg-gray-50","data-testid":"button-back",children:m.jsx(Vs,{className:"w-5 h-5"})})]}),m.jsx("div",{children:m.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure your application"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 w-full",children:m.jsxs("div",{className:"w-full px-5 py-6",children:[m.jsxs("div",{className:"mb-8 p-4 bg-amber-50 border border-amber-200 rounded-2xl",children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"sn",children:" Access Code (Required to modify settings)"}),m.jsx("input",{id:"sn",type:"password",value:Q,onChange:je=>ae(je.target.value),placeholder:"Enter access code",className:`w-full px-5 py-3 bg-white border rounded-2xl text-sm focus:outline-none focus:ring-2 ${ce?"border-red-300 focus:ring-red-200 focus:border-red-500":"border-gray-200 focus:ring-primary/20 focus:border-primary"}`,"data-testid":"input-sn"}),ce&&m.jsx("p",{className:"text-xs text-red-600 mt-2",children:ce})]}),m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-bold",children:"Firebase Authentication"}),m.jsx("button",{onClick:be,className:"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors","data-testid":"button-load-env",children:" Load from Environment"})]}),m.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Configure your Firebase project for client-side authentication (sign up/login)"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseApiKey",children:"Firebase API Key"}),m.jsx("input",{id:"firebaseApiKey",type:"text",value:e,onChange:je=>n(je.target.value),placeholder:"AIza...",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-api-key"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseProjectId",children:"Firebase Project ID"}),m.jsx("input",{id:"firebaseProjectId",type:"text",value:r,onChange:je=>i(je.target.value),placeholder:"your-project-id",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-project-id"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseAppId",children:"Firebase App ID"}),m.jsx("input",{id:"firebaseAppId",type:"text",value:a,onChange:je=>o(je.target.value),placeholder:"1:123456789:web:abcd1234efgh5678ijkl",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-app-id"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseAuthDomain",children:"Auth Domain"}),m.jsx("input",{id:"firebaseAuthDomain",type:"text",value:c,onChange:je=>d(je.target.value),placeholder:"your-project.firebaseapp.com",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-auth-domain"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseStorageBucket",children:"Storage Bucket"}),m.jsx("input",{id:"firebaseStorageBucket",type:"text",value:f,onChange:je=>p(je.target.value),placeholder:"your-project.appspot.com",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-storage-bucket"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseMessagingSenderId",children:"Messaging Sender ID"}),m.jsx("input",{id:"firebaseMessagingSenderId",type:"text",value:g,onChange:je=>b(je.target.value),placeholder:"123456789012",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-messaging-sender-id"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"firebaseMeasurementId",children:"Measurement ID"}),m.jsx("input",{id:"firebaseMeasurementId",type:"text",value:w,onChange:je=>P(je.target.value),placeholder:"G-XXXXXXXXXX",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-firebase-measurement-id"})]})]})]}),m.jsxs("div",{className:"mb-8 pt-8 border-t border-gray-200",children:[m.jsx("h2",{className:"text-lg font-bold mb-4",children:"Store Information"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Configure your store details"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"storeName",children:"Store Name"}),m.jsx("input",{id:"storeName",type:"text",value:T,onChange:je=>A(je.target.value),placeholder:"Your Store Name",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-store-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"storeLogo",children:"Store Logo"}),m.jsxs("label",{htmlFor:"storeLogo",className:"w-full px-5 py-4 bg-white border-2 border-dashed border-gray-300 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary cursor-pointer hover:border-gray-400 transition-colors flex items-center justify-center gap-2","data-testid":"button-upload-logo",children:[m.jsx(Yoe,{className:"w-4 h-4"}),m.jsx("span",{className:"text-gray-600",children:pe?"Uploading...":"Click to upload logo"})]}),m.jsx("input",{id:"storeLogo",type:"file",accept:"image/*",onChange:$e,disabled:pe,className:"hidden","data-testid":"input-store-logo"}),C&&m.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[m.jsx("img",{src:C,alt:"Logo Preview",className:"w-12 h-12 rounded-xl object-cover border border-gray-200"}),m.jsx("span",{className:"text-xs text-muted-foreground",children:"Logo set"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"storeAddress",children:"Address"}),m.jsx("input",{id:"storeAddress",type:"text",value:R,onChange:je=>$(je.target.value),placeholder:"Store Address",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-store-address"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"storePhone",children:"Phone Number"}),m.jsx("input",{id:"storePhone",type:"tel",value:I,onChange:je=>B(je.target.value),placeholder:"+1 234 567 8900",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-store-phone"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"storeEmail",children:"Email"}),m.jsx("input",{id:"storeEmail",type:"email",value:N,onChange:je=>j(je.target.value),placeholder:"info@store.com",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-store-email"})]})]})]}),m.jsxs("div",{className:"mb-8 pt-8 border-t border-gray-200",children:[m.jsx("h2",{className:"text-lg font-bold mb-4",children:" Email Settings (Brevo)"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Send order confirmations automatically via Brevo"}),m.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-6 text-xs",children:[m.jsx("p",{children:m.jsx("strong",{children:" Quick Setup:"})}),m.jsxs("ol",{className:"list-decimal list-inside ml-1 space-y-1 text-orange-900 mt-2",children:[m.jsxs("li",{children:["Sign up at ",m.jsx("a",{href:"https://brevo.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"brevo.com"})]}),m.jsx("li",{children:"Get API Key from Settings  API Keys"}),m.jsx("li",{children:"Add verified sender email"}),m.jsx("li",{children:"Paste all details below "})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"brevoApiKey",children:"Brevo API Key"}),m.jsx("input",{id:"brevoApiKey",type:"password",value:de,onChange:je=>X(je.target.value),placeholder:"xkeysib_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-brevo-api-key"}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Get from ",m.jsx("a",{href:"https://app.brevo.com/settings/account/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"brevo.com/api-keys"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"brevoFromEmail",children:"From Email (Must be verified in Brevo)"}),m.jsx("input",{id:"brevoFromEmail",type:"email",value:re,onChange:je=>ee(je.target.value),placeholder:"noreply@yourdomain.com",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-brevo-from-email"}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" Verified sender email from your Brevo account"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"brevoFromName",children:"From Name"}),m.jsx("input",{id:"brevoFromName",type:"text",value:le,onChange:je=>oe(je.target.value),placeholder:"Order System",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-brevo-from-name"}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Name displayed as sender"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"adminEmail",children:"Admin Email"}),m.jsx("input",{id:"adminEmail",type:"email",value:z,onChange:je=>ie(je.target.value),placeholder:"admin@store.com",className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-admin-email"}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Admin will receive order notifications"})]})]})]}),m.jsx("div",{className:"pt-8 border-t border-gray-200",children:m.jsx("button",{onClick:Pe,disabled:xe,className:"w-full bg-emerald-600 text-white py-4 rounded-2xl font-semibold flex items-center justify-center gap-2 hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-save-all-settings",children:xe?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Roe,{className:"w-5 h-5"}),"Save All Settings"]})})})]})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}function n2e(){const[,t]=ji(),{items:e,removeItem:n,updateQuantity:r,total:i}=Yh(),{language:a}=mi(),[o,c]=k.useState([]);k.useEffect(()=>{(async()=>{try{const w=await AN();c(w||[])}catch{}})()},[]);const d=()=>{if(e.length===0){Ue.error(W("cartIsEmpty",a));return}t("/checkout")},f=b=>{const w=Pd(b.id,o);return w?Ux(b.price,w.discountPercentage):b.price},g=e.reduce((b,w)=>b+f(w)*w.quantity,0);return e.length===0?m.jsxs(mr,{children:[m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-5",children:[m.jsx("span",{className:"text-6xl mb-4",children:""}),m.jsx("h2",{className:"text-lg font-bold mb-2",children:W("cartIsEmpty",a)}),m.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:"Start shopping to add items"}),m.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-black text-white rounded-full text-sm font-semibold","data-testid":"button-continue-shopping",children:W("continueShoppingButton",a)})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]}):m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-b from-gray-50 to-white",children:[m.jsxs("div",{className:"px-5 py-4 flex items-center gap-3 bg-white border-b border-gray-200 flex-shrink-0 shadow-sm",children:[m.jsx("button",{onClick:()=>t("/"),className:"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition","data-testid":"button-back",children:m.jsx(Vs,{className:"w-4 h-4"})}),m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:W("cart",a)}),m.jsx("span",{className:"ml-auto text-xs font-semibold bg-black text-white px-2.5 py-1 rounded-full",children:e.length})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",style:{minHeight:0},children:m.jsxs("div",{className:"w-full px-4 py-3 space-y-2.5",children:[e.map(b=>m.jsxs("div",{className:"flex gap-3 p-3.5 bg-white rounded-xl border border-gray-200 shadow-xs hover:shadow-sm transition","data-testid":`cart-item-${b._uniqueId}`,children:[m.jsx("img",{src:b.image,alt:b.title,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0"}),m.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-sm text-gray-900 line-clamp-2",children:b.title}),(b.selectedColor||b.selectedSize||b.selectedUnit)&&m.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[b.selectedUnit&&m.jsx("span",{className:"inline-block px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-[8px] font-medium",children:b.selectedUnit}),b.selectedSize&&m.jsx("span",{className:"inline-block px-2 py-0.5 bg-purple-50 text-purple-700 rounded text-[8px] font-medium",children:b.selectedSize}),b.selectedColor&&(()=>{const[w,P]=typeof b.selectedColor=="string"?b.selectedColor.split("|"):[b.selectedColor,"#000000"];return m.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-[8px] font-medium",style:{backgroundColor:P||"#000000",color:["#ffffff","#f0f0f0","#e0e0e0"].includes((P||"#000000").toLowerCase())?"#000000":"#ffffff"},children:w})})()]})]}),m.jsxs("div",{className:"flex items-center justify-between mt-1",children:[(()=>{const w=Pd(b.id,o),P=f(b);return m.jsx("div",{children:w?m.jsxs("div",{className:"flex items-baseline gap-1",children:[m.jsxs("p",{className:"text-sm font-bold text-green-600",children:["L.E ",P.toFixed(2)]}),m.jsxs("p",{className:"text-xs text-gray-400 line-through",children:["L.E ",b.price.toFixed(2)]})]}):m.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["L.E ",b.price.toFixed(2)]})})})(),m.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>r(b._uniqueId,b.quantity-1),className:"p-1 rounded hover:bg-gray-200 transition","data-testid":`button-decrease-${b._uniqueId}`,children:m.jsx(Toe,{className:"w-3 h-3 text-gray-600"})}),m.jsx("span",{className:"w-4 text-center text-xs font-bold text-gray-900",children:b.quantity}),m.jsx("button",{onClick:()=>r(b._uniqueId,b.quantity+1),className:"p-1 rounded hover:bg-gray-200 transition","data-testid":`button-increase-${b._uniqueId}`,children:m.jsx(Wb,{className:"w-3 h-3 text-gray-600"})})]})]})]}),m.jsx("button",{onClick:()=>n(b._uniqueId),className:"text-red-500 hover:bg-red-50 rounded-lg p-2 transition self-start flex-shrink-0","data-testid":`button-remove-${b._uniqueId}`,children:m.jsx(Zb,{className:"w-4 h-4"})})]},b._uniqueId)),m.jsx("div",{className:"h-4"})]})}),m.jsxs("div",{className:"flex-shrink-0 px-4 py-2.5 bg-white border-t border-gray-200 shadow-2xl relative z-50",children:[m.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-3 space-y-1 border border-gray-200 mb-2",children:[g<i&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between text-xs",children:[m.jsx("span",{className:"text-gray-600",children:W("subtotal",a)}),m.jsxs("span",{className:"text-gray-600",children:["L.E ",i.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[m.jsx("span",{children:W("discountSavings",a)}),m.jsxs("span",{className:"font-semibold",children:["-L.E ",(i-g).toFixed(2)]})]})]}),m.jsxs("div",{className:"flex justify-between text-base font-bold text-gray-900 pt-1 border-t border-gray-200",children:[m.jsx("span",{children:W("total",a)}),m.jsxs("span",{className:"text-green-600",children:["L.E ",(g||i).toFixed(2)]})]})]}),m.jsx("button",{onClick:d,className:"w-full bg-gradient-to-r from-black to-gray-800 text-white py-2.5 rounded-lg font-bold hover:shadow-lg active:scale-95 transition-all text-sm","data-testid":"button-checkout",children:W("proceedToPayment",a)})]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}function r2e(){const[,t]=ji(),{items:e,clearCart:n}=Yh(),{user:r,isLoggedIn:i,isLoading:a,updateUserProfile:o}=zd(),{language:c}=mi(),[d,f]=k.useState(""),[p,g]=k.useState(""),[b,w]=k.useState(null),[P,T]=k.useState([]),[A,C]=k.useState(""),[D,R]=k.useState(""),[$,I]=k.useState(""),[B,N]=k.useState(""),[j,V]=k.useState(""),[K,q]=k.useState(""),[H,z]=k.useState(""),[ie,de]=k.useState(""),[X,re]=k.useState(!1),[ee,le]=k.useState(!1),[oe,Q]=k.useState([]),[ae,ce]=k.useState(!1),[fe,xe]=k.useState(null);k.useEffect(()=>{if(!a&&r&&(C(r.username||r.email?.split("@")[0]||""),R(r.phone||""),I(r.address||""),r.zoneId)){const Me=P.find(Pe=>Pe.id===r.zoneId);Me&&w(Me)}},[r,a,P]),k.useEffect(()=>{!a&&!i&&t("/login")},[i,a,t]),k.useEffect(()=>{(async()=>{re(!0);try{const je=(await kse()||[]).map(We=>({id:We.id,name:We.name,shippingCost:Number(We.shippingCost)||0}));T(je);const Fe=await Lse();Array.isArray(Fe)&&Q(Fe)}catch{}finally{re(!1)}})()},[]),k.useEffect(()=>{if(p==="saved"&&P.length>0){const Me=r?.zoneId?P.find(Pe=>Pe.id===r.zoneId):null;w(Me||P[0])}else p==="new"&&(w(null),I(""))},[p,P,r?.zoneId]);let Ce=0,Oe=0;e.forEach(Me=>{const Pe=Me.price*Me.quantity,je=Pd(Me.id,oe);if(je){const Fe=Rfe(Pe,je.discountPercentage);Oe+=Fe,Ce+=Pe-Fe}else Ce+=Pe});const we=b?.shippingCost||0,pe=Ce+we,Be=e.reduce((Me,Pe)=>Me+Pe.price*Pe.quantity,0),$e=d&&p&&b&&A.trim()&&D.trim()&&(p==="saved"||fe?.lat&&fe?.lng)&&(d==="delivery"||j.trim()&&K.replace(/\s/g,"").length>=13&&H.trim()&&ie.trim()),be=async()=>{if(!A.trim()){Ue.error(W("enterName",c));return}if(!D.trim()){Ue.error(W("enterPhone",c));return}if(p==="new"&&(!fe?.lat||!fe?.lng)){Ue.error(W("selectLocationFromMap",c));return}if(!d||!p||!b){Ue.error(W("selectAllOptions",c));return}if(!e?.length||!r?.id){Ue.error(W("dataError",c));return}le(!0);try{let Me,Pe,je="";if(p==="saved"){if(je=r?.address||b?.name||"",r?.addressLat&&r?.addressLng)Me=r.addressLat,Pe=r.addressLng;else if(fe?.lat&&fe?.lng)Me=fe.lat,Pe=fe.lng;else{Ue.error(W("selectLocationFromMap",c)),le(!1);return}(!r?.addressLat||!r?.addressLng)&&await o({phone:D,address:je,addressLat:Me,addressLng:Pe,zoneId:b?.id,zoneName:b?.name})}else if(Me=fe?.lat,Pe=fe?.lng,je=$.trim(),!Me||!Pe){Ue.error(W("selectLocationFromMap",c)),le(!1);return}if(!Me||!Pe){Ue.error(W("errorNoCoordinates",c)),le(!1);return}const We={id:`ord_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,orderNumber:Math.floor(Date.now()/1e3),userId:r.id,userEmail:r.email,customerName:A.trim(),customerPhone:D.trim(),shippingAddress:je,shippingPhone:D.trim(),deliveryLat:Me,deliveryLng:Pe,driverLat:null,driverLng:null,latitude:Me,longitude:Pe,notes:B.trim(),items:e.map(He=>({id:He.id||"",title:He.title||"",price:Number(He.price)||0,quantity:Number(He.quantity)||1,selectedColor:He.selectedColor||"",selectedSize:He.selectedSize||"",selectedUnit:He.selectedUnit||"",image:He.image||""})),subtotal:Number(Be)||0,discountedTotal:Number(Ce)||0,discountAmount:Number(Oe)||0,shippingCost:Number(we)||0,total:Number(pe)||0,status:"pending",paymentMethod:d,shippingType:p,shippingZone:b?.name||"",shippingZoneId:b?.id||"",customerEmail:r.email,createdAt:new Date().toISOString()};if(console.log(" Submitting order with email:",{deliveryLat:Me,deliveryLng:Pe,userEmail:r.email,orderId:We.id}),!await Mse(We))throw new Error("Failed to save order - check console logs");Ue.success("   !"),n(),Object.keys(localStorage).filter(He=>He.startsWith("cart")).forEach(He=>localStorage.removeItem(He)),le(!1),setTimeout(()=>t("/"),2e3)}catch(Me){Ue.error(": "+(Me?.message||"Unknown")),le(!1)}};return e.length===0?m.jsx(mr,{children:m.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:m.jsxs("div",{className:"text-center px-6",children:[m.jsx(kP,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),m.jsx("p",{className:"text-gray-600 mb-6",children:"    "}),m.jsx("button",{onClick:()=>t("/"),className:"bg-black text-white px-8 py-3 rounded-lg font-semibold hover:bg-gray-900 transition",children:" "})]})})}):m.jsx(mr,{children:m.jsxs("div",{className:"w-full flex flex-col h-screen bg-gradient-to-b from-gray-50 to-white",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 px-5 py-4 flex-shrink-0 sticky top-0 shadow-sm",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>t("/cart"),className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition flex-shrink-0",children:m.jsx(Vs,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[" ",W("checkoutPage",c)]}),m.jsx("p",{className:"text-sm text-gray-600",children:W("complete",c)})]})]})}),m.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-5",style:{paddingBottom:"120px"},children:[m.jsxs("section",{className:"bg-white rounded-xl p-5 mb-5 border border-gray-200 shadow-sm",children:[m.jsxs("h2",{className:"font-bold text-lg text-gray-900 mb-4 flex items-center gap-2",children:[m.jsx(kP,{className:"w-5 h-5"})," ",W("orderSummary",c)]}),m.jsx("div",{className:"space-y-3 mb-4 max-h-40 overflow-y-auto",children:e.map((Me,Pe)=>m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("p",{className:"font-semibold text-gray-900",children:[Me.quantity,"x ",Me.title]})}),m.jsxs("span",{className:"text-green-600 font-bold text-lg ml-2",children:["L.E ",(Me.price*Me.quantity).toFixed(2)]})]}),(Me.selectedColor||Me.selectedSize||Me.selectedUnit)&&m.jsxs("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200 text-[10px] space-y-1",children:[Me.selectedUnit&&m.jsxs("div",{className:"font-semibold text-gray-600 flex items-center gap-1",children:[W("unit",c)," ",m.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium text-[11px]",children:Me.selectedUnit})]}),Me.selectedSize&&m.jsxs("div",{className:"font-semibold text-gray-600 flex items-center gap-1",children:[W("size",c)," ",m.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-medium text-[11px]",children:Me.selectedSize})]}),Me.selectedColor&&(()=>{const[je,Fe]=typeof Me.selectedColor=="string"?Me.selectedColor.split("|"):[Me.selectedColor,"#000000"];return m.jsxs("div",{className:"font-semibold text-gray-600 flex items-center gap-1",children:[W("color",c)," ",m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full border border-gray-300 bg-white text-[11px] font-medium",children:[m.jsx("span",{className:"w-2.5 h-2.5 rounded-full border border-gray-300 inline-block",style:{backgroundColor:Fe||"#000000"}}),je]})]})})()]})]},Pe))}),m.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-gray-700",children:[m.jsx("span",{children:W("original",c)}),m.jsxs("span",{children:["L.E ",Be.toFixed(2)]})]}),Oe>0&&m.jsxs("div",{className:"flex justify-between text-green-600 font-semibold",children:[m.jsx("span",{children:W("discount",c)}),m.jsxs("span",{children:["-L.E ",Oe.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-gray-700",children:[m.jsx("span",{children:W("subtotal",c)}),m.jsxs("span",{children:["L.E ",Ce.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-gray-700",children:[m.jsx("span",{children:W("shippingCost",c)}),m.jsxs("span",{className:"text-orange-600 font-semibold",children:["+ L.E ",we.toFixed(2)]})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-3 flex justify-between items-center",children:[m.jsx("span",{className:"font-bold text-lg text-gray-900",children:W("total",c)}),m.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["L.E ",pe.toFixed(2)]})]})]})]}),m.jsxs("section",{className:"bg-white rounded-xl p-5 mb-5 border border-gray-200 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-4 flex items-center gap-2",children:[m.jsx(ql,{className:"w-5 h-5"})," ",W("deliveryMethod",c)]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>g("saved"),className:`w-full p-4 rounded-lg border-2 font-semibold transition flex items-center gap-3 ${p==="saved"?"border-black bg-black text-white shadow-lg":"border-gray-200 bg-white text-gray-900"}`,children:[m.jsx("span",{className:"text-lg",children:""}),m.jsxs("div",{className:c==="ar"?"text-left":"text-right",children:[m.jsx("p",{children:W("savedAddress",c)}),m.jsx("p",{className:"text-sm opacity-75",children:W("useSavedAddress",c)})]})]}),m.jsxs("button",{onClick:()=>g("new"),className:`w-full p-4 rounded-lg border-2 font-semibold transition flex items-center gap-3 ${p==="new"?"border-black bg-black text-white shadow-lg":"border-gray-200 bg-white text-gray-900"}`,children:[m.jsx("span",{className:"text-lg",children:""}),m.jsxs("div",{className:c==="ar"?"text-left":"text-right",children:[m.jsx("p",{children:W("newAddress",c)}),m.jsx("p",{className:"text-sm opacity-75",children:W("enterDifferentDetails",c)})]})]})]})]}),p&&m.jsxs("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 mb-5 border-2 border-blue-300 shadow-md",children:[m.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-5 flex items-center gap-2",children:[m.jsx(G2,{className:"w-5 h-5"}),W(p==="saved"?"orderInformation":"deliveryInformation",c)]}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",W("name",c)," ",!A.trim()&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",placeholder:W(p==="saved"?"fullName":"recipientName",c),value:A,onChange:Me=>C(Me.target.value),disabled:p==="saved",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition ${p==="saved"?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":A.trim()?"bg-white border-green-500":"bg-white border-red-400"}`}),!A.trim()&&m.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" ",W("enterName",c)]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",W("phone",c)," ",!D.trim()&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"tel",placeholder:W("fullPhone",c),value:D,onChange:Me=>R(Me.target.value),disabled:p==="saved",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition ${p==="saved"?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":D.trim()?"bg-white border-green-500":"bg-white border-red-400"}`}),!D.trim()&&m.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" ",W("enterPhone",c)]})]}),p==="new"&&m.jsxs("div",{children:[m.jsx("div",{className:"mb-4",children:m.jsx("button",{type:"button",onClick:()=>ce(!ae),className:"w-full px-4 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition",children:W(ae?"closeMap":"chooseFromMap",c)})}),ae&&m.jsx("div",{className:"mb-4 border-2 border-indigo-300 rounded-lg p-4 bg-indigo-50",children:m.jsx(cK,{onLocationSelect:(Me,Pe,je)=>{I(Me),xe({lat:Pe,lng:je}),ce(!1),Ue.success(W("locationSet",c))},initialAddress:$,initialLat:fe?.lat,initialLng:fe?.lng})}),m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",W("fullAddress",c)," ",(!fe?.lat||!fe?.lng)&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("textarea",{placeholder:W("enterAddress",c),value:$,onChange:Me=>I(Me.target.value),className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-white transition ${fe?.lat&&fe?.lng?"border-green-500":"border-red-400"}`,rows:3}),(!fe?.lat||!fe?.lng)&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:'      (   "  ")'})]}),p==="saved"&&m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",W("savedAddressLabel",c)]}),m.jsx("textarea",{placeholder:W("savedAddressPlaceholder",c),value:$,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed resize-none",rows:2})]}),p==="saved"&&m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[" ",W("email",c)]}),m.jsx("input",{type:"email",value:r?.email||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed"})]})]}),m.jsxs("div",{className:"border-t-2 border-blue-200 pt-6",children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[m.jsx("span",{className:"text-lg",children:""})," ",W("deliveryZone",c)]}),X?m.jsx("p",{className:"text-center py-4 text-gray-600",children:W("loadingZones",c)}):P.length===0?m.jsx("p",{className:"text-center py-4 text-gray-600",children:W("noZonesAvailable",c)}):m.jsxs("select",{value:b?.id||"",onChange:Me=>{const Pe=P.find(je=>je.id===Me.target.value);Pe&&w(Pe)},disabled:p==="saved",className:`w-full px-4 py-3 border-2 rounded-lg font-semibold transition ${p==="saved"?"bg-gray-100 border-gray-300 text-gray-600 cursor-not-allowed":"bg-white border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}`,children:[m.jsx("option",{value:"",children:W("selectDeliveryZone",c)}),P.map(Me=>m.jsxs("option",{value:Me.id,children:[Me.name," - L.E ",Me.shippingCost]},Me.id))]})]})]}),m.jsxs("section",{className:"bg-white rounded-xl p-5 mb-5 border border-gray-200 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:[" ",W("paymentMethod",c)]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>f("delivery"),className:`w-full p-4 rounded-lg border-2 font-semibold transition flex items-center gap-3 ${d==="delivery"?"border-black bg-black text-white shadow-lg":"border-gray-200 bg-white text-gray-900"}`,children:[m.jsx("span",{className:"text-xl",children:""}),W("payOnDelivery",c)]}),m.jsxs("button",{onClick:()=>f("card"),className:`w-full p-4 rounded-lg border-2 font-semibold transition flex items-center gap-3 ${d==="card"?"border-black bg-black text-white shadow-lg":"border-gray-200 bg-white text-gray-900"}`,children:[m.jsx("span",{className:"text-xl",children:""}),W("creditCard",c)]})]})]}),d==="card"&&m.jsxs("section",{className:"bg-purple-50 rounded-xl p-5 mb-5 border-2 border-purple-200",children:[m.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-4",children:[" ",W("cardDetails",c)]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[W("cardholderName",c)," ",!j.trim()&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",placeholder:W("cardNamePlaceholder",c),value:j,onChange:Me=>V(Me.target.value),className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition ${j.trim()?"border-green-500":"border-red-400"}`}),!j.trim()&&m.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" ",W("cardholderName",c)]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[W("cardNumber",c)," ",!K.replace(/\s/g,"").length||K.replace(/\s/g,"").length<13&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",maxLength:19,value:K,onChange:Me=>q(Me.target.value),className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono transition ${K.replace(/\s/g,"").length>=13?"border-green-500":"border-red-400"}`}),(!K.replace(/\s/g,"").length||K.replace(/\s/g,"").length<13)&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:"    "})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[W("expiry",c)," ",!H.trim()&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",placeholder:"MM/YY",maxLength:5,value:H,onChange:Me=>z(Me.target.value),className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition ${H.trim()?"border-green-500":"border-red-400"}`}),!H.trim()&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:" "})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[W("cvv",c)," ",!ie.trim()&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",placeholder:"123",maxLength:4,value:ie,onChange:Me=>de(Me.target.value),className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono transition ${ie.trim()?"border-green-500":"border-red-400"}`}),!ie.trim()&&m.jsx("p",{className:"text-xs text-red-500 mt-1",children:" "})]})]})]})]}),m.jsxs("section",{className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm",children:[m.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-4 flex items-center gap-2",children:[m.jsx(Lx,{className:"w-5 h-5"})," ",W("additionalNotes",c)]}),m.jsx("textarea",{placeholder:W("notesPlaceholder",c),value:B,onChange:Me=>N(Me.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent resize-none",rows:2})]})]}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 shadow-2xl",children:m.jsx("button",{onClick:be,disabled:ee||!$e,className:`w-full py-4 rounded-xl font-bold text-lg transition transform ${ee||!$e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-black to-gray-800 text-white hover:shadow-lg active:scale-95"}`,children:ee?W("processing",c):`${W("orderNow",c)} ${pe.toFixed(2)}`})})]})})}const i2e=()=>Yt.divIcon({html:'<div style="font-size: 40px; text-align: center; line-height: 50px; width: 50px; height: 50px; background-color: #8B4513; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,-25],className:""});function a2e(){const[t,e]=ji(),{user:n,isLoggedIn:r,isLoading:i}=zd(),{language:a}=mi(),[o,c]=k.useState([]),[d,f]=k.useState(!0),[p,g]=k.useState(!1),[b,w]=k.useState(null),[P,T]=k.useState(0),[A,C]=k.useState(null),[D,R]=k.useState(null),[$,I]=k.useState(!1),B=k.useRef(null),N=k.useRef(null),j=k.useRef(null),V=k.useRef(null),K=k.useRef(!1);k.useEffect(()=>{!i&&!r&&e("/login")},[r,i,e]),k.useEffect(()=>{new URLSearchParams(t.split("?")[1]).has("refresh")&&T(z=>z+1)},[t]),k.useEffect(()=>{if(!n?.id){f(!1),c([]);return}f(!0),g(!0);let H=null,z=null;try{const ie=Rt(),de=Yr(ie,"orders"),X=B2(de,z2("userId","==",n.id));return H=np(X,re=>{const ee=re.docs.map(le=>({id:le.id,...le.data()}));ee&&ee.length>0?c(ee):c([]),f(!1)},re=>{c([]),f(!1)}),P>0&&(z=setInterval(async()=>{try{const re=await Gb(n.id);re&&re.length>0&&c(re)}catch{}},1e3)),()=>{H&&H(),z&&clearInterval(z)}}catch{c([]),f(!1)}},[n?.id,P]);const q=async H=>{if(H.trim()){I(!0);try{const ie=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(H)}&format=json&limit=1`)).json();ie.length>0&&(C(parseFloat(ie[0].lat)),R(parseFloat(ie[0].lon)))}catch(z){console.log("Geocoding error:",z)}finally{I(!1)}}};return k.useEffect(()=>{!B.current||!A||!D||N.current||(N.current=Yt.map(B.current).setView([A,D],14),Yt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap",maxZoom:19}).addTo(N.current),N.current.on("zoom",()=>{K.current=!0}),N.current.on("drag",()=>{K.current=!0}),Yt.marker([A,D],{icon:Yt.divIcon({html:'<div style="font-size: 30px; text-align: center; line-height: 35px; width: 35px; height: 35px; background-color: #3B82F6; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',iconSize:[35,35],iconAnchor:[17,35],popupAnchor:[0,-35],className:""})}).addTo(N.current).bindPopup(`<div style="text-align: center"><strong>${W("deliveryLocation",a)}</strong></div>`).openPopup())},[A,D,a]),k.useEffect(()=>{if(!N.current||!A||!D)return;const H=b?.driverLat,z=b?.driverLng;H!=null&&z!==void 0&&z!==null?(j.current?j.current.setLatLng([H,z]):j.current=Yt.marker([H,z],{icon:i2e()}).addTo(N.current).bindPopup(`<div style="text-align: center"><strong>${W("driverLocation",a)}</strong></div>`),typeof z=="number"&&typeof H=="number"&&typeof D=="number"&&typeof A=="number"&&fetch(`https://router.project-osrm.org/route/v1/driving/${z},${H};${D},${A}?geometries=geojson`).then(ie=>ie.json()).then(ie=>{if(ie.routes&&ie.routes[0]&&N.current){const de=ie.routes[0].geometry.coordinates.map(X=>[X[1],X[0]]);V.current&&V.current.remove(),V.current=Yt.polyline(de,{color:"#3b82f6",weight:3,opacity:.7}).addTo(N.current)}}).catch(ie=>console.log("Route error:",ie))):j.current&&(j.current.remove(),j.current=null)},[b?.driverLat,b?.driverLng,A,D]),k.useEffect(()=>{if(b?.id&&o.length>0){const H=o.find(z=>z.id===b.id);H&&w(H)}},[o]),k.useEffect(()=>{const H=setInterval(async()=>{if(n?.id)try{const z=await Gb(n.id);z&&z.length>0&&c(z)}catch(z){console.error("Polling error:",z)}},2e3);return()=>clearInterval(H)},[n?.id]),k.useEffect(()=>{b?.id?(N.current&&(N.current.remove(),N.current=null),j.current=null,K.current=!1,b.deliveryLat&&b.deliveryLng?(C(b.deliveryLat),R(b.deliveryLng)):(b.shippingAddress||b.deliveryAddress)&&q(b.shippingAddress||b.deliveryAddress||"")):(N.current&&(N.current.remove(),N.current=null),j.current=null,C(null),R(null),K.current=!1)},[b?.id]),m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 pb-4 pt-2 flex items-center gap-4 border-b border-gray-100 flex-shrink-0",children:[m.jsx("button",{onClick:()=>{const z=sessionStorage.getItem("previousPage")||"/";sessionStorage.removeItem("previousPage"),e(z)},className:"w-10 h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center","data-testid":"button-back",children:m.jsx(Vs,{className:"w-5 h-5"})}),m.jsx("h1",{className:"text-xl font-bold",children:W("myOrders",a)})]}),d?m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary rounded-full animate-spin"})}):o.length===0?m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-5",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-2xl",children:""})}),m.jsx("h2",{className:"text-lg font-bold mb-2",children:W("noOrdersYet",a)}),m.jsx("p",{className:"text-sm text-muted-foreground mb-6 text-center",children:W("noOrdersFound",a)}),m.jsx("button",{onClick:()=>e("/"),className:"px-5 py-2 bg-black text-white rounded-full text-sm font-semibold","data-testid":"button-start-shopping",children:W("startShopping",a)})]}):m.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 w-full",children:m.jsx("div",{className:"w-full px-5 py-4 space-y-3",children:o.filter(H=>!n||!H.userId||H.userId===n.id).sort((H,z)=>new Date(z.createdAt).getTime()-new Date(H.createdAt).getTime()).map(H=>m.jsxs("div",{children:[m.jsx("button",{onClick:()=>w(b?.id===H.id?null:H),className:"w-full p-4 bg-white rounded-2xl border border-gray-100 hover:border-primary hover:shadow-sm transition-all text-left","data-testid":`order-${H.id}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Order #",H.orderNumber||"N/A"]}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(H.createdAt).toLocaleDateString()})]}),m.jsxs("div",{className:"flex flex-col items-end gap-2",children:[m.jsxs("p",{className:"font-bold text-lg","data-testid":`total-${H.id}`,children:["L.E ",H.total.toFixed(2)]}),m.jsx("span",{className:`text-xs font-semibold px-5 py-1 rounded-full border ${Nj(H.status)}`,"data-testid":`status-${H.id}`,children:H.status.charAt(0).toUpperCase()+H.status.slice(1)})]})]})}),b?.id===H.id&&m.jsxs(m.Fragment,{children:[(b.shippingAddress||b.deliveryAddress)&&b?.status!=="completed"&&b?.status!=="received"&&b?.status!=="cancelled"&&m.jsx("div",{className:"mt-3 w-full",children:$?m.jsxs("div",{className:"w-full bg-blue-50 border border-blue-200 rounded-2xl flex items-center justify-center gap-2 py-3",children:[m.jsx(F2,{size:16,className:"animate-spin text-blue-600"}),m.jsx("span",{className:"text-blue-600 font-semibold text-xs",children:W("loadingMap",a)})]}):A&&D?m.jsx("div",{className:"w-full bg-blue-100 border border-blue-300 overflow-hidden rounded-2xl",style:{height:"200px"},ref:B}):m.jsxs("div",{className:"w-full bg-gray-200 border border-gray-300 rounded-2xl py-6 flex items-center justify-center gap-2",children:[m.jsx(ql,{size:16,className:"text-gray-600"}),m.jsx("span",{className:"text-gray-600 font-semibold text-xs",children:W("noLocationInfo",a)})]})}),(b.shippingAddress||b.deliveryAddress)&&(b?.status==="completed"||b?.status==="received"||b?.status==="cancelled")&&m.jsxs("div",{className:"mt-3 w-full bg-green-50 border border-green-300 rounded-2xl py-6 flex items-center justify-center gap-2",children:[m.jsx(ql,{size:16,className:"text-green-600"}),m.jsx("span",{className:"text-green-600 font-semibold text-xs",children:b?.status==="cancelled"?W("cancelledMapUnavailable",a):W("deliveredMapUnavailable",a)})]}),m.jsxs("div",{className:"mt-3 bg-white rounded-2xl border border-gray-100 p-4",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3 pb-3 border-b border-gray-100",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold text-gray-500",children:W("orderDetailsLabel",a)}),m.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["#",b.orderNumber||"N/A"]})]}),m.jsx("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600","data-testid":"button-close-details",children:m.jsx(Nm,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:W("items",a)}),m.jsx("div",{className:"space-y-2",children:b.items.map((z,ie)=>m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{className:"text-gray-700",children:[z.quantity,"x ",z.title]}),m.jsx("span",{className:"font-semibold text-gray-900",children:(z.quantity*z.price).toFixed(2)})]}),(z.selectedColor||z.selectedSize||z.selectedUnit)&&m.jsxs("div",{className:"flex flex-wrap gap-1 ml-2",children:[z.selectedUnit&&m.jsx("span",{className:"inline-block px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded text-[8px] font-semibold",children:z.selectedUnit}),z.selectedSize&&m.jsx("span",{className:"inline-block px-1.5 py-0.5 bg-green-100 text-green-700 rounded text-[8px] font-semibold",children:z.selectedSize}),z.selectedColor&&(()=>{const[de,X]=typeof z.selectedColor=="string"?z.selectedColor.split("|"):[z.selectedColor,"#000000"];return m.jsx("span",{className:"inline-block px-1.5 py-0.5 rounded text-[8px] font-semibold",style:{backgroundColor:X||"#000000",color:["#ffffff","#f0f0f0","#e0e0e0"].includes((X||"#000000").toLowerCase())?"#000000":"#ffffff"},children:de})})()]})]},`${z.id}-${ie}`))})]}),(b.customerName||b.customerPhone||b.deliveryAddress||b.shippingAddress||b.shippingPhone||b.shippingZone)&&m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[m.jsxs("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:[" ",W("deliveryInformationLabel",a)]}),m.jsxs("div",{className:"space-y-1.5",children:[(b.customerName||b.shippingAddress)&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:W("nameLabel",a)}),m.jsx("p",{className:"text-xs font-medium text-gray-900",children:b.customerName||b.shippingAddress||"N/A"})]}),(b.customerPhone||b.shippingPhone)&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:W("phone",a)}),m.jsx("p",{className:"text-xs font-medium text-gray-900",children:b.customerPhone||b.shippingPhone||"N/A"})]}),(b.deliveryAddress||b.shippingAddress)&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:W("address",a)}),m.jsx("p",{className:"text-xs font-medium text-gray-900",children:b.deliveryAddress||b.shippingAddress||"N/A"})]}),b.shippingZone&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:W("zone",a)}),m.jsx("p",{className:"text-xs font-medium text-gray-900",children:b.shippingZone})]}),b.shippingCost!==void 0&&b.shippingCost>0&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:W("shippingCost",a)}),m.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["L.E ",b.shippingCost.toFixed(2)]})]})]})]}),b.notes&&m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[m.jsxs("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:[" ",W("notesLabel",a)]}),m.jsx("p",{className:"text-xs text-gray-900",children:b.notes})]}),m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[m.jsxs("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:[W("orderSummary",a)," (L.E)"]}),m.jsxs("div",{className:"space-y-1 text-xs",children:[b.subtotal!==void 0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:W("subtotal",a)}),m.jsx("span",{className:"font-medium text-gray-900",children:b.subtotal.toFixed(2)})]}),b.discountedTotal!==void 0&&b.subtotal!==void 0&&b.discountedTotal<b.subtotal&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between text-green-600 font-semibold",children:[m.jsx("span",{children:W("discountLabel",a)}),m.jsxs("span",{children:["-",(b.subtotal-b.discountedTotal).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-green-600 font-semibold",children:[m.jsx("span",{children:W("afterDiscountLabel",a)}),m.jsx("span",{children:b.discountedTotal.toFixed(2)})]})]}),b.shippingCost!==void 0&&b.shippingCost>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:W("shipping",a)}),m.jsx("span",{className:"font-medium text-gray-900",children:b.shippingCost.toFixed(2)})]}),m.jsxs("div",{className:"flex justify-between font-semibold text-gray-900 pt-2 border-t border-gray-100",children:[m.jsx("span",{children:W("total",a)}),m.jsxs("span",{children:["L.E ",b.total.toFixed(2)]})]})]})]}),m.jsx("div",{className:"mt-3 text-xs text-gray-500",children:m.jsxs("p",{children:[W("placedAt",a)," ",new Date(b.createdAt).toLocaleString()]})})]})]})]},H.id))})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}const s2e=()=>Yt.divIcon({html:'<div style="font-size: 40px; text-align: center; line-height: 50px; width: 50px; height: 50px; background-color: #8B4513; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',iconSize:[50,50],iconAnchor:[25,25],popupAnchor:[0,-25],className:""});function o2e(){const[t,e]=ji(),{user:n,isLoggedIn:r,isLoading:i}=zd(),{language:a}=mi(),[o,c]=k.useState(null),[d,f]=k.useState(!0),[p,g]=k.useState(!1),[b,w]=k.useState("pending"),[P,T]=k.useState(!1),[A,C]=k.useState(0),[D,R]=k.useState(0),[$,I]=k.useState(0),[B,N]=k.useState(null),[j,V]=k.useState(!1),[K,q]=k.useState(null),[H,z]=k.useState(null),[ie,de]=k.useState(null),[X,re]=k.useState(!1),ee=k.useRef(null),le=k.useRef(null),oe=k.useRef(null),Q=k.useRef(null),ae=k.useRef(!1),ce=t.split("/order/")[1]?.split("?")[0],fe=async Oe=>{if(Oe.trim()){re(!0);try{const pe=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(Oe)}&format=json&limit=1`)).json();pe.length>0&&(z(parseFloat(pe[0].lat)),de(parseFloat(pe[0].lon)))}catch(we){console.log("Geocoding error:",we)}finally{re(!1)}}};k.useEffect(()=>{!ee.current||!H||!ie||le.current&&le.current.getContainer().parentElement||(le.current&&le.current.remove(),le.current=Yt.map(ee.current).setView([H,ie],14),Yt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap",maxZoom:19}).addTo(le.current),le.current.on("zoom",()=>{ae.current=!0}),le.current.on("drag",()=>{ae.current=!0}),Yt.marker([H,ie],{icon:Yt.divIcon({html:'<div style="font-size: 30px; text-align: center; line-height: 35px; width: 35px; height: 35px; background-color: #3B82F6; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.3);"></div>',iconSize:[35,35],iconAnchor:[17,35],popupAnchor:[0,-35],className:""})}).addTo(le.current).bindPopup(`<div style="text-align: center"><strong>${W("deliveryLocation",a)}</strong></div>`).openPopup())},[H,ie,a]),k.useEffect(()=>{if(!le.current||!H||!ie)return;const Oe=o?.driverLat,we=o?.driverLng;Oe!=null&&we!==void 0&&we!==null?(oe.current?oe.current.setLatLng([Oe,we]):oe.current=Yt.marker([Oe,we],{icon:s2e()}).addTo(le.current).bindPopup(`<div style="text-align: center"><strong>${W("driverLocation",a)}</strong></div>`),typeof we=="number"&&typeof Oe=="number"&&H&&ie&&fetch(`https://router.project-osrm.org/route/v1/driving/${we},${Oe};${ie},${H}?geometries=geojson`).then(pe=>pe.json()).then(pe=>{if(pe.routes&&pe.routes[0]&&le.current){const Be=pe.routes[0].geometry.coordinates.map($e=>[$e[1],$e[0]]);Q.current&&Q.current.remove(),Q.current=Yt.polyline(Be,{color:"#3b82f6",weight:3,opacity:.7}).addTo(le.current)}}).catch(pe=>console.log("Route error:",pe))):oe.current&&(oe.current.remove(),oe.current=null)},[o?.driverLat,o?.driverLng,H,ie]),k.useEffect(()=>{o&&ce&&(le.current&&(le.current.remove(),le.current=null),oe.current=null,ae.current=!1,o.deliveryLat&&o.deliveryLng?(z(o.deliveryLat),de(o.deliveryLng)):(z(null),de(null),fe(o.shippingAddress||o.deliveryAddress||"")))},[ce,o?.id]);const xe=()=>{const we=sessionStorage.getItem("previousPage")||"/profile";n?.role==="admin"?sessionStorage.setItem("preferredTab","admin"):sessionStorage.removeItem("preferredTab"),sessionStorage.removeItem("previousPage"),e(we)};k.useEffect(()=>{!i&&!r&&e("/login")},[r,i,e,n]),k.useEffect(()=>{if(!ce)return;f(!0);const Oe=Rt(),we=Bt(Oe,"orders",ce),pe=np(we,$e=>{if($e.exists()){const be=$e.data();(n?.role==="admin"||be.userId===n?.id)&&c({...be,id:$e.id})}f(!1)},$e=>{console.error("Error listening to order:",$e),f(!1)}),Be=setInterval(async()=>{try{const $e=await Xi(we);if($e.exists()){const be=$e.data();(n?.role==="admin"||be.userId===n?.id)&&c({...be,id:$e.id})}}catch($e){console.error("Polling error:",$e)}},3e3);return()=>{pe(),clearInterval(Be)}},[ce,n?.id,n?.role]),k.useEffect(()=>{if(!o?.userId)return;(async()=>{V(!0);try{const we=Rt(),pe=Bt(we,"users",o.userId||""),Be=await Xi(pe);if(Be.exists()){const $e=Be.data();N($e),$e.profileImage&&q($e.profileImage)}}catch{}finally{V(!1)}})()},[o?.userId]),k.useEffect(()=>{o&&n?.role==="admin"&&o.userId&&(async()=>{try{const pe=(await Gb()).filter(be=>be.userId===o.userId),Be=pe.filter(be=>be.status==="completed");C(pe.length),R(Be.length);const $e=Be.reduce((be,Me)=>be+(Me.total||0),0);I($e)}catch{}})()},[o,n?.role]);const Ce=async Oe=>{if(!(!o?.id||!Oe||Oe===o.status)){T(!0);try{const we=o.status;if(await Dse(o.id,{status:Oe,updatedAt:new Date().toISOString()})){const Be=B?.email||o?.userEmail||o?.customerEmail;if(Be&&o){const $e={...o,status:Oe};await eq($e,Be,we).catch(()=>{})}Ue.success(W("statusUpdated",a)),c($e=>$e?{...$e,status:Oe}:null),g(!1),w("pending")}else Ue.error(W("statusUpdateFailed",a))}catch(we){Ue.error(W("errorPrefix",a)+": "+we?.message)}finally{T(!1)}}};return m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 pb-4 pt-2 flex items-center gap-4 border-b border-gray-100 flex-shrink-0",children:[m.jsx("button",{onClick:xe,className:"w-10 h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center","data-testid":"button-back",children:m.jsx(Vs,{className:"w-5 h-5"})}),m.jsx("h1",{className:"text-xl font-bold",children:W("orderDetails",a)})]}),d?m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary rounded-full animate-spin"})}):o?m.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 w-full",children:[(o.shippingAddress||o.deliveryAddress)&&o?.status!=="completed"&&o?.status!=="received"&&o?.status!=="cancelled"&&m.jsx("div",{className:"w-full",children:X?m.jsxs("div",{className:"w-full bg-blue-50 border-b border-blue-200 flex items-center justify-center gap-2 py-3",children:[m.jsx(F2,{size:18,className:"animate-spin text-blue-600"}),m.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:W("loadingMap",a)})]}):H&&ie?m.jsx("div",{className:"w-full bg-blue-100 border-b border-blue-300 overflow-hidden h-64",ref:ee}):m.jsxs("div",{className:"w-full bg-gray-200 border-b border-gray-300 py-8 flex items-center justify-center gap-2",children:[m.jsx(ql,{size:20,className:"text-gray-600"}),m.jsx("span",{className:"text-gray-600 font-semibold",children:W("noLocationInfo",a)})]})}),(o.shippingAddress||o.deliveryAddress)&&(o?.status==="completed"||o?.status==="received")&&m.jsxs("div",{className:"w-full bg-green-50 border-b border-green-300 py-8 flex items-center justify-center gap-2",children:[m.jsx(ql,{size:20,className:"text-green-600"}),m.jsx("span",{className:"text-green-600 font-semibold",children:W("deliveredMapUnavailable",a)})]}),m.jsxs("div",{className:"w-full px-5 py-4 space-y-4",children:[m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:W("orderNumber",a)}),m.jsxs("p",{className:"font-semibold text-lg font-mono",children:["#",o.orderNumber||o.id.slice(0,8).toUpperCase()]})]}),p?m.jsxs("div",{className:"flex gap-1 items-center",children:[m.jsxs("select",{value:b,onChange:Oe=>w(Oe.target.value),className:"px-2 py-1 border rounded text-xs","data-testid":"select-status",children:[m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"confirmed",children:"Confirmed"}),m.jsx("option",{value:"processing",children:"Processing"}),m.jsx("option",{value:"shipped",children:"Shipped"}),m.jsx("option",{value:"completed",children:"Completed"}),m.jsx("option",{value:"cancelled",children:"Cancelled"})]}),m.jsx("button",{type:"button",onClick:()=>{b&&b!==o.status?Ce(b):Ue.error("Select different status")},disabled:P,className:"px-3 py-1 bg-green-600 text-white rounded font-bold hover:bg-green-700 disabled:bg-gray-400","data-testid":"button-save-status",children:""}),m.jsx("button",{type:"button",onClick:()=>{g(!1),w(o?.status||"pending")},className:"px-3 py-1 bg-gray-400 text-white rounded hover:bg-gray-500","data-testid":"button-cancel-status",children:""})]}):m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded border ${Nj(o?.status||"pending")}`,children:o?.status||"pending"}),m.jsx("button",{type:"button",onClick:()=>{g(!0),w(o?.status||"pending")},className:"px-2 py-1 text-primary hover:bg-gray-100 rounded","data-testid":"button-edit-status",children:m.jsx(Bf,{className:"w-3 h-3"})})]})]}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(o.createdAt).toLocaleDateString()," ",new Date(o.createdAt).toLocaleTimeString()]}),o.paymentMethod&&m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.paymentMethod==="card"?W("cardPayment",a):W("payOnDelivery",a)})]}),m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4",children:[m.jsx("h3",{className:"font-semibold text-sm mb-3",children:W("items",a)}),m.jsx("div",{className:"space-y-3",children:o.items&&o.items.length>0?o.items.map((Oe,we)=>m.jsxs("div",{className:"pb-3 border-b border-gray-100 last:border-b-0 last:pb-0",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[Oe.quantity,"x ",Oe.title]})}),m.jsxs("p",{className:"text-sm font-bold text-gray-900 ml-2",children:["L.E ",(Oe.price*Oe.quantity).toFixed(2)]})]}),(Oe.selectedColor||Oe.selectedSize||Oe.selectedUnit)&&m.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded-lg border border-gray-200",children:m.jsxs("div",{className:"flex flex-wrap gap-2",children:[Oe.selectedUnit&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-[10px] font-semibold text-gray-600",children:":"}),m.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[11px] font-semibold",children:Oe.selectedUnit})]}),Oe.selectedSize&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-[10px] font-semibold text-gray-600",children:":"}),m.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-[11px] font-semibold",children:Oe.selectedSize})]}),Oe.selectedColor&&(()=>{const[pe,Be]=typeof Oe.selectedColor=="string"?Oe.selectedColor.split("|"):[Oe.selectedColor,"#000000"];return m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-[10px] font-semibold text-gray-600",children:":"}),m.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full border border-gray-300 bg-white",children:[m.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:Be||"#000000"},title:pe}),m.jsx("span",{className:"text-[11px] font-semibold text-gray-700",children:pe})]})]})})()]})})]},we)):m.jsx("p",{className:"text-xs text-muted-foreground",children:W("noItems",a)})})]}),(o.customerName||o.customerPhone||o.deliveryAddress||o.shippingAddress||o.shippingPhone||o.shippingZone||o.deliveryUsername||o.recipientName||o.deliveryRemarks)&&m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4",children:[m.jsxs("h3",{className:"font-semibold text-sm mb-3",children:[" ",W("deliveryInformationLabel",a)]}),m.jsxs("div",{className:"space-y-3",children:[(o.customerName||o.shippingAddress)&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("nameLabel",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.customerName||o.shippingAddress||"N/A"})]}),(o.customerPhone||o.shippingPhone)&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("phone",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.customerPhone||o.shippingPhone||"N/A"})]}),(o.deliveryAddress||o.shippingAddress)&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("address",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.deliveryAddress||o.shippingAddress||"N/A"})]}),o.shippingZone&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("zone",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.shippingZone})]}),o.shippingCost!==void 0&&o.shippingCost>0&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("shippingCost",a)}),m.jsxs("p",{className:"text-sm font-medium",children:["L.E ",o.shippingCost.toFixed(2)]})]}),o.recipientName&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("recipient",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.recipientName})]}),o.deliveryUsername&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("driver",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.deliveryUsername})]}),o.deliveryRemarks&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:W("remarks",a)}),m.jsx("p",{className:"text-sm font-medium",children:o.deliveryRemarks})]})]})]}),o.notes&&m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4",children:[m.jsxs("h3",{className:"font-semibold text-sm mb-3",children:[" ",W("notesLabel",a)]}),m.jsx("p",{className:"text-sm text-gray-900",children:o.notes})]}),m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4",children:[m.jsxs("h3",{className:"font-semibold text-sm mb-3",children:[W("orderSummary",a)," (L.E)"]}),m.jsxs("div",{className:"space-y-2",children:[o.subtotal!==void 0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:W("subtotal",a)}),m.jsx("span",{children:o.subtotal.toFixed(2)})]}),o.discountedTotal!==void 0&&o.subtotal!==void 0&&o.discountedTotal<o.subtotal&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between text-sm text-green-600 font-semibold",children:[m.jsx("span",{children:W("discountLabel",a)}),m.jsxs("span",{children:["-",(o.subtotal-o.discountedTotal).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-sm font-semibold text-green-600",children:[m.jsx("span",{children:W("afterDiscountLabel",a)}),m.jsx("span",{children:o.discountedTotal.toFixed(2)})]})]}),o.shippingCost!==void 0&&o.shippingCost>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:W("shipping",a)}),m.jsx("span",{children:o.shippingCost.toFixed(2)})]}),m.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-100 pt-2 mt-2",children:[m.jsx("span",{children:W("total",a)}),m.jsxs("span",{children:["L.E ",o.total.toFixed(2)]})]})]})]}),(B?.username||o?.userId)&&m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5",children:[m.jsx("h3",{className:"font-semibold text-sm mb-5",children:W("customerInformationLabel",a)}),m.jsxs("div",{className:"flex items-center gap-6",children:[K?m.jsx("img",{src:K,alt:"User Profile",className:"w-24 h-24 rounded-full object-cover shadow-lg ring-4 ring-blue-100 flex-shrink-0","data-testid":"avatar-user-image"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white text-5xl font-bold flex-shrink-0 shadow-lg ring-4 ring-blue-100","data-testid":"avatar-user",children:j?"...":B?.username?.charAt(0).toUpperCase()||"U"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:W("nameLabel",a)}),m.jsx("p",{className:"font-semibold text-sm mb-3","data-testid":"text-username",children:B?.username||"-"})]}),B?.email&&m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:W("emailLabel",a)}),m.jsx("p",{className:"font-medium text-sm text-blue-600 break-all","data-testid":"text-email",children:B?.email})]})]})]})]}),n?.role==="admin"&&m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5",children:[m.jsx("h3",{className:"font-semibold text-sm mb-4",children:W("orderStatisticsLabel",a)}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[m.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3",children:[m.jsx("p",{className:"text-xs text-emerald-600 font-semibold uppercase tracking-wider",children:W("completedOrdersLabel",a)}),m.jsx("p",{className:"text-2xl font-bold text-emerald-700 mt-1","data-testid":"text-completed-orders",children:D})]}),m.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[m.jsx("p",{className:"text-xs text-blue-600 font-semibold uppercase tracking-wider",children:W("totalOrdersLabel",a)}),m.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1","data-testid":"text-total-orders",children:A})]})]}),$>0&&m.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[m.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:W("completedOrdersValueLabel",a)}),m.jsxs("p",{className:"text-3xl font-bold text-emerald-600 mt-2","data-testid":"text-completed-orders-value",children:["L.E ",$.toFixed(2)]})]})]})]})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-5",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-2xl",children:""})}),m.jsx("h2",{className:"text-lg font-bold mb-2",children:W("orderNotFound",a)}),m.jsx("button",{onClick:xe,className:"px-5 py-2 bg-black text-white rounded-full text-sm font-semibold mt-4",children:n?.role==="admin"?W("backToAdmin",a):W("backToAccount",a)})]})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}function l2e(){const[,t]=ji(),[e,n]=xZ("/product/:id"),{addItem:r}=Yh(),{language:i}=mi(),[a,o]=k.useState(null),[c,d]=k.useState(!0),[f,p]=k.useState(""),[g,b]=k.useState(""),[w,P]=k.useState(""),[T,A]=k.useState(1),[C,D]=k.useState(!1),[R,$]=k.useState([]),[I,B]=k.useState(0),[N,j]=k.useState(0),[V,K]=k.useState(0),[q,H]=k.useState(!1),[z,ie]=k.useState("");k.useEffect(()=>{const we=async()=>{d(!0);try{const pe=await AN();$(pe||[]);let Be=n?.id?await Ise(n.id):null;!Be&&n?.id&&(Be=(await kx()).find(be=>String(be.id)===String(n.id))||null),Be?o(Be):(Ue.error("Product not found"),t("/"))}catch{Ue.error("Failed to load product"),t("/")}finally{d(!1)}};n?.id&&we()},[n?.id,t]);const de=async()=>{if(a){if(!a.available){Ue.error(W("productNotAvailable",i));return}if(a.colors&&a.colors.length>0&&!f){ie(i==="ar"?"  ":"Please select a color");return}if(a.sizes&&a.sizes.length>0&&!g){ie(i==="ar"?"  ":"Please select a size");return}if(a.units&&a.units.length>0&&!w){ie(i==="ar"?"  ":"Please select a unit");return}ie(""),D(!0);try{for(let we=0;we<T;we++){const pe={id:String(a.id),_uniqueId:`${a.id}-${f||""}-${g||""}-${w||""}`,title:a.title||a.name||"Product",price:a.price,quantity:1,image:a.image,selectedColor:f||void 0,selectedSize:g||void 0,selectedUnit:w||void 0};r(pe)}Ue.success(W("addedToCart",i)),setTimeout(()=>t("/cart"),1e3)}catch{Ue.error(W("failedToAddCart",i))}finally{D(!1)}}};if(c)return m.jsx(mr,{children:m.jsx("div",{className:"flex items-center justify-center flex-1",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-black rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-sm text-gray-600",children:W("loading",i)})]})})});if(!a)return m.jsx(mr,{children:m.jsx("div",{className:"flex items-center justify-center flex-1",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-lg font-bold mb-4",children:"Product Not Found"}),m.jsx("button",{onClick:()=>t("/"),className:"px-5 py-2 bg-black text-white rounded-full text-sm font-semibold",children:"Back to Home"})]})})});const X=a.title||a.name||"Product",re=a.colors&&a.colors.length>0||a.sizes&&a.sizes.length>0||a.units&&a.units.length>0,ee=[];a.image&&ee.push(a.image),a.images&&Array.isArray(a.images)&&ee.push(...a.images);const le=ee.length>0?ee:[],oe=le[I]||"",Q=le.length>1,ae=Pd(String(a?.id),R),ce=ae?Ux(a.price,ae.discountPercentage):a?.price,fe=we=>{j(we.targetTouches[0].clientX)},xe=we=>{K(we.changedTouches[0].clientX),Ce(N,we.changedTouches[0].clientX)},Ce=(we,pe)=>{if(!Q)return;const Be=we-pe;Math.abs(Be)<50||(Be>0?B(be=>(be+1)%le.length):B(be=>(be-1+le.length)%le.length))},Oe=we=>{const pe=`${window.location.origin}${window.location.pathname}`,Be=`Check out ${X} - L.E ${ce.toFixed(2)}`,$e={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(pe)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(`${Be} ${pe}`)}`,twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(pe)}&text=${encodeURIComponent(Be)}`};$e[we]&&window.open($e[we],"_blank","width=600,height=400")};return m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 pb-4 pt-2 flex items-center gap-4 border-b border-gray-100 flex-shrink-0",children:[m.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center","data-testid":"button-back",children:m.jsx(Vs,{className:"w-5 h-5"})}),m.jsx("h1",{className:"text-xl font-bold flex-1 truncate","data-testid":"text-product-title",children:X})]}),m.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar w-full pb-5",children:m.jsx("div",{className:"w-full px-5 py-4 max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gray-50 mb-4 group cursor-grab active:cursor-grabbing select-none",onTouchStart:fe,onTouchEnd:xe,"data-testid":"gallery-container",children:[m.jsx("img",{src:oe,alt:`${X} - ${I+1}`,className:"w-full h-full object-cover transition-opacity duration-200","data-testid":"img-product-main"}),Q&&m.jsx("button",{onClick:()=>B(we=>(we-1+le.length)%le.length),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","data-testid":"button-prev-image",children:m.jsx(aq,{className:"w-5 h-5"})}),Q&&m.jsx("button",{onClick:()=>B(we=>(we+1)%le.length),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity","data-testid":"button-next-image",children:m.jsx(Ps,{className:"w-5 h-5"})}),Q&&m.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full font-semibold",children:[I+1," / ",le.length]}),Q&&m.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:le.map((we,pe)=>m.jsx("button",{onClick:()=>B(pe),className:`w-2 h-2 rounded-full transition-all ${pe===I?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`,"data-testid":`button-image-dot-${pe}`},pe))})]}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>H(!q),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","data-testid":"button-share",children:m.jsx(Voe,{className:"w-6 h-6 text-gray-700"})}),q&&m.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[m.jsxs("button",{onClick:()=>{Oe("facebook"),H(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 text-blue-600 font-medium border-b border-gray-100 flex items-center gap-2","data-testid":"button-share-facebook",children:[m.jsx(loe,{className:"w-4 h-4"}),"Facebook"]}),m.jsxs("button",{onClick:()=>{Oe("whatsapp"),H(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 text-green-600 font-medium border-b border-gray-100 flex items-center gap-2","data-testid":"button-share-whatsapp",children:[m.jsx(woe,{className:"w-4 h-4"}),"WhatsApp"]}),m.jsxs("button",{onClick:()=>{Oe("twitter"),H(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 text-sky-600 font-medium border-b border-gray-100 flex items-center gap-2","data-testid":"button-share-twitter",children:[m.jsx("span",{className:"text-lg",children:""}),"Twitter"]}),m.jsxs("button",{onClick:()=>{const we=`${window.location.origin}${window.location.pathname}`;navigator.clipboard.writeText(we),Ue.success(i==="ar"?"  ":"Link copied!"),H(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 text-gray-600 font-medium flex items-center gap-2","data-testid":"button-copy-link",children:[m.jsx(roe,{className:"w-4 h-4"}),i==="ar"?" ":"Copy Link"]})]})]}),m.jsxs("div",{className:"flex gap-2 flex-1",children:[m.jsxs("button",{onClick:()=>t("/"),className:"flex-1 px-2 py-2 md:px-4 md:py-2 border border-gray-200 rounded-lg font-semibold text-xs md:text-sm hover:bg-gray-50 transition-colors","data-testid":"button-continue-shopping",children:[m.jsx("span",{className:"hidden md:inline",children:W("continueShoppingButton",i)}),m.jsx("span",{className:"md:hidden",children:i==="ar"?"":"Continue"})]}),m.jsxs("button",{onClick:de,disabled:C||!a.available,className:"flex-1 px-2 py-2 md:px-4 md:py-2 bg-black text-white rounded-lg font-semibold text-xs md:text-sm disabled:opacity-50 flex items-center justify-center gap-1 md:gap-2 hover:bg-gray-900 transition-colors","data-testid":"button-add-to-cart",children:[m.jsx(q2,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden md:inline",children:W(C?"addingToCart":"addToCart",i)}),m.jsx("span",{className:"md:hidden",children:C?i==="ar"?"...":"Adding...":i==="ar"?"":"Buy"})]})]})]}),z&&m.jsx("div",{className:"mt-2 px-3 py-2 bg-red-50 border border-red-200 rounded-lg text-center",children:m.jsx("p",{className:"text-sm text-red-700 font-semibold","data-testid":"error-validation",children:z})}),m.jsxs("div",{className:"flex gap-2 items-center justify-center mt-4",children:[m.jsxs("p",{className:"text-sm font-semibold",children:[W("quantity",i),":"]}),m.jsx("button",{onClick:()=>A(Math.max(1,T-1)),className:"w-8 h-8 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-gray-50 font-semibold","data-testid":"button-decrease-quantity",children:""}),m.jsx("span",{className:"text-base font-bold w-8 text-center",children:T}),m.jsx("button",{onClick:()=>A(T+1),className:"w-8 h-8 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-gray-50 font-semibold","data-testid":"button-increase-quantity",children:"+"})]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("div",{className:"mb-4",children:a.available?m.jsxs("div",{className:"flex items-center gap-2 text-green-700 bg-green-50 px-3 py-2 rounded-lg w-fit",children:[m.jsx(Kb,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm font-semibold",children:W("availableNow",i)})]}):m.jsxs("div",{className:"flex items-center gap-2 text-red-700 bg-red-50 px-3 py-2 rounded-lg w-fit",children:[m.jsx(Nm,{className:"w-4 h-4"}),m.jsx("span",{className:"text-sm font-semibold",children:W("notAvailable",i)})]})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:W("price",i)}),ae?m.jsxs("div",{className:"flex items-baseline gap-3",children:[m.jsxs("p",{className:"text-3xl font-bold text-green-600","data-testid":"text-price",children:["L.E ",ce.toFixed(2)]}),m.jsxs("p",{className:"text-lg text-gray-400 line-through",children:["L.E ",a.price.toFixed(2)]}),m.jsx("p",{className:"px-5 py-1 bg-red-100 text-red-700 rounded text-xs font-bold",children:i==="ar"?` ${ae.discountPercentage}%`:`${W("save",i)} ${ae.discountPercentage}%`})]}):m.jsxs("p",{className:"text-3xl font-bold","data-testid":"text-price",children:["L.E ",a.price.toFixed(2)]})]}),a.category&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:W("category",i)}),m.jsx("p",{className:"text-sm font-semibold","data-testid":"text-category",children:a.category})]}),a.description&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:W("description",i)}),m.jsx("p",{className:"text-sm text-gray-700 leading-relaxed","data-testid":"text-description",children:a.description})]}),re&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold text-sm mb-3",children:W("options",i)}),a.units&&a.units.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm font-semibold mb-2",children:W("selectUnit",i)}),m.jsxs("select",{value:w,onChange:we=>P(we.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":"select-unit",children:[m.jsx("option",{value:"",children:W("selectUnit",i)}),a.units.map(we=>m.jsx("option",{value:we||"",children:we},we))]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.colors&&a.colors.length>0&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold mb-2",children:W("selectColor",i)}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.colors.map(we=>{const pe=typeof we=="string"?we.split("|")[0]:we||"",Be=typeof we=="string"&&we.split("|")[1]||"#000000";return m.jsxs("button",{onClick:()=>{p(we||""),ie("")},className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${f===we?"border-gray-800 bg-gray-50":"border-gray-200 bg-white hover:border-gray-300"}`,"data-testid":`button-color-${pe}`,children:[m.jsx("span",{style:{width:"20px",height:"20px",backgroundColor:Be,borderRadius:"4px",border:"1px solid rgba(0,0,0,0.1)"}}),m.jsx("span",{className:"text-sm font-medium",children:pe})]},pe)})})]}),a.sizes&&a.sizes.length>0&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold mb-2",children:W("selectSize",i)}),m.jsxs("select",{value:g,onChange:we=>{b(we.target.value),ie("")},className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":"select-size",children:[m.jsx("option",{value:"",children:W("selectSize",i)}),a.sizes.map(we=>m.jsx("option",{value:we||"",children:we},we))]})]})]})]})]})]})})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-50",children:m.jsx(Bs,{})})]})}function c2e(){const[,t]=ji(),{login:e,signup:n,isLoading:r}=zd(),{language:i}=mi(),[a,o]=k.useState(!1),[c,d]=k.useState(""),[f,p]=k.useState(""),[g,b]=k.useState(""),[w,P]=k.useState(!1),[T,A]=k.useState(""),[C,D]=k.useState("");k.useEffect(()=>{(async()=>{try{const I=await tq();I?.logo&&A(I.logo),I?.name&&D(I.name)}catch{}})()},[]);const R=async $=>{$.preventDefault(),P(!0);try{if(a){if(!c.trim()||!f.trim()||!g.trim()){Ue.error(W("fillAllFields",i)),P(!1);return}if(f.length<6){Ue.error(W("passwordTooShort",i)),P(!1);return}await n(c,f,g),Ue.success(W("accountCreated",i)),P(!1),d(""),p(""),b("");return}else{if(!c.trim()||!f.trim()){Ue.error(W("fillAllFields",i)),P(!1);return}await e(c,f),Ue.success(W("welcomeBack",i)),setTimeout(()=>t("/"),800)}}catch(I){I.code==="auth/email-already-in-use"?Ue.error(W("emailExists",i)):I.code==="auth/weak-password"?Ue.error(W("passwordWeak",i)):I.code==="auth/user-not-found"||I.code==="auth/wrong-password"?Ue.error(W("invalidEmailPassword",i)):Ue.error(I.message||W("authFailed",i))}finally{P(!1)}};return r?m.jsx(mr,{children:m.jsx("div",{className:"w-full flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-5 h-5 border-2 border-primary/30 border-t-primary rounded-full animate-spin"})})}):m.jsx(mr,{children:m.jsxs("div",{className:"w-full flex-1 flex flex-col px-5 pb-20",children:[m.jsx("div",{className:"pt-4 pb-6 border-b border-gray-100",children:m.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition font-semibold","data-testid":"button-back",children:[m.jsx(Vs,{size:20}),m.jsx("span",{children:W("back",i)})]})}),m.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[T&&m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("img",{src:T,alt:C,className:"w-32 h-32 object-contain"})}),m.jsx("h1",{className:"text-2xl font-bold text-center mb-2","data-testid":"text-title",children:W(a?"createNewAccount":"welcomeBack",i)}),m.jsx("p",{className:"text-gray-600 text-center mb-8","data-testid":"text-subtitle",children:W(a?"createAccountMsg":"loginAccountMsg",i)}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-testid":"label-username",children:W("username",i)}),m.jsx("input",{type:"text",value:g,onChange:$=>b($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",placeholder:W("username",i),"data-testid":"input-username"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-testid":"label-email",children:W("email",i)}),m.jsx("input",{type:"email",value:c,onChange:$=>d($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",placeholder:W("email",i),"data-testid":"input-email"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2","data-testid":"label-password",children:W("password",i)}),m.jsx("input",{type:"password",value:f,onChange:$=>p($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",placeholder:W("password",i),"data-testid":"input-password"})]}),m.jsx("button",{type:"submit",disabled:w,className:"w-full bg-primary text-white py-2 rounded-lg font-medium hover:bg-primary/90 transition disabled:opacity-50","data-testid":"button-submit",children:w?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),W("loading",i)]}):W(a?"signUp":"login",i)})]}),!a&&m.jsx("button",{onClick:()=>t("/forgot-password"),className:"text-center text-primary text-sm mt-4 hover:underline","data-testid":"link-forgot-password",children:W("forgotPassword",i)}),m.jsxs("div",{className:"mt-8 text-center",children:[m.jsx("p",{className:"text-gray-600 text-sm","data-testid":"text-toggle-prompt",children:W(a?"dontHaveAccount":"alreadyHaveAccount",i)}),m.jsx("button",{onClick:()=>{o(!a),d(""),p(""),b("")},className:"text-primary font-medium hover:underline mt-2","data-testid":"button-toggle-form",children:W(a?"login":"signUp",i)})]})]})]})})}function u2e(){return{apiKey:"AIzaSyApvE5ujAeaVkZ2iRAiLXtiu56t7-ighoI",authDomain:"myapp-d9024.firebaseapp.com",projectId:"myapp-d9024",storageBucket:"myapp-d9024.firebasestorage.app",messagingSenderId:"985459317658",appId:"1:985459317658:web:bee1f2fd2e4c16df74f823"}}function d2e(){return ZC().length||fx(u2e()),yP()}function f2e(){const[,t]=ji(),{language:e}=mi(),[n,r]=k.useState(""),[i,a]=k.useState(!1),[o,c]=k.useState(!1),d=async f=>{f.preventDefault(),a(!0);try{if(!n.trim()){Ue.error(W("enterYourEmail",e)),a(!1);return}const p=d2e();await Jte(p,n),c(!0),Ue.success(W("resetLinkSent",e)),setTimeout(()=>t("/login"),3e3)}catch(p){p.code==="auth/user-not-found"?Ue.error(W("emailNotFound",e)):p.code==="auth/invalid-email"?Ue.error(W("invalidEmail",e)):p.message?.includes("email-not-configured")?Ue.error(W("emailNotConfigured",e)):Ue.error(p.message||W("sendResetError",e))}finally{a(!1)}};return m.jsx(mr,{children:m.jsxs("div",{className:"w-full flex-1 flex flex-col px-5 pb-20",children:[m.jsx("div",{className:"pt-4 pb-6 border-b border-gray-100",children:m.jsxs("button",{onClick:()=>t("/login"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition font-semibold","data-testid":"button-nav-back",children:[m.jsx(Vs,{className:"w-5 h-5"}),m.jsx("span",{children:W("back",e)})]})}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[m.jsxs("div",{className:"text-center mb-8 w-full",children:[m.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[" ",W("resetPassword",e)]}),m.jsx("p",{className:"text-muted-foreground text-sm",children:W(o?"checkEmail":"resetDescription",e)})]}),o?m.jsxs("div",{className:"w-full max-w-xs bg-green-50 border border-green-200 rounded-2xl p-6 text-center",children:[m.jsx("p",{className:"text-green-700 font-semibold",children:W("resetLinkSent",e)}),m.jsx("p",{className:"text-sm text-green-600 mt-2",children:W("redirectingToLogin",e)})]}):m.jsxs("form",{onSubmit:d,className:"w-full max-w-xs space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",htmlFor:"email",children:W("email",e)||"Email"}),m.jsx("input",{id:"email",type:"email",value:n,onChange:f=>r(f.target.value),placeholder:W("enterEmail",e),className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","data-testid":"input-reset-email"})]}),m.jsx("button",{type:"submit",disabled:i,className:"w-full bg-black text-white py-4 rounded-2xl font-semibold flex items-center justify-center gap-2 hover:bg-neutral-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-send-reset",children:i?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),W("loading",e)]}):W("sendResetLink",e)})]})]})]})})}function h2e(){const[,t]=ji(),{language:e}=mi(),[n,r]=k.useState([]),[i,a]=k.useState([]),[o,c]=k.useState(!0),[d,f]=k.useState(!1),[p,g]=k.useState(null),[b,w]=k.useState({productId:"",discountPercentage:"",startDate:"",endDate:""});k.useEffect(()=>{P()},[]);const P=async()=>{c(!0);try{const R=Rt(),$=Yr(R,"discounts"),B=(await Is($)).docs.map(j=>({id:j.id,...j.data()}));r(B||[]);const N=await kx();a(N||[])}catch{Ue.error("Failed to load data")}finally{c(!1)}},T=async R=>{if(R.preventDefault(),!b.productId||!b.discountPercentage||!b.startDate||!b.endDate){Ue.error("Please fill all fields");return}f(!0);try{const $=Rt(),I={productId:b.productId,discountPercentage:parseFloat(b.discountPercentage),startDate:new Date(b.startDate+"T00:00:00Z").toISOString(),endDate:new Date(b.endDate+"T23:59:59Z").toISOString()};if(p){const B=Bt($,"discounts",p);await Cs(B,{...I,updatedAt:new Date}),Ue.success("Discount updated")}else{const B=Yr($,"discounts");await ym(B,{...I,createdAt:new Date}),Ue.success("Discount created")}w({productId:"",discountPercentage:"",startDate:"",endDate:""}),g(null),P()}catch{Ue.error("Error saving discount")}finally{f(!1)}},A=async R=>{if(confirm("Delete this discount?"))try{const $=Rt(),I=Bt($,"discounts",R);await gm(I),Ue.success("Discount deleted"),P()}catch{Ue.error("Error deleting discount")}},C=R=>{w({productId:R.productId,discountPercentage:R.discountPercentage,startDate:R.startDate.split("T")[0],endDate:R.endDate.split("T")[0]}),g(R.id)},D=R=>{const $=i.find(I=>String(I.id)===String(R));return $?.title||$?.name||R};return m.jsxs(mr,{children:[m.jsxs("div",{className:"w-full flex-1 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 pb-4 pt-2 flex items-center gap-4 border-b border-gray-100 flex-shrink-0",children:[m.jsx("button",{onClick:()=>t("/profile"),className:"w-10 h-10 rounded-full bg-white border border-gray-100 flex items-center justify-center","data-testid":"button-back",children:m.jsx(Vs,{className:"w-5 h-5"})}),m.jsx("h1",{className:"text-xl font-bold",children:"Discounts"})]}),o?m.jsx("div",{className:"flex-1 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-4 border-gray-200 border-t-primary rounded-full animate-spin"})}):m.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-40 w-full",children:m.jsxs("div",{className:"w-full px-5 py-4",children:[m.jsxs("form",{onSubmit:T,className:"bg-white rounded-2xl border border-gray-100 p-4 mb-6 space-y-4",children:[m.jsx("h2",{className:"font-semibold text-lg",children:p?"Edit Discount":"Add New Discount"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Product"}),m.jsxs("select",{value:b.productId,onChange:R=>w({...b,productId:R.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":"select-product",children:[m.jsx("option",{value:"",children:"Select Product"}),i.map(R=>m.jsx("option",{value:R.id,children:R.title||R.name},R.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Discount % "}),m.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:b.discountPercentage,onChange:R=>w({...b,discountPercentage:R.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm",placeholder:"10","data-testid":"input-discount"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Start Date"}),m.jsx("input",{type:"date",value:b.startDate,onChange:R=>w({...b,startDate:R.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":"input-start-date"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-2",children:"End Date"}),m.jsx("input",{type:"date",value:b.endDate,onChange:R=>w({...b,endDate:R.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm","data-testid":"input-end-date"})]})]}),m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-black text-white py-3 rounded-lg font-semibold disabled:opacity-50","data-testid":"button-save-discount",children:d?"Saving...":p?"Update":"Add Discount"}),p&&m.jsx("button",{type:"button",onClick:()=>{g(null),w({productId:"",discountPercentage:"",startDate:"",endDate:""})},className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold","data-testid":"button-cancel",children:"Cancel"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("h2",{className:"font-semibold text-lg",children:["Active Discounts (",n.length,")"]}),n.length===0?m.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No discounts yet"}):n.map(R=>m.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 p-4",children:[m.jsxs("div",{className:"flex items-start justify-between mb-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-semibold text-sm",children:D(R.productId)}),m.jsxs("p",{className:"text-sm text-amber-600 font-bold",children:[R.discountPercentage,"% OFF"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>C(R),className:"p-2 hover:bg-blue-50 rounded-lg","data-testid":"button-edit-L.E discount.id}",children:m.jsx(Bf,{className:"w-4 h-4 text-blue-600"})}),m.jsx("button",{onClick:()=>A(R.id),className:"p-2 hover:bg-red-50 rounded-lg","data-testid":"button-delete-L.E discount.id}",children:m.jsx(Zb,{className:"w-4 h-4 text-red-600"})})]})]}),m.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(R.startDate).toLocaleDateString()," - ",new Date(R.endDate).toLocaleDateString()]})]},R.id))]})]})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:m.jsx(Bs,{})})]})}function p2e(){return m.jsxs(wZ,{children:[m.jsx(ca,{path:"/",component:Ffe}),m.jsx(ca,{path:"/login",component:c2e}),m.jsx(ca,{path:"/forgot-password",component:f2e}),m.jsx(ca,{path:"/profile",component:ROe}),m.jsx(ca,{path:"/delivery",component:DOe}),m.jsx(ca,{path:"/delivery-order/:id",component:VOe}),m.jsx(ca,{path:"/delivery-order-info/:id",component:BOe}),m.jsx(ca,{path:"/settings",component:t2e}),m.jsx(ca,{path:"/cart",component:n2e}),m.jsx(ca,{path:"/checkout",component:r2e}),m.jsx(ca,{path:"/orders",component:a2e}),m.jsx(ca,{path:"/order/:id",component:o2e}),m.jsx(ca,{path:"/product/:id",component:l2e}),m.jsx(ca,{path:"/discounts",component:h2e}),m.jsx(ca,{component:ele})]})}function m2e(){return k.useEffect(()=>{Nse()},[]),m.jsx(TU,{base:"/storeshope",children:m.jsx(GZ,{client:ZZ,children:m.jsx(Ose,{children:m.jsx(Pse,{children:m.jsx(gJ,{children:m.jsxs(pJ,{children:[m.jsx(wY,{}),m.jsx(p2e,{})]})})})})})})}QW.createRoot(document.getElementById("root")).render(m.jsx(m2e,{}));
